[Data]
life = 2000			
power = 3000		
attack = 100		
defence = 100		
fall.defence_up = 50	
liedown.time = 60		
airjuggle = 15		
sparkno = -1			
guard.sparkno = -1
KO.echo = 0			
volume = 0			
IntPersistIndex = 0
FloatPersistIndex = 40  				

[Size]
xscale = 1	
yscale = 1			
ground.back = 15	
ground.front = 16		
air.back = 12		
air.front = 12		
height = 60			
attack.dist = 160		
proj.attack.dist = 90	
proj.doscale = 0		
head.pos = -5, -90	
mid.pos = -5, -60		
shadowoffset = 0		
draw.offset = 0,0		

[Velocity]
walk.fwd  = 3.2		
walk.back = -3.2		
run.fwd  = 8,5		
run.back = -8,5
jump.back = -5
jump.neu = 0,-8.0	
jump.fwd = 5		
runjump.back = -2.55,-8.1
runjump.fwd = 4,-8.1	
airjump.neu = 0,-8.0	
airjump.back = -3
airjump.fwd = 3

[Movement]
airjump.num = 1		
airjump.height = 35	
yaccel = .44		
stand.friction = .85	
crouch.friction = .82

[Quotes]
Victory0 = "Gosto Dessa Espera Que Tem Mais"
Victory1 = "Eu So Foda Mesmo kkkk"
Victory2 = "Vio Ai? Queria Me Peitar È Perdeu "
Victory3 = "Easy!"
Victory4 = "Mais Facil Que Isso Impossivel"
;---------------------------------------------------------------------------
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[state 0,Nothitby]
type = Nothitby
trigger1 = 1
value = SCA
time = 1

[state 0]
type = playsnd
trigger1 = time = 0
value = s0, 33
[state 0]
type = playsnd
trigger1 = time = 0
value = s0, 33

;---------------------------------------------------------------------------
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181

;---------------------------------------------------------------------------
[Statedef 181]
type = S
ctrl = 0
anim = 180
velset = 0,0

[state 0]
type = varset
trigger1 = time = 0
v = 1
value = random%3
[state 0]
type = playsnd
trigger1 = time = 0
value = s0, 40+var(1)
[state 0]
type = playsnd
trigger1 = time = 0
value = s0, 40+var(1)

[state 0]
type = assertspecial
trigger1 = time < 150
flag = roundnotover

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
[Statedef 190]
type = S
ctrl = 0
anim = 190
velset = 0,0
sprpriority = 4

[State 0, Red Lightning FXADD]
type = Explod
TriggerAll = NumExplod(504)=0
trigger1 = Time >= 0
anim = 504
ID = 504
pos = 0*Helper(999999),Fvar(16),-35*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .25*Helper(999999),Fvar(16),.25*Helper(999999),Fvar(16)
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermovetime = 999
Angle = 0+Random%180

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 5
value = S6,8
volumescale = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 5
value = S6,8
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 15
value = S6,26
volumescale = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 15
value = S6,26
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 15
value = S6,26
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 15
value = S6,26
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 =Animelem = 14
value = S10,17
volumescale = 100
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 =Animelem = 14
value = S10,17
volumescale = 100
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 =Animelem = 14
value = S10,17
volumescale = 100
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 =Animelem = 14
value = S10,17
volumescale = 100
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 =Animelem = 14
value = S10,17
volumescale = 100
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 =Animelem = 14
value = S10,17
volumescale = 100
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 =Animelem = 14
value = S10,17
volumescale = 100
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =Animelem = 9
value = S10,19
volumescale = 100
channel = -1

[State 3000, VarSet]
Type = VarSet
Trigger1 = Time >= 0
V = 12
Value = -100

[State 3000, VarAdd]
Type = VarAdd
Trigger1 = Time >= 20 && Var(12) < 0
V = 12
Value = 6

[State 3000, BGColorFX]
Type = BGPalFX
Trigger1 = Time >= 0
Time = 1
Add = Var(12),Var(12),Var(12)


[State 0, FX Raio]
type = Explod
triggerALL = AnimElemTime(3)>=0
trigger1 = timemod = 7,0
anim = 806
ID = 563
pos = -50+random%100,30-Random%20
postype = p1
facing = ifelse(random < 500,1,-1)
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 2
scale = .5,.5
ontop = ifelse(random < 500,1,-1)
ownpal = 1
removeongethit = 1
supermovetime = 999

[State 0, Explod]
type = Explod
trigger1 =animelem=13
anim =1902
ID = 1902
pos = 0,-45
postype = p1 
removetime = -1
pausemovetime = 0
scale = .5,.5
sprpriority = 99999
ontop = 0
remappal=3,9
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause =1
trans =addalpha
alpha=125,256 
persistent =1

[State 0, Explod]
type = Explod
trigger1 =animelem=13
anim =1902
ID = 1902
pos = 0,-45
postype = p1 
removetime = -1
pausemovetime = 0
scale = .5,.5
sprpriority = 99999
ontop = 0
remappal=3,9
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause =1
trans =addalpha
alpha=125,256 
persistent =1

[State 0, Explod]
type = Explod
trigger1 = animelem = 13
anim =1902
ID = 19022
pos = 0,-45
postype = p1 
removetime = -1
pausemovetime = 0
scale = .5,.5
sprpriority = 99998
ontop = 0
remappal=3,9
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause =1
trans =addalpha
alpha=30,256 
persistent =1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Animelem = 15
id = 19022
ignorehitpause =1 
persistent =3 

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Animelem = 15
id = 1902
ignorehitpause =1 
persistent =3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Animelem = 26
id = 550
ignorehitpause =1 
persistent =3


[state 0]
type = explod
trigger1 = time = 70
anim = 556
id = 550
pos =  0, 6
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 2
scale = const(size.xscale) * .3, const(size.yscale) * .325
angle = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
remappal = 3,9
persistent = 1

[state 0]
type = explod
trigger1 = time = 70
anim = 556
id = 550
pos =  0, 6
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 0
scale = const(size.xscale) * .3, const(size.yscale) * .325
angle = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
remappal = 3,0
pausemovetime = 999
trans = sub
persistent = 1

[State 190, 1] 
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 190, 2] 
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4] 
type = ChangeState
trigger1 = AnimTime = 0
value = 0
removeexplod = 1
;-------------------------------------------------------------------------
[state 0]
type = stopsnd
trigger1 = ((prevstateno = 9500) && (time = 1))
channel = 2
[state 0]
type = stopsnd
trigger1 = ((prevstateno = 9500) && (time = 1))
channel = 3
[state 0]
type = removeexplod
trigger1 = ((prevstateno = 9500) && (time = 1)) || (stateno != 9500)
id = 9550

[state 0]
type = helper
triggerall = numhelper(9951) = 0
trigger1 = ((prevstateno = 9500) && (time = 1))
stateno = 9551
id = 9551
pos = 0, 0
postype = p1
supermovetime = 999
pausemovetime = 999

[Quotes]
Victory0 = "Gosto Dessa Espera Que Tem Mais"
Victory1 = "Eu So Foda Mesmo kkkk"
Victory2 = "Vio Ai? Queria Me Peitar, È Perdeu "
Victory3 = "Easy!"
Victory4 = "Mais Facil Que Isso Impossivel"
;----------------------------------------------------------
; P2
[Statedef 321]
type    = S
movetype= H
physics = N
juggle  = 0
anim = 5110
ctrl = 0
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = Time = 1
value = 323
ctrl = 0
;----------------------------------------------------------
[Statedef 323]
type    = S
movetype= H
physics = N
juggle  = 0
anim = 5110
ctrl = 0
velset = -13,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S5,53
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S5,53
volume = 50


[State 0, Shockwave]
type = Explod
trigger1 = timemod = 4,0
trigger2 = time = 0
anim = 7045
ID = 7045
pos = 0,-10*Helper(999999),Fvar(16)
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
vel = -.5,-.5
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Rocas]
type = Helper
trigger1 = timemod = 1,0
helpertype = normal
name = "Rocas"
ID = 8270
stateno = 8270
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .1*Helper(999999),Fvar(16)
size.yscale = .1*Helper(999999),Fvar(16)

[State 0, Speed FX]
type = Explod
trigger1 = timemod = 2,0
anim = 199
id = 199
pos = (10-random%25)*Helper(999999),Fvar(16),(-5-random%30)*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = -1
vel = -2,0
bindtime = 1
removetime = -2
scale = .15*Helper(999999),Fvar(16),.15*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
Angle = -90
removeongethit = 1
ignorehitpause = 1
pausemovetime = 99999

[State 0, Roto]
type = Explod
trigger1 = timemod = 4,0
anim = 8263
ID = 8263
pos = 0,0
postype = p1
scale = .75*Helper(999999),Fvar(16),.75*Helper(999999),Fvar(16)
sprpriority = -9
ontop = 0
ownpal = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,1

[State 0, ChangeState]
type = ChangeState
trigger1 = backedgebodydist < 5
value = 455
ctrl = 0
;-------------------------------------------------------------------------------
[Statedef 322]
type    = S
movetype= A
physics = N
juggle  = 0
ctrl = 0
anim = 221
poweradd = 50
velset = 0,0
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,11
volumescale = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,11
volumescale = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,11
volumescale = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,11
volumescale = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 7,0
value = S400,13
volumescale = 60

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 20,0
value = S400,14
volumescale = 60

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,5
value = S400,17
volumescale = 90

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 0
add = -999,0-999,0-999
time = 130

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time >= 80
add = -256+time*5-400,-256+time*5-400,-256+time*5-400
time = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -20

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 150
freq = 80
ampl = -4

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 120
value = 311
ctrl = 0
;--------------------------------------------------------
[statedef 356]
type = u
movetype = a
physics = n
anim = 405
ctrl = 0
sprpriority = 2

[state 0]
type = playsnd
trigger1 = !time
value = s1, 20

[state 0]
type = assertspecial
trigger1 = 1
flag = noshadow

[state 0]
type = nothitby
trigger1 = 1
value = sca, na, sa, ha, np, sp, hp, nt, st, ht
time = 999999999999

[state 0]
type = angledraw
trigger1 = 1
value = 1 + (time * 25)

[state 0]
type = velset
trigger1 = time = 0
x = -3
y = -4

[state 0]
type = veladd
trigger1 = 1
y = .5

[state 0]
type = helper
trigger1 = (!time) && (enemynear, numhelper(98025) = 0)
stateno = 800
id = 031
pos = -5 + (random % 5), -15 + (random % 5)
postype = p1
ownpal = 1
size.xscale = .35
size.yscale = .35
ignorehitpause = 1
persistent = 0

[state 0]
type = destroyself
trigger1 = (time = 40) || (frontedgedist <= -40)
;-------------------------------------------------------------------------------
; P2 - Fall
[Statedef 8326]
type    = A
movetype= I
physics = N
anim = 9999
sprpriority = 1

[State 2001, PosAdd]
type = PosAdd
trigger1 = 1
y = 0
x = p2dist x 

[State 0, Wall Impact]
type = Explod
trigger1 = time = 0
anim = 8260
ID = 8260
pos = 0,6
postype = P2  ;P2, Front, Back, Left, Right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = .2,.22
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 200, End]
type = Destroyself
trigger1 = p2stateno != 8324
;-------------------------------------------------------------------------------
; P2 - Thrown
[Statedef 8325]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S5,53
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S5,53
volume = 50

[State 2001, PosAdd]
type = PosAdd
trigger1 = 1
x = p2dist x

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Dash FX]
type = Explod
trigger1 = timemod = 6,0
trigger2 = time = 0
anim = 450
ID = 450
pos = 0,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
vel = -.5,0
angle = atan (enemy,vel y / enemy,vel x) * 180 / PI
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1


[State 0, Dash FX]
type = Explod
trigger1 = timemod = 6,0
trigger2 = time = 0
anim = 7045
ID = 7045
pos = 0,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
vel = -.5,0
angle = atan (enemy,vel y / enemy,vel x) * 180 / PI
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1

[state 0,Speed FX1]
Type = Explod
trigger1 = timemod = 2,0
trigger2 = time = 0
Anim = 199
ID = 199
Pos = (10-Random%20),(-10-Random%30)
PosType = p2
Vel = 1,0
Facing = -1
VFacing = 1
BindTime = 1
RemoveTime = -2
Scale = .2,.1
Sprpriority = 3
Ownpal = 1
RemoveonGetHit = 1
IgnoreHitPause = 1
Trans = Sub
angle = -90+atan (enemy,vel y / enemy,vel x) * 180 / PI

[State 200, End]
type = Destroyself
trigger1 = enemy,stateno != 8323
;-------------------------------------------------------------------------------
[Statedef 8323]
type    = A
movetype= H
physics = A
juggle  = 1
;velset = -12,0
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5022+var(10)
elem = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -atan (vel y / vel x) * 180 / PI
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,AA,AP,AT
time = 5

[State 200, End]
type = ChangeState
trigger1 = backedgebodydist < 5
trigger1 = Pos Y <= -8
value = 8301

[State 200, End]
type = ChangeState
trigger1 = Time = 25
value = 8307

[State 200, End]
type = ChangeState
trigger1 = Pos Y >= -6
value = 8324
;-------------------------------------------------------------------------------
[Statedef 8307]
type    = A
movetype= H
physics = A
juggle  = 1
ctrl = 0
sprpriority = 1


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5061+var(10)
elem = 1

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = -15
y = -1

[State 0, VelAdd X]
type = VelAdd
Trigger1 = Vel X < 2
x = 2

[State 0, VelAdd Y]
type = VelAdd
Trigger1 = Time = 1
Y = 2

[State 200, End]
type = Selfstate
trigger1 = time = 1
value = 5050
ctrl = 0
;-------------------------------------------------------------------------------
[Statedef 8301]
type    = A
movetype= H
physics = A
juggle  = 1
velset = 2,-4
ctrl = 0
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,11
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,11
volume = 50

[State 0, Tierra Impact]
type = Explod
trigger1 = time = 0
anim = 8260
ID = 8260
pos = -10*Helper(999999),Fvar(16),0*Helper(999999),Fvar(16)
postype = p1
facing = -1
bindtime = 1
removetime = -2
scale = .4*Helper(999999),Fvar(16),.45*Helper(999999),Fvar(16)
sprpriority = 2
angle = 90
ontop = 1
ownpal = 1

[State 0, Tierra Pared]
type = Explod
trigger1 = time = 0
anim = 8250
ID = 8250
pos = -20,0
postype = p1
vel = -2,-2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .7,.7
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 0


[State 0, EnvShake]
type = EnvShake
trigger1 = !Time
time = 20
[State 0, LifeAdd]
type = LifeAdd
trigger1 = !Time
value = -10
kill = 1

[State 200, End]
type = Selfstate
trigger1 = time = 1
value = 5050
ctrl = 0
;-------------------------------------------------------------------------------
[Statedef 8324]
type    = A
movetype= H
physics = A
juggle  = 1
velset = -5,-3
ctrl = 0
sprpriority = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = !Time
time = 10

[State 0, LifeAdd]
type = LifeAdd
trigger1 = !Time
value = -2
kill = 1

[State 200, End]
type = Selfstate
trigger1 = time = 1
value = 5050
ctrl = 0
;-------------------------------------------------------------------------------
; P2 - Hacia la Pared
[Statedef 455]
type    = A
movetype= H
physics = N
juggle  = 1
velset = -15
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5020+ifelse(authorname = "Lucas",var(10),0)
elem = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 200, End]
type = ChangeState
trigger1 = backedgebodydist < 5
value = 456
;------------------------------------------------------------------------------
; P2 - Empotrado en la Pared
[Statedef 456]
type    = A
movetype= H
physics = A
juggle  = 1
velset = 3,-8
ctrl = 0
sprpriority = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -10

[State 200, End]
type = Selfstate
trigger1 = time = 1
value = 5050
;-------------------------------------------------------------------------------
; Helper - P2 Contra la Pared
[Statedef 460]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,11
volume = 50

[State 0, Tierra Impact]
type = Explod
trigger1 = time = 0
anim = 8260
ID = 8260
pos = -10*Helper(999999),Fvar(16),0*Helper(999999),Fvar(16)
postype = p1
facing = -1
bindtime = 1
removetime = -2
scale = .4*Helper(999999),Fvar(16),.45*Helper(999999),Fvar(16)
sprpriority = 2
angle = 90
ontop = 1
ownpal = 1

[State 0, Tierra Pared]
type = Explod
trigger1 = time = 0
anim = 8250
ID = 8250
pos = -20,0
postype = p1
vel = -2,-2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .7,.7
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State 200, End]
type = Destroyself
trigger1 = time = 1
;-------------------------------------------------------------------------------
; Polvo en P2
[Statedef 465]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 9999

[State 2001, PosAdd]
type = PosAdd
trigger1 = 1
x = p2dist x

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S5,53
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S5,53
volume = 50

[State 0, Shockwave]
type = Explod
trigger1 = timemod = 4,0
trigger2 = time = 0
anim = 7045
ID = 7045
pos = 0,-25*Helper(999999),Fvar(16)
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
vel = -.5,-.5
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1

[State 200, End]
type = Destroyself
trigger1 = enemy,stateno != 455
;-----------------------------------------------------------------------
; A - 3 p2 state
[Statedef 8000]
type    = S
movetype= H
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 2
Facep2 = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = [0,20]
x = -4
[State 0, VelSet]
type = VelSet
trigger1 = time = 21
x = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = cond(authorname = "viniciusonico"||authorname = "Mikel8888"||authorname = "Rivelio"||authorname = "Knightmare"||authorname = "InSeph",5300+var(10),5300)
elem = 1
ignorehitpause = 0

[State 200, End]
type = selfState
trigger1 = time = 50
value = 5050
ctrl = 0
;-----------------------------------------------------------------------
; P2 - indo pra trás
[Statedef 8001]
type    = A
movetype= H
physics = N
juggle  = 1
ctrl = 0
sprpriority = 2
Facep2 = 1
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = cond(pos y >= 0 ,5300+cond(authorname  = "viniciusonico"||authorname = "Mikel8888"||authorname = "Rivelio"||authorname = "Knightmare"||authorname = "InSeph",var(10),0) ,5051)
elem = 1
ignorehitpause = 1
[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0
ignorehitpause = 1
[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = gethitvar(xvel) 
[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0 && time = 0
y = gethitvar(yvel)
ignorehitpause = 1

[State 0, VelMul]
type = VelMul
triggerall = pos y >= 0
trigger1 = time = [0,41]
x = .95
[State 200, FIM]
type = selfState
trigger1 = cond( pos y >= 0 , time = 50 , time = 20)
value = 5050
ctrl = 1
;-------------------------------------------------------------------------------
; P2 - Crash in Wall
[Statedef 8005]
type    = A
movetype= H
physics = A
juggle  = 1
velset = 3,-8
ctrl = 0
sprpriority = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -10

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 580

[State 200, End]
type = Selfstate
trigger1 = time = 1
value = 5050
;-------------------------------------------------------------------------------
; P2 - Crash In Wall Impact
[Statedef 8006]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,11
volume = 250
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,11
volume = 250

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20
ampl = -7

[State 0, Tierra Pared]
type = Explod
trigger1 = time = 0
anim = 8264
ID = 8264
pos = -10*Helper(999999),Fvar(16),10*Helper(999999),Fvar(16)
postype = p1
vel = -2,-2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .7*Helper(999999),Fvar(16),.7*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State 0, Tierra Impact]
type = Explod
trigger1 = time = 0
anim = 824
ID = 824
pos = -10*Helper(999999),Fvar(16),-25*Helper(999999),Fvar(16)
postype = p1
facing = -1
bindtime = 1
removetime = -2
scale = .6*Helper(999999),Fvar(16),.45*Helper(999999),Fvar(16)
sprpriority = 2
angle = 90
Trans = Add
ontop = 1
ownpal = 1

[State 200, End]
type = Destroyself
trigger1 = time = 1
;-------------------------------------------------------------------------------
; P2 - Down Launched
[Statedef 8100]
type    = S
movetype= H
physics = N
juggle  = 1
velset = -8,10
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S9100,0
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S9100,0
volume = 50

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5100+var(10)
elem = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 200, End]
type = ChangeState
trigger1 = pos y > 0
value = 8105

[State 200, End]
type = ChangeState
trigger1 = backedgebodydist < 5
value = 8005
;-------------------------------------------------------------------------------
; P2 - In Floor
[Statedef 8105]
type    = S
movetype= H
physics = N
juggle  = 1
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 199

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time < 15
value = -1
kill = 1

[State 0, VelSet]
type = VelSet
trigger1 = time < 15
x = -4
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 15
x = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time < 15
value = 5101+var(10)
elem = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 15
value = 5110+var(10)
elem = 1

[State 200, End]
type = Selfstate
trigger1 = time = 50
value = ifelse(alive,5120,5150)

[State 200, End]
type = ChangeState
trigger1 = backedgebodydist < 5
value = 8005
;-------------------------------------------------------------------------------
; P2 - Fall in Ground
[Statedef 8150]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S9103,4
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S9103,4
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S9103,4
volume = 50


[State 0, Speed FX]
type = Explod
triggerall = time = [0,15]
trigger1 = timemod = 2,0
anim = 199
id = 199
pos = (10-random%30)*Helper(999999),Fvar(16),(-5-random%35)*Helper(999999),Fvar(16)
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .4*Helper(999999),Fvar(16),.15*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Angle = -45
trans = sub
pausemovetime = 99999

[State 200, End]
type = Destroyself
trigger1 = time = 50
;-------------------------------------------------------------------------------
; P2 - Slidding in Floor
[Statedef 8160]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S100,3
volume = 50

[State 2001, PosAdd]
type = PosAdd
trigger1 = 1
x = p2dist x

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Roto]
type = Explod
triggerall = time < 15
triggerall = pos y = 0
trigger1 = timemod = 8,0
anim = 8263
ID = 8263
pos = -20*Helper(999999),Fvar(16),0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5*Helper(999999),Fvar(16),.5*Helper(999999),Fvar(16)
sprpriority = -3
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State 0, Humo Suelo]
type = Explod
triggerall = time < 15
triggerall = pos y = 0
trigger1 = timemod = 5,0
anim = 8265
ID = 8265
pos = -20*Helper(999999),Fvar(16),6*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .25*Helper(999999),Fvar(16),.25*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State 200, End]
type = Destroyself
trigger1 = enemy,stateno != 8105
;-------------------------------------------------------------------------------
[Statedef 8200]
type    = S
movetype= H
physics = N
juggle  = 1
velset = 0,15
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S5,53
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S5,53
volume = 50

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5100+var(10)

[State 200, End]
type = ChangeState
trigger1 = pos y > 0
value = 8205
;-------------------------------------------------------------------------------
; P2 - Crash In Floor
[Statedef 8205]
type    = S
movetype= H
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 0
Facep2 = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 199

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5110+var(10)
elem = 1

[State 200, End]
type = Selfstate
trigger1 = time = 200
value = ifelse(alive,5120,5150)
ctrl = 1
;-------------------------------------------------------------------------------
; P2 - Crash In Floor
[Statedef 8900]
type    = S
movetype= H
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 0
Facep2 = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 199

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5110+var(10)
elem = 1

[State 200, End]
type = Selfstate
trigger1 = time = 200
value = ifelse(alive,5120,5150)
ctrl = 1
;-------------------------------------------------------------------------------
; P2 - Thrown
[Statedef 8250]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,11
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,11
volume = 50

[State 2001, PosAdd]
type = PosAdd
trigger1 = 1
x = p2dist x

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 200, End]
type = Destroyself
trigger1 = enemy,stateno != 8200
;-------------------------------------------------------------------------------
; P2 - Crash In Floor Impact
[Statedef 8260]
type = S
physics = N
velset = 0,0
anim = 9999
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20
ampl = -7

[State 0, Tierra Impact]
type = Explod
trigger1 = time = 0
anim = 8260
ID = 8260
pos = 0,-30*Helper(999999),Fvar(16)
postype = p1
bindtime = 1
removetime = -2
scale = .4*Helper(999999),Fvar(16),.45*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1

[State 0, Roto]
type = Explod
trigger1 = time = 0
anim = 8263
ID = 8263
pos = 0,0
postype = p1
scale = .75*Helper(999999),Fvar(16),.75*Helper(999999),Fvar(16)
sprpriority = -9
ontop = 0
ownpal = 1

[State 0, Humo]
type = Explod
trigger1 = time = 0
anim = 8264
ID = 8264
pos = -5*Helper(999999),Fvar(16),25*Helper(999999),Fvar(16)
postype = p1
scale = .4*Helper(999999),Fvar(16),.4*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1

[State 201, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Rocas"
ID = 950
stateno = 950
pos = 0,0
postype = p1
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = 1*Helper(999999),Fvar(16)
size.yscale = 1*Helper(999999),Fvar(16)


[State 0, Rocas]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Rocas"
ID = 8270
stateno = 8270
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)
[State 0, Rocas]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Rocas"
ID = 8270
stateno = 8270
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)
[State 0, Rocas]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Rocas"
ID = 8270
stateno = 8270
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)
[State 0, Rocas]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Rocas"
ID = 8270
stateno = 8270
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)
[State 0, Rocas]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Rocas"
ID = 8270
stateno = 8270
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)

[State 200, End]
type = Destroyself
trigger1 = enemy,stateno = 8205
;----------------------------------------------------------------------------
; P2 - Rocas[Statedef 8270]
[statedef 8270]
type    = A
movetype= I
physics = A
sprpriority = 4

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -2+random%5
y = -4-random%4

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 3
value = ifelse(vel x >= 0,-10-random%5,10+random%5)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(3)

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2
value = random%4

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 8262
elem = var(2)

[State 200, End]
type = Changestate
trigger1 = time > 5 && pos y >= -10
value = 8275
;-------------------------------------------------------------------------------
; P2 - Rocas Fin
[Statedef 8275]
type    = S
movetype= I
physics = S

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(3)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = anim
elem = var(2)

[State 0, VarAdd]
type = VarAdd
trigger1 = time >= 20
v = 1
value = 25

[State 0, Trans]
type = Trans
trigger1 = time >= 20
trans = addalpha
alpha = 256-var(1),0+var(1)

[State 200, End]
type = Destroyself
trigger1 = var(1) >= 256
;-------------------------------------------------------------------------------
; P2 - Pressing With Floor
[Statedef 8300]
type    = S
movetype= H
physics = S
juggle  = 1
ctrl = 0
velset = 0,0
sprpriority = -1
facep2 = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5110+var(10)
elem = 1

[State 200, End]
type = Selfstate
trigger1 = time = 100
value = ifelse(alive,5120,5150)
ctrl = 1
;===========================
[StateDef 8600]
type = S
movetype= H
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 5060
sprpriority = 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 90

[State 0, VelSet]
type = VelSet
trigger1 = 1
y = 10

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y>=0
value = 8601
;-------------------------------------------------------------------------------
; P2 - In Floor
[Statedef 37102]
type    = S
movetype= H
physics = N
juggle  = 1
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time < 15
value = -1
kill = 1

[State 0, VelSet]
type = VelSet
trigger1 = time < 15
x = -40
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 15
x = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time < 15
value = 5101+var(10)
elem = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 15
value = 5110+var(10)
elem = 1

[State 200, End]
type = Selfstate
triggerall = alive
trigger1 = time = 50
value = 5120

[State 200, End]
type = Selfstate
triggerall = !alive
trigger1 = time = 50
value = 5150

[State 200, End]
type = ChangeState
trigger1 = backedgebodydist < 5
value = 8005
;-------------------------------------------------------------------------------
; P2 - Slidding in Floor
[Statedef 37103]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S5,53
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S5,53

[State 2001, PosAdd]
type = PosAdd
trigger1 = 1
x = p2dist x

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Shockwave]
type = Explod
triggerall = time < 15
triggerall = pos y = 0
trigger1 = timemod = 2,0
anim = 1460
ID = 1460
pos = 0,-25*Helper(999999),Fvar(16)
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3*Helper(999999),Fvar(16),.3*Helper(999999),Fvar(16)
vel = -.5,-.5
sprpriority = 1
ontop = 1
ownpal = 1
trans= ADd
removeongethit = 1

[State 0, Shockwave]
type = Explod
triggerall = time < 15
triggerall = pos y = 0
trigger1 = timemod = 2,0
anim = 1460
ID = 1460
pos = -10,-25*Helper(999999),Fvar(16)
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3*Helper(999999),Fvar(16),.3*Helper(999999),Fvar(16)
vel = -.5,-.5
sprpriority = 1
ontop = 1
ownpal = 1
trans= add
removeongethit = 1

[State 0, Explod]
type = Explod
triggerall = time < 15
triggerall = pos y = 0
trigger1 = timemod = 2,0
anim = 7022
ID = 1051
pos = -15,0
postype = p1
facing = -1
vfacing = 1
bindtime = 1
vel = 2,0
removetime = -2
scale = .4,.4
sprpriority = 1
ontop = 0
ownpal = 1
trans = Add
removeongethit = 1

[State 0, Floor Broken]
type = Explod
triggerall = time < 15
triggerall = pos y = 0
trigger1 = timemod = 1,0
anim = 8263
ID = 8263
pos = -20,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = -3
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State 0, Floor Dust]
type = Explod
triggerall = time < 15
triggerall = pos y = 0
trigger1 = timemod = 2,0
anim = 8265
ID = 8265
pos = -20,6
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .25,.25
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State 200, End]
type = Destroyself
trigger1 = enemy,stateno != 37102
;--------------------------------------------------
[statedef 99050]
type = s
movetype = h
physics = n
anim = 5050+ (var(10))
ctrl = 0
sprpriority = 1

;[state 0]
;type = nothitby
;trigger1 = 1
;value = sca, na, sa, ha, np, sp, hp, nt, st, ht
;time = 5

[state 0]
type = playerpush
trigger1 = 1
value = 0

[state 0]
type = posset
trigger1 = pos y >= 0
y = 0

[state 0]
type = turn
trigger1 = p2dist x <= 0

[state 0]
type = velset
trigger1 = time = 0
x = -10
y = 0
[state 0]
type = velmul
trigger1 = time >= 15
x = 1.05

[state 0]
type = changestate
trigger1 = backedgebodydist <= 5
value = 99051
[statedef 99051]
type = a
movetype = h
physics = n
ctrl = 0
sprpriority = 1

[state 0]
type = lifeadd
trigger1 = time = 0
value = -15

[state 0]
type = envshake
trigger1 = time = 0
time = 15
ampl = -5
freq = 25

[state 0]
type = selfstate
trigger1 = time = 1
value = 5070

[statedef 99055]
type = u
movetype = i
physics = n
anim = 9999
ctrl = 0

[state 0]
type = playsnd
trigger1 = time = 0
value = s9100, 0
[state 0]
type = playsnd
trigger1 = time = 0
value = s9100, 0
[state 0]
type = playsnd
trigger1 = time = 0
value = s9100, 0

[state 0]
type = posset
trigger1 = 1
y = 0

[state 0]
type = explod
triggerall = p2stateno = 99050
trigger1 = (time = 0) || (time % 6 = 0)
anim = 98050
id = 98050
pos = 0, -10
postype = p2
facing = 1
bindtime = 1
removetime = -2
sprpriority = 10
scale = .09, .6
angle = 0
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

[state 0]
type = explod
trigger1 = (time = 0) || (time % 2 = 0)
anim = 198
id = 98100
pos = 60 - (random % 40), -10 - (random % 30)
postype = p2
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = .25, .1
angle = 90
ownpal = 1
remappal = 100,1
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
vel = 5, 0

[state 0]
type = explod
trigger1 = (time = 0) || (time % 2 = 0)
anim = 98100
id = 98100
pos = 60 - (random % 40), -10 - (random % 30)
postype = p2
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = .25, .1
angle = 90
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
vel = 5, 0

[state 0]
type = explod
trigger1 = (pos y = 0) && ((time = 0) || (time % 6 = 0))
anim = 890
id = 890
pos = 0, 0
postype = p2
facing = -1
bindtime = 1
removetime = -2
sprpriority = 0
scale = .15, .2
angle = 0
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
vel = -1.5, 0
trans = sub
[state 0]
type = explod
trigger1 = (pos y = 0) && ((time = 0) || (time % 6 = 0))
anim = 890
id = 890
pos = 0, 0
postype = p2
facing = -1
bindtime = 1
removetime = -2
sprpriority = 10
scale = .15, .2
angle = 0
ownpal = 1
remappal = 3, 11
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
vel = -1.5, 0


[state 0]
type = destroyself
trigger1 = enemy, stateno != 99050

[statedef 99056]
type = u
movetype = i
physics = n
anim = 9999
ctrl = 0
sprpriority = 2

[state 0]
type = playsnd
trigger1 = time = 0
value = s9103, 4
persistent = 0
[state 0]
type = playsnd
trigger1 = time = 0
value = s9103, 4
persistent = 0
[state 0]
type = playsnd
trigger1 = time = 0
value = s9103, 4
persistent = 0


[state 0]
type = explod
trigger1 = time = 0
anim = 99050
id = 99050
pos = -15, 0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 0
scale = .5, .5
angle = -90
ownpal = 1
remappal = 3,6
removeongethit = 0
ignorehitpause = 0
supermovetime = 999
pausemovetime = 999
vel = .25, 0
trans = sub
persistent = 0
[state 0]
type = explod
trigger1 = time = 0
anim = 99050
id = 99050
pos = -15, 0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5
scale = .5, .5
angle = -90
ownpal = 1
remappal = 3,6
removeongethit = 0
ignorehitpause = 0
supermovetime = 999
pausemovetime = 999
vel = .25, 0
persistent = 0

[state 0]
type = explod
trigger1 = time = 0
anim = 99060
id = 99060
pos = -20, 0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 0
scale = .5, .5
angle = -90
ownpal = 1
remappal = 3,6
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = sub
persistent = 0
[state 0]
type = explod
trigger1 = time = 0
anim = 99060
id = 99060
pos = -20, 0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = .5, .5
angle = -90
ownpal = 1
remappal = 3,6
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
persistent = 0

[state 0]
type = explod
trigger1 = time = 0
anim = 807
id = 807
pos = 125,70
vel = -1,-1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 0
scale = .5,.5
angle = 0
ownpal = 1
remappal = 0,0
removeongethit = 0
ignorehitpause = 0
supermovetime = 999
pausemovetime = 999
trans = sub
[state 0]
type = explod
trigger1 = time = 0
anim = 807
id = 807
pos = 125,70
vel = -1,-1
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 3
scale = .5,.5
angle = 0
ownpal = 1
remappal = 3,2
removeongethit = 0
ignorehitpause = 0
supermovetime = 999
pausemovetime = 999

[state 0]
type = destroyself
trigger1 = time = 1

[statedef 99060]
type = s
movetype = h
physics = n
anim = 6
ctrl = 0
sprpriority = 1
facep2 = 1

[state 0]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[state 0]
type = velset
trigger1 = time = 0
x = -7
y = 8

[state 0]
type = changeanim
trigger1 = 1
value = 5100 + (var(10))
elem = 1

[state 0]
type = changestate
trigger1 = pos y > 0
value = 99061
;---------------------------------
[statedef 99061]
type = s
movetype = h
physics = n
ctrl = 0
sprpriority = 1
facep2 = 1

[state 0]
type = removeexplod
trigger1 = time = 0
id = 98100

[state 0]
type = lifeadd
trigger1 = time <= 15
value = -1
kill = 1

[state 0]
type = posset
trigger1 = time = 0
y = 0

[state 0]
type = velset
trigger1 = time = 0
x = -7
y = 0

[state 0]
type = velset
trigger1 = time >= 15
x = 0
y = 0

[state 0]
type = assertspecial
trigger1 = 1
flag = noautoturn

[state 0]
type = changeanim
trigger1 = time <= 15
value = 5101 + (var(10))
elem = 1

[state 0]
type = changeanim
trigger1 = time >= 15
value = 5110 + (var(10))
elem = 1

[state 0]
type = selfstate
triggerall = alive
trigger1 = time = 40
value = 5120

[state 0]
type = selfstate
triggerall = !alive
trigger1 = time = 40
value = 5150

[state 0]
type = changestate
trigger1 = backedgebodydist <= 5
value = 99050
;-------------------------------------------------------------
; Power Charge
[statedef 500]
type = S
movetype = I
physics = N
anim = 500
ctrl = 0
velset = 0,0
sprpriority = 2
facep2 = 1

[State 0, Red Lightning FXADD]
type = Explod
TriggerAll = NumExplod(504)=0
trigger1 = Time >= 0
anim = 504
ID = 504
pos = 0*Helper(999999),Fvar(16),-35*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .25*Helper(999999),Fvar(16),.25*Helper(999999),Fvar(16)
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermovetime = 999
Angle = 0+Random%180

[State 0, Red Lightning FXADD]
type = Explod
TriggerAll = NumExplod(505)=0
trigger1 = Time >= 0
anim = 504
ID = 505
pos = 0*Helper(999999),Fvar(16),-15*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .25*Helper(999999),Fvar(16),.25*Helper(999999),Fvar(16)
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermovetime = 999
Angle = 0+Random%180

[State 0, Helper]
type = Helper
triggerall = animexist(anim)&&selfanimexist(anim)
trigger1 = !gethitvar(damage)&(gametime%15=0)
name = "Base AfterImage"
ID = 1993
stateno = 1993
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999


[State 0, Red Lightning FXADD]
type = Explod
TriggerAll = NumExplod(504)=0
trigger1 = Time%5 = 0
anim = 504
ID = 504
pos = 0*Helper(999999),Fvar(16),-0*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .25*Helper(999999),Fvar(16),.25*Helper(999999),Fvar(16)
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermovetime = 999
Angle = 0+Random%180


[State 0, Pulsacion de color]
type = PalFX
trigger1 = 1
time = 1
add = 0,65 + ceil(sin(Time / 6.0 * pi) * 65), 100 + ceil(sin(Time / 6.0 * pi) * 100)

[State 0,Viento]
type = Explod
TriggerALL = Time >= 10
trigger1 = Time%10 = 0
anim = 7022
ID = 7022
pos = -5,5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.4
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1

[State 0,Viento]
type = Explod
TriggerALL = Time >= 10
trigger1 = Time%10 = 0
anim = 7022
ID = 7022
pos = 5,-2
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.4
vel = 2,0
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0,Viento]
type = Explod
TriggerALL = Time >= 10
trigger1 = Time%10 = 0
anim = 890
ID = 890
pos = -15,1
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.25
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1

[State 0,Viento]
type = Explod
TriggerALL = Time >= 10
trigger1 = Time%10 = 0
anim = 891
ID = 891
pos = 15,1
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.25
vel = 2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
Triggerall = Time >= 6
trigger1 = timemod = 7,0
anim = 892
ID = 892
pos = 0,0
postype = p1  
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.4,0.4
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, Pause]
type = Pause
trigger1 = animelem = 1
time = 4
movetime = 1

[State 0, Aura Wave]
type = Helper
trigger1 = AnimElemTime(1)=0
helpertype = normal
name = "Aura Wave"
ID = 570
facing = 1
stateno = 570
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1
Supermovetime = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = 999,0
volume = 10
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=0
value = S2001,1
volume = 0
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1=time>5
trigger1 = timemod=25,1
value = S2001,2
volume = 0
channel = 20


[state 0]
type = poweradd
triggerall = time >= 12
trigger1 = 1
value = 11

[state 0]
type = helper
trigger1 = (time % 10 = 0) && (time >= 6)
stateno = 8060
id = 8060
pos = 0, 0
postype = p1
supermovetime = 999
pausemovetime = 999

[state 0]
type = helper
trigger1 = time = 10
stateno = 99550
id = 99551
postype = p1
ownpal = 1
supermovetime = 999
pausemovetime = 999
size.xscale = .9
size.yscale = .8

[state 0]
type = changestate
trigger1 = ((ailevel = 0) && (time >= 8)) && (command = "FF")
value = cond(pos y != 0, 110, 100)
[state 0]
type = changestate
trigger1 = ((ailevel = 0) && (time >= 8)) && (command = "BB")
value = cond(pos y != 0, 115, 105)

[state 0]
type = changestate
trigger1 = ((ailevel = 0) && (time >= 5)) && ((command != "hold_s") || (power >= powermax))
value = 501
;-------------------------------------------------------------------------------
; Power Charge End
[statedef 501]
type = s
movetype = i
physics = n
anim = 501
ctrl = 0
velset = 0, 0
sprpriority = 2
facep2 = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = -1

[State 0, Aura Wave]
type = Helper
trigger1 = AnimElemTime(1)=0
helpertype = normal
name = "Aura Wave"
ID = 570
facing = 1
stateno = 570
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1
Supermovetime = 999

[State 0, Explod]
type = Explod
triggerall = pos y = 0
trigger1 = animelem = 1
anim = 890
ID = 900
pos = -17,1
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .4,.4
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
triggerall = pos y = 0
trigger1 = animelem = 1
anim = 891
ID = 902
pos = 17,1
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .4,.4
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0,EnvShake]
type = EnvShake
trigger1 = AnimElemTime(1)=0
time = 15
ampl = -10
freq = 35

[state 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------------------------------------------------------
[statedef 8090]
type = u
sprpriority = 5

[state 0]
type = nothitby
trigger1 = 1
value = sca,na,sa,ha,np,sp,hp,nt,st,ht
time = -1
ignorehitpause = 1

[State 0]
Type = Helper
Trigger1 = Time%1 = 0
ID = 101
StateNO = 101
IgnoreHitPause = 1

[state 0]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[state 0]
type = turn
trigger1 = facing != root, facing
ignorehitpause = 1

[state 0]
type = angledraw
trigger1 = 1
scale = 1 + (time * .015), 1 + (time * .015)
value = 0

[state 0]
type = trans
trigger1 = 1
trans = addalpha
alpha = 150 - ((time) * 10), 165 + ((time) * 15)

[state 0]
type = assertspecial
trigger1 = 1
flag = noshadow

[state 0]
type = changeanim
trigger1 = 1
value = root,anim
elem = root,animelemno(0)
ignorehitpause = 1

[state 0]
type = destroyself
trigger1 = time = 15
;------------------------------------------
[statedef 8061]
type = u
sprpriority = 5

[state 0]
type = changeanim
trigger1 = 1
value = parent, anim
elem = parent, animelemno(0)
ignorehitpause = 1

[state 0]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[state 0]
type = turn
trigger1 = facing != parent, facing
ignorehitpause = 1

[state 0]
type = nothitby
trigger1 = 1
value = sca, na, sa, ha, np, sp, hp, nt, st, ht
time = -1
ignorehitpause = 1

[state 0]
type = angledraw
trigger1 = 1
scale = 1 + (time * .01), 1 + (time * .01)
value = 0

[state 0]
type = trans
trigger1 = 1
trans = addalpha
alpha = 150 - ((time) * 10), 165 + ((time) * 15)

[state 0]
type = assertspecial
trigger1 = 1
flag = noshadow

[state 0]
type = destroyself
trigger1 = time = 15
;------------------------------------------------------------------------------
;Outra Image
;-------------------------------------------------------------------------------
[statedef 8062]
type = U
sprpriority = 5

[state 0]
type = nothitby
trigger1 = 1
value = sca,na,sa,ha,np,sp,hp,nt,st,ht
time = -1
ignorehitpause = 1

[state 0]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[state 0]
type = turn
trigger1 = facing != root, facing
ignorehitpause = 1

[State 0]
type = offset
trigger1 = 1
x = var(2)
y = var(3)

[state 0]
type = angledraw
trigger1 = 1
scale = 1 + (time * .015), 1 + (time * .015)
value = 0

[state 0]
type = trans
trigger1 = 1
trans = addalpha
alpha = 130 - ((time) * 10), 145 + ((time) * 15)

[State 0]
type = varrandom
trigger1 = 1
v = 2
range = -5,5
[State 0]
type = varrandom
trigger1 = 1
v = 3
range = -5,5

[state 0]
type = assertspecial
trigger1 = 1
flag = noshadow

[state 0]
type = changeanim
trigger1 = 1
value = root,anim
elem = root,animelemno(0)
ignorehitpause = 1
[state 0]
type = changeanim
trigger1 = 1
value = parent,anim
elem = parent,animelemno(0)
ignorehitpause = 1

[state 0]
type = destroyself
trigger1 = time = 15

[statedef 99550]
type = u
anim = 9999

[state 0]
type = remappal
trigger1 = 1
source = 3,0
dest = 110,root,var(3)

[state 0]
type = assertspecial
trigger1 = 1
flag = noshadow

[state 0]
type = bindtoroot
trigger1 = 1
pos = 0, 4

[state 0]
type = envshake
trigger1 = time % 10 = 0
time = 10
ampl = -2
freq = 6

[state 0]
type = stopsnd
trigger1 = ((root, stateno != root, stateno) || (root, movetype = h))
channel = 1
[state 0]
type = stopsnd
trigger1 = ((root, stateno != root, stateno) || (root, movetype = h))
channel = 2
[state 0]
type = removeexplod
trigger1 = ((root, stateno != root, stateno) || (root, movetype = h))
id = 550


[state 0]
type = explod
triggerall = ishelper(99551)
trigger1 = time = 0
anim = 555
id = 550
pos =  2, -10
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 4
scale = const(size.xscale) * .5, const(size.yscale) * .6
angle = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
remappal = 3,9
persistent = 1

[state 0]
type = explod
triggerall = ishelper(99551)
trigger1 = time = 0
anim = 555
id = 550
pos =  2, -10
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 0
scale = const(size.xscale) * .5, const(size.yscale) * .6
angle = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
remappal = 3,0
pausemovetime = 999
trans = sub
persistent = 1

[state 0]
type = explod
triggerall = ishelper(99551)
trigger1 = time = 0
anim = 555
id = 550
pos =  2, -10
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 0
scale = const(size.xscale) * .5, const(size.yscale) * .6
angle = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
remappal = 3,0
pausemovetime = 999
trans = sub
persistent = 1

[state 0]
type = explod
triggerall = ishelper(99551)
trigger1 = time = 0
anim = 557
id = 550
pos =  2, -10
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 5
scale = const(size.xscale) * .15, const(size.yscale) * .15
angle = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
remappal = 3,9
persistent = 1

[state 0]
type = explod
triggerall = ishelper(99551)
trigger1 = time = 0
anim = 557
id = 550
pos =  2, -10
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 0
scale = const(size.xscale) * .15, const(size.yscale) * .15
angle = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
remappal = 3,0
pausemovetime = 999
trans = sub
persistent = 1

[state 0]
type = explod
triggerall = ishelper(99551)
trigger1 = time = 0
anim = 557
id = 550
pos =  2, -10
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 0
scale = const(size.xscale) * .15, const(size.yscale) * .15
angle = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
remappal = 3,0
pausemovetime = 999
trans = sub
persistent = 1

[state 0]
type = explod
triggerall = ishelper(99551)
trigger1 = time = 0
anim = 556
id = 550
pos =  0, 0
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 2
scale = const(size.xscale) * .3, const(size.yscale) * .325
angle = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
remappal = 3,9
persistent = 1

[state 0]
type = explod
triggerall = ishelper(99551)
trigger1 = time = 0
anim = 556
id = 550
pos =  0, 0
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 0
scale = const(size.xscale) * .3, const(size.yscale) * .325
angle = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
remappal = 3,0
pausemovetime = 999
trans = sub
persistent = 1

[state 0]
type = explod
triggerall = ishelper(99551)
trigger1 = time = 0
anim = 556
id = 550
pos =  0, 0
postype = p1
facing = 1
bindtime = -1
removetime = -1
sprpriority = 2
scale = const(size.xscale) * .3, const(size.yscale) * .325
angle = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
remappal = 100,6
persistent = 1
trans = sub

[state 0]
type = changestate
trigger1 = (root, stateno != 500) || (root, movetype = h)
value = 99551
ignorehitpause = 1

[statedef 99551]
type = u
anim = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=0
value = S2001,0
volume = 0
channel = -1

[state 0]
type = removeexplod
trigger1 = time = 0
id = 550

[state 0]
type = stopsnd
trigger1 = time = 0
channel = 2

[state 0]
type = envshake
trigger1 = time = 0
time = 15
ampl = -5
freq = 12

[state 0]
type = explod
trigger1 = time = 0
anim = 9551
id = 99560
pos = 0, 0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 3
scale = .25, .25
angle = 0
ownpal = 1
remappal = 3,9
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

[state 0]
type = explod
trigger1 = time = 0
anim = 9551
id = 99560
pos = 0, 0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 0
scale = .25, .25
angle = 0
ownpal = 1
remappal = 3, 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = sub

[state 0]
type = destroyself
trigger1 = time >= 10
;----------------------------------------------------------------
[Statedef 560]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = -1

[State 0, Turn]
type = Turn
trigger1 = facing != root,facing

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 0, PalFXWiz]
type = PalFX
trigger1 = time%20=0
time = 20
add = 256,0,0
mul = 256,256,256
sinadd = -80,-80,-80,80
invertall = 0
color = 256

[state 0]
type = null
trigger1 = var(1) := (random % 25)
trigger1 = var(2) := - (random % 35)

[state 0]
type = explod
trigger1 = timemod = 5,0
anim = 823
id = 560
pos = (random % 11) * cond(random < 500, -1, 1), -30 + (random % 30) * cond(random < 500, -1, 1)
postype = p1
vel = random % 100 * cond(random <= 500, 0.01 * (random % 2), -0.01 * (random % 2)), -0.5
accel = 0.02, -0.05 - 0.01 * (random % 4)
scale = 0.075, 0.075
ontop = cond(random <= 500, 0, 1)
ownpal = 1
ignorehitpause = 1
supermovetime = 999
remappal = 3,5
pausemovetime = 999

[state 0]
type = explod
trigger1 = timemod = 5,0
anim = 823
id = 560
pos = (random % 11) * cond(random < 500, -1, 1), -30 + (random % 30) * cond(random < 500, -1, 1)
postype = p1
vel = random % 100 * cond(random <= 500, 0.01 * (random % 2), -0.01 * (random % 2)), -0.5
accel = 0.02, -0.05 - 0.01 * (random % 4)
scale = 0.075, 0.075
ontop = cond(random <= 500, 0, 1)
ownpal = 1
ignorehitpause = 1
supermovetime = 999
remappal = 3,5
pausemovetime = 999


[state 0]
type = explod
trigger1 = timemod = 5,0
anim = 823
id = 560
pos = (random % 11) * cond(random < 500, -1, 1), -30 + (random % 30) * cond(random < 500, -1, 1)
postype = p1
vel = random % 100 * cond(random <= 500, 0.01 * (random % 2), -0.01 * (random % 2)), -0.5
accel = 0.02, -0.05 - 0.01 * (random % 4)
scale = 0.075, 0.075
ontop = cond(random <= 500, 0, 1)
ownpal = 1
ignorehitpause = 1
supermovetime = 999
remappal = 3,5
pausemovetime = 999

[state 0]
type = explod
trigger1 = (root, vel x = [-20, 3]) && (cond(root, power >= 0, time % 2 = 0, time % 3 = 0))
anim = 560
id = 560
pos = -10 + (var(1)), 5 + (var(2))
postype = p1
facing = 1
angle = 0
bindtime = 5
removetime = -2
sprpriority = cond(random < 500, 3, 1)
scale = .1, .1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = addalpha
alpha = 200, 256
vel = 0, cond(root, power >= 0, -1, - .5)

[state 0]
type = explod
trigger1 = (root, vel x  > 3) && (time % 3 = 0)
anim = 560
id = 560
pos = 15 + (var(1)), 0 + (var(2))
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = cond(random < 500, 3, 1)
scale = .1, .1
angle = 90
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999
trans = addalpha
alpha = 200, 256
vel = - .5, 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 6,0
anim = 300000
ID = 560
pos = 0,-35+random%30
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .2,.2
sprpriority = 0+cond(random%2,-2,3)
removeongethit = 1
supermovetime = 999
pausemovetime=999
angle = 0+random%360

[State 0, Explod]
type = Explod
trigger1 = timemod = 6,0
anim = 299999
ID = 560
pos = 0,-35+random%30
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = -2
scale = .1,.1
supermovetime = 999
pausemovetime=999
sprpriority = 0+cond(random%2,-2,3)
removeongethit = 1
supermovetime = 999
angle = 0+random%360

[State 0, Explod]
type = Explod
trigger1 = timemod = 6,0
anim = 299998
ID = 560
pos = 0,-35+random%30
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = -2
scale = .1,.1
supermovetime = 999
pausemovetime=999
sprpriority = 0+cond(random%2,-2,3)
removeongethit = 1
supermovetime = 999
angle = 0+random%360

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno = 5110
trigger2 = root,stateno = 170
trigger3 = root,stateno = 3800
trigger4 = root,stateno = 180
trigger5 = root,stateno = 190
id = 560

[State 200, End]
type = Destroyself
trigger1 = root,var(2) != 0
trigger2 = root,life = 0
;--------------------------------------
[Statedef 1993]
movetype = I
anim = 999
sprpriority = 4
ctrl = 0

[State 9999, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+time*.001,1+time*.001
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
ignorehitpause = 1

[State 9999, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, anim]
type = changeanim
trigger1 = selfanimexist(root,anim)
value = (root,anim)
elem = (root,animelemno(0))

[State 0, BindToParent]
type = BindToroot
trigger1 = 1
time = 1
facing = 1
pos = 0,0

[State 0,PalFXWiz]
type=PalFX
trigger1=1
time=999999
add = -1,-500,0
mul=512,512,512
invertall=0
color=256

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 9999, SprPriority]
type = SprPriority
trigger1 = 1
value = -5

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 30
trigger2 = root,stateno = 5110
trigger3 = root,life = 0
trigger4 = root,stateno = 190
trigger5 = root,stateno = 191
;-------------------------------------------------------------------------------
; Power Charge - Aura Wave
[Statedef 570]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 570
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -1,-30

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .15+time*.05,.15+time*.05

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-(time*30),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = Time >= 20
;==================================================================================================================
; Teleport_FX
;==================================================================================================================
[Statedef 580]
Type    = S
moveType= I
physics = N
juggle  = 1
Velset = 0,-1.5
CTRL = 0
Anim = 199
sprpriority = 2

[State 0, AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
flag = NoShadow
[State 0, Trans]
Type = Trans
Trigger1 = 1
trans = Sub

[State 200, End]
Type = Destroyself
Trigger1 = AnimTime = 0
;==================================================================================================================
; Teleport_FX2
;==================================================================================================================
[Statedef 581]
Type    = S
moveType= I
physics = N
juggle  = 1
Velset = 0,-1.5
CTRL = 0
Anim = 199
sprpriority = 3

[State 0, AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
flag = NoShadow
[State 0, Trans]
Type = Trans
Trigger1 = 1
trans = AddAlpha
Alpha = 175,256

[State 200, End]
Type = Destroyself
Trigger1 = AnimTime = 0
;-------------------------------------------------------------------------------
; Camara Lenta
[Statedef 590]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, Pause]
type = Pause
trigger1 = time = [0,10]
time = 1

[State 200, End]
type = Destroyself
trigger1 = time = 20
;-------------------------------------------------------------------------------
; Camara Lenta
[Statedef 591]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, Pause]
type = Pause
trigger1 = time = [0,5]
time = 1

[State 200, End]
type = Destroyself
trigger1 = time = 10
;===============================================================================
; HELPER ESCALA:
;-------------------------------------------------------------------------------
[Statedef 999999]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = -1

[State 0, VarSet]
type = VarSet
trigger1 = 1
Fv = 16
value = 1

[State 200, End]
type = Destroyself
trigger1 = time = -1
;===============================================================================
;---------------------------Estados usados Siempre------------------------------
;===============================================================================
[Statedef -3]
;-------------------------------------------------------------------------------
;Helper de Conexiones
[State 0, Helper de Conexiones]
type = Helper
Triggerall = numhelper(700) = 0
Triggerall = numhelper(900) = 0
trigger1 =  stateno = 200 && movecontact
trigger2 =  stateno = 210 && movecontact
trigger3 =  stateno = 220 && movecontact
trigger4 =  stateno = 230 && movecontact
trigger5 =  stateno = 240 && movecontact
trigger6 =  stateno = 250 && movecontact
trigger7 =  stateno = 265 && movecontact
trigger8 =  stateno = 270 && movecontact
trigger9 =  stateno = 280 && movecontact
trigger10 =  stateno = 300 && movecontact
trigger11 =  stateno = 310 && movecontact
trigger12 =  stateno = 320 && movecontact
trigger13 =  stateno = 330 && movecontact
trigger14 =  stateno = 340 && movecontact
trigger15 =  stateno = 350 && movecontact
trigger16 =  stateno = 360 && movecontact
trigger17 =  stateno = 365 && movecontact
trigger18 =  stateno = 370 && movecontact
trigger19 =  stateno = 381 && movecontact
trigger20 =  stateno = 600 && movecontact
trigger21 =  stateno = 605 && movecontact
trigger22 =  stateno = 610 && movecontact
trigger23 =  stateno = 611 && movecontact
trigger24 =  stateno = 612 && movecontact
trigger25 =  stateno = 750 && movecontact
;------------------------------SS------------------------------
trigger26 =  stateno = 2200 && movecontact
trigger27 =  stateno = 2210 && movecontact
trigger28 =  stateno = 2220 && movecontact
trigger29 =  stateno = 2230 && movecontact
trigger30 =  stateno = 2240 && movecontact
trigger31 =  stateno = 2250 && movecontact
trigger32 =  stateno = 2265 && movecontact
trigger33 =  stateno = 2270 && movecontact
trigger34 =  stateno = 2280 && movecontact
trigger35 =  stateno = 2300 && movecontact
trigger36 =  stateno = 2310 && movecontact
trigger37 =  stateno = 2320 && movecontact
trigger38 =  stateno = 2330 && movecontact
trigger39 =  stateno = 2340 && movecontact
trigger40 =  stateno = 2350 && movecontact
trigger41 =  stateno = 2360 && movecontact
trigger42 =  stateno = 2365 && movecontact
trigger43 =  stateno = 2370 && movecontact
trigger44 =  stateno = 2380 && movecontact
trigger45 =  stateno = 2385 && movecontact
trigger46 =  stateno = 2600 && movecontact
trigger47 =  stateno = 2605 && movecontact
trigger48 =  stateno = 2610 && movecontact
trigger49 =  stateno = 2611 && movecontact
trigger50 =  stateno = 2612 && movecontact
;------------------------------SS2------------------------------
trigger51 =  stateno = 11200 && movecontact
trigger52 =  stateno = 11210 && movecontact
trigger53 =  stateno = 11220 && movecontact
trigger54 =  stateno = 11230 && movecontact
trigger55 =  stateno = 11240 && movecontact
trigger56 =  stateno = 11250 && movecontact
trigger57 =  stateno = 11260 && movecontact
trigger58 =  stateno = 11270 && movecontact
trigger59 =  stateno = 11280 && movecontact
trigger60 =  stateno = 11300 && movecontact
trigger61 =  stateno = 11310 && movecontact
trigger62 =  stateno = 11320 && movecontact
trigger63 =  stateno = 11330 && movecontact
trigger64 =  stateno = 11340 && movecontact
trigger65 =  stateno = 11350 && movecontact
trigger66 =  stateno = 11360 && movecontact
trigger67 =  stateno = 11365 && movecontact
trigger68 =  stateno = 11370 && movecontact
trigger69 =  stateno = 11380 && movecontact
trigger70 =  stateno = 11385 && movecontact
trigger71 =  stateno = 11600 && movecontact
trigger72 =  stateno = 11605 && movecontact
trigger72 =  stateno = 11610 && movecontact
trigger73 =  stateno = 11611 && movecontact
trigger74 =  stateno = 11612 && movecontact
;------------------------------SSG------------------------------
trigger75 =  stateno = 15200 && movecontact
trigger76 =  stateno = 15210 && movecontact
trigger77 =  stateno = 15220 && movecontact
trigger78 =  stateno = 15230 && movecontact
trigger79 =  stateno = 15240 && movecontact
trigger80 =  stateno = 15250 && movecontact
trigger81 =  stateno = 15260 && movecontact
trigger82 =  stateno = 15270 && movecontact
trigger83 =  stateno = 15280 && movecontact
trigger84 =  stateno = 15300 && movecontact
trigger85 =  stateno = 15310 && movecontact
trigger86 =  stateno = 15320 && movecontact
trigger87 =  stateno = 15330 && movecontact
trigger88 =  stateno = 15340 && movecontact
trigger89 =  stateno = 15350 && movecontact
trigger90 =  stateno = 15360 && movecontact
trigger91 =  stateno = 15365 && movecontact
trigger92 =  stateno = 15370 && movecontact
trigger93 =  stateno = 15380 && movecontact
trigger94 =  stateno = 15385 && movecontact
trigger95 =  stateno = 15600 && movecontact
trigger96 =  stateno = 15605 && movecontact
trigger97 =  stateno = 15610 && movecontact
trigger98 =  stateno = 15611 && movecontact
trigger99 =  stateno = 15612 && movecontact
;------------------------------SSB------------------------------
trigger100 =  stateno = 17200 && movecontact
trigger101 =  stateno = 17210 && movecontact
trigger102 =  stateno = 17220 && movecontact
trigger103 =  stateno = 17230 && movecontact
trigger104 =  stateno = 17240 && movecontact
trigger105 =  stateno = 17250 && movecontact
trigger106 =  stateno = 17260 && movecontact
trigger107 =  stateno = 17270 && movecontact
trigger108 =  stateno = 17280 && movecontact
trigger109 =  stateno = 17300 && movecontact
trigger110 =  stateno = 17310 && movecontact
trigger111 =  stateno = 17320 && movecontact
trigger112 =  stateno = 17330 && movecontact
trigger113 =  stateno = 17340 && movecontact
trigger114 =  stateno = 17350 && movecontact
trigger115 =  stateno = 17360 && movecontact
trigger116 =  stateno = 17365 && movecontact
trigger117 =  stateno = 17370 && movecontact
trigger118 =  stateno = 17390 && movecontact
trigger119 =  stateno = 17600 && movecontact
trigger120 =  stateno = 17605 && movecontact
trigger121 =  stateno = 17610 && movecontact
trigger122 =  stateno = 17611 && movecontact
trigger123 =  stateno = 17612 && movecontact
;------------------------------SSBE------------------------------
trigger124 =  stateno = 19200 && movecontact
trigger125 =  stateno = 19210 && movecontact
trigger126 =  stateno = 19220 && movecontact
trigger127 =  stateno = 19230 && movecontact
trigger128 =  stateno = 19240 && movecontact
trigger129 =  stateno = 19250 && movecontact
trigger130 =  stateno = 19260 && movecontact
trigger131 =  stateno = 19270 && movecontact
trigger132 =  stateno = 19280 && movecontact
trigger133 =  stateno = 19300 && movecontact
trigger134 =  stateno = 19310 && movecontact
trigger135 =  stateno = 19320 && movecontact
trigger136 =  stateno = 19330 && movecontact
trigger137 =  stateno = 19340 && movecontact
trigger138 =  stateno = 19350 && movecontact
trigger139 =  stateno = 19360 && movecontact
trigger140 =  stateno = 19365 && movecontact
trigger141 =  stateno = 19370 && movecontact
trigger142 =  stateno = 19390 && movecontact
trigger143 =  stateno = 19600 && movecontact
trigger144 =  stateno = 19605 && movecontact
trigger145 =  stateno = 19606 && movecontact
trigger146 =  stateno = 19610 && movecontact
trigger147 =  stateno = 19611 && movecontact
trigger148 =  stateno = 19612 && movecontact
trigger149 =  stateno = 19616 && movecontact
trigger150 =  stateno = 35102 && movecontact
helpertype = normal
name = "Helper de Conexiones"
ID = 900
stateno = 900
pos = 999999,999999
postype = p1

[State 0, HELPER ESCALA]
type = Helper
trigger1 = NUMHELPER(999999) = 0
helpertype = normal
name = "HELPER ESCALA"
ID = 999999
stateno = 999999
pos = 9999,9999
postype = P1
facing = 1
keyctrl = 0
ownpal = 1
supermove = 999999
pausemove = 999999
supermovetime = 999999
pausemovetime = 999999
;-------------------------------------------------
[State 0, Crash In Wall Impact]
type = Helper
triggerall = numhelper(8006) = 0
trigger1 = p2stateno = 8005
helpertype = normal
name = "Crash In Wall Impact"
ID = 8006
stateno = 8006
pos = 0,-30*Helper(999999),Fvar(16)
postype = p2
facing = 1
;-------------------------------------------------------------------------
[State 0, P2 - Slidding in Floor]
type = Helper
triggerall = numhelper(37103) = 0
trigger1 = p2stateno = 37102
name = "P2 - Slidding in Floor"
ID = 37103
stateno = 37103
pos = 0,-30
postype = p2
facing = 1
keyctrl = 0
ownpal = 1
;===============================================================================
; Pared Rota:
;-------------------------------------------------------------------------------
[State 0, Helper]
type = Helper
triggerall = p2movetype = H
triggerall = numhelper(460) = 0
trigger1 = p2stateno = 456
helpertype = normal
name = "Pared Rota"
ID = 460
stateno = 460
pos = 0,-30
postype = p2
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
triggerall = p2movetype = H
triggerall = numhelper(99056) = 0
trigger1 = p2stateno = 99051
helpertype = normal
name = "Pared Rota"
ID = 99056
stateno = 99056
pos = 0,-30
postype = p2
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
triggerall = p2movetype = H
triggerall = numhelper(460) = 0
trigger1 = p2stateno = 492
helpertype = normal
name = "Pared Rota"
ID = 460
stateno = 460
pos = 0,-30
postype = p2
facing = 1
keyctrl = 0
ownpal = 1
;===============================================================================
; Polvo en P2:
;-------------------------------------------------------------------------------
[State 0, Helper]
type = Helper
triggerall = p2movetype = H
triggerall = numhelper(465) = 0
trigger1 = p2stateno = 455
helpertype = normal
name = "Polvo en P2"
ID = 465
stateno = 465
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
triggerall = p2movetype = H
triggerall = numhelper(99055) = 0
trigger1 = p2stateno = 99050
helpertype = normal
name = "Polvo en P2"
ID = 99055
stateno = 99055
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
triggerall = p2movetype = H
triggerall = numhelper(493) = 0
trigger1 = p2stateno = 491
helpertype = normal
name = "Polvo en P2"
ID = 493
stateno = 493
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
;===============================================================================
; Polvo en Tierra:
;-------------------------------------------------------------------------------
[State 0, Choque Suelo]
type = Helper
trigger1 = enemy,stateno = 1415 && numhelper(1416) = 0
trigger1 = numhelper(1416) = 0
helpertype = normal
name = "Choque Suelo"
ID = 1416
stateno = 1416
pos = 0,0
postype = p2
Facing = -1
pausemovetime = 5
Persistent = 0
;===============================================================================
; Polvo en P2:
;-------------------------------------------------------------------------------
;===============================================================================
; P2 - Down Launched
;-------------------------------------------------------------------------------
[State 0, Fall In Ground]
type = Helper
triggerall = numhelper(8150) = 0
trigger1 = p2stateno = 8100
name = "Fall In Ground"
ID = 8150
stateno = 8150
pos = 0,-30*Helper(999999),Fvar(16)
postype = p2
facing = 1

[State 0, Slidding In Floor]
type = Helper
triggerall = numhelper(8160) = 0
trigger1 = p2stateno = 8105
name = "Slidding In Floor"
ID = 8160
stateno = 8160
pos = 0,-30*Helper(999999),Fvar(16)
postype = p2
facing = 1
;===============================================================================
; P2 - Direct Down Launched:
;-------------------------------------------------------------------------------
[State 0, Thrown]
type = Helper
triggerall = p2movetype = H
triggerall = numhelper(8250) = 0
trigger1 = p2stateno = 8200
helpertype = normal
name = "Thrown"
ID = 8250
stateno = 8250
pos = 0,-40*Helper(999999),Fvar(16)
postype = p2
facing = 1

[State 0, Crash In Floor Impact]
type = Helper
triggerall = numhelper(8260) = 0
trigger1 = enemy,stateno = 8205
helpertype = normal
name = "Crash In Floor Impact"
ID = 8260
stateno = 8260
postype = p2
facing = 1
;-------------------------------------------------------------------------------
[State 0, P2 - Thrown]
type = Helper
triggerall = p2movetype = H
triggerall = numhelper(8325) = 0
trigger1 = p2stateno = 8323
name = "P2 - Thrown"
ID = 8325
stateno = 8325
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
ignorehitpause  = 1

[State 0, P2 - Fall]
type = Helper
triggerall = p2movetype = H
triggerall = numhelper(8326) = 0
trigger1 = p2stateno = 8324
name = "P2 - Fall"
ID = 8326
stateno = 8326
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
ignorehitpause  = 1

[State 0, Thrown]
type = Helper
triggerall = p2movetype = H
triggerall = numhelper(8250) = 0
trigger1 = p2stateno = 8200
helpertype = normal
name = "Thrown"
ID = 8250
stateno = 8250
pos = 0,-40
postype = p2
facing = 1
ignorehitpause = 1

[State 0, Crash In Floor Impact]
type = Helper
triggerall = numhelper(8260) = 0
trigger1 = enemy,stateno = 8205
helpertype = normal
name = "Crash In Floor Impact"
ID = 8260
stateno = 8260
postype = p2
facing = 1
ignorehitpause = 1


[state 0,Helper]
Type = Helper
triggerall = numtarget
triggerall = numhelper(8266) = 0
trigger1 = target,stateno = 8265
id = 8266
stateno = 8268
pos = 0,-30
postype = p2
facing = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[state 0,Helper]
Type = Helper
triggerall = numtarget
triggerall = numhelper(8269) = 0
trigger1 = target,stateno = 8266
id = 8269
stateno = 8269
pos = 0,-30
postype = p2
facing = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
;===============================================================================
; P2 - Down Launched
;-------------------------------------------------------------------------------
[State 0, Fall In Ground]
type = Helper
triggerall = numhelper(8150) = 0
trigger1 = p2stateno = 8100
name = "Fall In Ground"
ID = 8150
stateno = 8150
pos = 0,-30*Helper(999999),Fvar(16)
postype = p2
facing = 1

[State 0, Slidding In Floor]
type = Helper
triggerall = numhelper(8160) = 0
trigger1 = p2stateno = 8105
name = "Slidding In Floor"
ID = 8160
stateno = 8160
pos = 0,-30*Helper(999999),Fvar(16)
postype = p2
facing = 1
;===============================================================================
; P2 - Direct Down Launched:
;-------------------------------------------------------------------------------
[State 0, Thrown]
type = Helper
triggerall = p2movetype = H
triggerall = numhelper(8250) = 0
trigger1 = p2stateno = 8200
helpertype = normal
name = "Thrown"
ID = 8250
stateno = 8250
pos = 0,-40*Helper(999999),Fvar(16)
postype = p2
facing = 1

[State 0, Crash In Floor Impact]
type = Helper
triggerall = numhelper(8260) = 0
trigger1 = enemy,stateno = 8205
helpertype = normal
name = "Crash In Floor Impact"
ID = 8260
stateno = 8260
postype = p2
facing = 1
;-------------------------------------------------------------------------------
; Super Charge helper
[Statedef 900]
Type = A
MoveType = I
Physics = N
Velset = 0,0
Anim = 900

[State 0, ChangeAnim]
Type = ChangeAnim
Trigger1 =! Time
Value = 900
Elem = 1
IgnoreHitPause = 1

[State 0, SprPriority]
Type = SprPriority
Trigger1 = 1
Value = 3
IgnoreHitPause = 1

[State 0, PalFXWiz]
Type = PalFX
TriggerAll = Root,Var(2) = 0
Trigger1 = 1
Time = -1
Add = 0,0,0
Mul = 356,356,356
SinAdd = 0,0,0,1
InvertAll = 0
Color = 0

[State 0, PalFXWiz]
type = PalFX
triggerall = Root,Var(2) = 0
triggerall = Root,Var(55) = 6
trigger1 = 1
time = -1
add = 0,-150,-150
mul = 512,512,512
sinadd = 0,0,0,1
invertall = 0
color = 0

[State 0, PalFXWiz]
type = PalFX
triggerall = root,var(2) = 1
trigger1 = 1
time = -1
add = 0,-25,-130
mul = 512,512,512
sinadd = 0,0,0,1
invertall = 0
color = 0

[State 0, PalFXWiz]
type = PalFX
triggerall = Root,Var(2) = 1
triggerall = Root,Var(55) = 6
trigger1 = 1
time = -1
add = 0,-150,-150
mul = 512,512,512
sinadd = 0,0,0,1
invertall = 0
color = 0

[State 0, PalFXWiz]
type = PalFX
triggerall = root,var(2) = 2
trigger1 = 1
time = -1
add = 0,-25,-130
mul = 512,512,512
sinadd = 0,0,0,1
invertall = 0
color = 0

[State 0, PalFXWiz]
type = PalFX
triggerall = Root,Var(2) = 2
triggerall = Root,Var(55) = 6
trigger1 = 1
time = -1
add = 0,-150,-150
mul = 512,512,512
sinadd = 0,0,0,1
invertall = 0
color = 0

[State 0, PalFXWiz]
type = PalFX
trigger1 = root,var(2) = 4
trigger1 = 1
time = -1
add = 0,-50,-200
mul = 512,512,512
sinadd = 0,0,0,1
invertall = 0
color = 0

[State 0, PalFXWiz]
type = PalFX
triggerall = root,var(2) = 5
trigger1 = 1
time = -1
add = -100,-50,0
mul = 512,512,512
sinadd = 0,0,0,1
invertall = 0
color = 0

[State 0, PalFXWiz]
type = PalFX
triggerall = root,var(2) = 6
trigger1 = 1
time = -1
add = -100,-100,0
mul = 512,512,512
sinadd = 0,0,0,1
invertall = 0
color = 0

[State 0, Trans]
Type = Trans
Trigger1 = 1
Trans = AddAlpha
Alpha = 256,256

[State 0, AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
Flag = NoShadow

[State 200, End]
Type = DestroySelf
Trigger1 =! AnimTime
;---------------------------------------------------------------------------
;A : 1
;---------------------------------------------------------------------------
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 200
poweradd = 20
sprpriority = 2
facep2 = 1

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 4
anim = 208
pos = 31,-32
postype = p1  
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = 5
removeongethit = 1
ignorehitpause = 1
ownpal = 1
remappal = 3,3
angle = -89

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 4
anim = 208
pos = 31,-32
postype = p1 
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = -1
removeongethit = 1
ignorehitpause = 1
ownpal = 1
trans = sub
remappal = 3,0
angle = -89

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S4,4
volume = 10
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S6,14
volume = 10
channel = -1

[State 0]
Type = Helper
Trigger1 = Time%4 = 0
ID = 101
StateNO = 101
IgnoreHitPause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 30,20
guardflag = MA
pausetime = 5,5
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
EnvsHake.time = 10
EnvsHake.freq = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 =movehit
value = S2,1
volume = 10
channel = -1
persistent=0
ignorehitpause=1

[State 0, Hitspark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
stateno = 800
ID = 033
pos = 1,-30
postype = p2
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0
ignorehitpause = 1

[State 0, Helper]
type = Helper
Trigger1 = MoveGuarded = 1
helpertype = normal
name = "Guard Spark"
ID = 990
stateno = 990
pos = -5,-20
postype = P2
facing = -1
ownpal = 1
Size.xScale = .40*Helper(999999),Fvar(16)
Size.yScale = .40*Helper(999999),Fvar(16)
ignoreHitPause = 1
PERSISTENT = 0

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = 2

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 201

[State 200, 5]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;A : 2
;---------------------------------------------------------------------------
[Statedef 201]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 201
poweradd = 20
sprpriority = 2
facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S4,4
volume = 10
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S6,16
volume = 10
channel = -1


[State 0]
Type = Helper
Trigger1 = Time%4 = 0
ID = 101
StateNO = 101
IgnoreHitPause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 30,20
guardflag = MA
pausetime = 5,5
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
EnvsHake.time = 10
EnvsHake.freq = 10


[State 0, PlaySnd]
type = PlaySnd
trigger1 =movehit
value = S2,5
volume = 10
channel = -1
persistent=0
ignorehitpause=1

[State 0, Hitspark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
stateno = 800
ID = 033
pos = 1,-35
postype = p2
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0
ignorehitpause = 1

[State 0, Helper]
type = Helper
Trigger1 = MoveGuarded = 1
helpertype = normal
name = "Guard Spark"
ID = 990
stateno = 990
pos = -5,-20
postype = P2
facing = -1
ownpal = 1
Size.xScale = .40*Helper(999999),Fvar(16)
Size.yScale = .40*Helper(999999),Fvar(16)
ignoreHitPause = 1
PERSISTENT = 0

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = 3

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 202

[State 200, 5]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;A : 3
;---------------------------------------------------------------------------
[Statedef 202]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 202
poweradd = 20
sprpriority = 2
facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S4,4
volume = 10
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S6,21
volume = 10
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =movehit
value = S2,6
volume = 10
channel = -1
persistent=0
ignorehitpause=1

[State 0]
Type = Helper
Trigger1 = Time%4 = 0
ID = 101
StateNO = 101
IgnoreHitPause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 30,20
guardflag = MA
pausetime = 5,5
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
EnvsHake.time = 20
EnvsHake.freq = 20

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 3
anim = 208
pos = 39,-43
postype = p1  
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = 5
removeongethit = 1
ignorehitpause = 1
ownpal = 1
remappal = 3,3
angle = -70

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 3
anim = 208
pos = 39,-43
postype = p1 
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = -1
removeongethit = 1
ignorehitpause = 1
ownpal = 1
trans = sub
remappal = 3,0
angle = -70


[State 0, Hitspark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
stateno = 800
ID = 033
pos = 1,-35
postype = p2
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0
ignorehitpause = 1

[State 0, Helper]
type = Helper
Trigger1 = MoveGuarded = 1
helpertype = normal
name = "Guard Spark"
ID = 990
stateno = 990
pos = -5,-20
postype = P2
facing = -1
ownpal = 1
Size.xScale = .40*Helper(999999),Fvar(16)
Size.yScale = .40*Helper(999999),Fvar(16)
ignoreHitPause = 1
PERSISTENT = 0

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = 3

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 203

[State 200, 5]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;A : 4
;---------------------------------------------------------------------------
[Statedef 203]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 203
poweradd = 20
sprpriority = 2
facep2 = 1

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 4
anim = 208
pos = 31,-32
postype = p1  
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = 5
removeongethit = 1
ignorehitpause = 1
ownpal = 1
remappal = 3,3
angle = -89

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 4
anim = 208
pos = 31,-32
postype = p1 
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = -1
removeongethit = 1
ignorehitpause = 1
ownpal = 1
trans = sub
remappal = 3,0
angle = -89

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S4,4
volume = 10
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S6,17
volume = 10
channel = -1

[State 0]
Type = Helper
Trigger1 = Time%4 = 0
ID = 101
StateNO = 101
IgnoreHitPause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 20,20
guardflag = MA
pausetime = 5,5
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
EnvsHake.time = 10
EnvsHake.freq = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 =movehit
value = S2,1
volume = 10
channel = -1
persistent=0
ignorehitpause=1

[State 0, Hitspark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
stateno = 800
ID = 033
pos = 1,-30
postype = p2
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0
ignorehitpause = 1

[State 0, Helper]
type = Helper
Trigger1 = MoveGuarded = 1
helpertype = normal
name = "Guard Spark"
ID = 990
stateno = 990
pos = -5,-20
postype = P2
facing = -1
ownpal = 1
Size.xScale = .40*Helper(999999),Fvar(16)
Size.yScale = .40*Helper(999999),Fvar(16)
ignoreHitPause = 1
PERSISTENT = 0

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = 2

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 204

[State 200, 5]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;A : 5
;---------------------------------------------------------------------------
[Statedef 204]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 204
poweradd = 20
sprpriority = 2
facep2 = 1

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 3
anim = 208
pos = 31,-32
postype = p1  
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = 5
removeongethit = 1
ignorehitpause = 1
ownpal = 1
remappal = 3,3
angle = -60

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 3
anim = 208
pos = 31,-32
postype = p1 
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = -1
removeongethit = 1
ignorehitpause = 1
ownpal = 1
trans = sub
remappal = 3,0
angle = -60

[State 0, PlaySnd]
type = PlaySnd
trigger1 =movehit
value = S2,1
volume = 10
channel = -1
persistent=0
ignorehitpause=1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S4,4
volume = 10
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S6,17
volume = 10
channel = -1

[State 0]
Type = Helper
Trigger1 = Time%4 = 0
ID = 101
StateNO = 101
IgnoreHitPause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 30,20
guardflag = 0
pausetime = 10,10
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
EnvsHake.time = 20
EnvsHake.freq = 20

[State 0, Hitspark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
stateno = 800
ID = 033
pos = 1,-30
postype = p2
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0
ignorehitpause = 1

[State 0, Helper]
type = Helper
Trigger1 = MoveGuarded = 1
helpertype = normal
name = "Guard Spark"
ID = 990
stateno = 990
pos = -5,-20
postype = P2
facing = -1
ownpal = 1
Size.xScale = .40*Helper(999999),Fvar(16)
Size.yScale = .40*Helper(999999),Fvar(16)
ignoreHitPause = 1
PERSISTENT = 0

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = 2

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 205

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 216

[State 200, 5]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;A : 6
;---------------------------------------------------------------------------
[Statedef 205]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 211
poweradd = 20
sprpriority = 2
facep2 = 1


[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S4,4
volume = 10
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S6,14
volume = 10
channel = -1

[State 0]
Type = Helper
Trigger1 = Time%4 = 0
ID = 101
StateNO = 101
IgnoreHitPause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 30,20
guardflag = 0
pausetime = 5,5
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
EnvsHake.time = 10
EnvsHake.freq = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 =movehit
value = S2,1
volume = 10
channel = -1
persistent=0
ignorehitpause=1

[State 0, Hitspark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
stateno = 800
ID = 033
pos = 1,-30
postype = p2
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0
ignorehitpause = 1

[State 0, Helper]
type = Helper
Trigger1 = MoveGuarded = 1
helpertype = normal
name = "Guard Spark"
ID = 990
stateno = 990
pos = -5,-20
postype = P2
facing = -1
ownpal = 1
Size.xScale = .40*Helper(999999),Fvar(16)
Size.yScale = .40*Helper(999999),Fvar(16)
ignoreHitPause = 1
PERSISTENT = 0

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = 5

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 206

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 210

[State 200, End]
type = ChangeState
Triggerall = Power >= 1000
Triggerall = movecontact 
trigger1 = ailevel = 0 && command = "s"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 1300

[State 200, 5]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;A : 7
;---------------------------------------------------------------------------
[Statedef 206]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 210
poweradd = 20
sprpriority = 2
facep2 = 1

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 2
anim = 208
pos = 25,-54
postype = p1  
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = 5
removeongethit = 1
ignorehitpause = 1
ownpal = 1
remappal = 3,9
angle = -40

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 2
anim = 208
pos = 25,-54
postype = p1 
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = -1
removeongethit = 1
ignorehitpause = 1
ownpal = 1
trans = sub
remappal = 3,0
angle = -40

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=2
value = S4,2
volume = 10
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=2
value = S6,15
volume = 10
channel = -1

[State 0]
Type = Helper
Trigger1 = Time%4 = 0
ID = 101
StateNO = 101
IgnoreHitPause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 30,20
guardflag = MA
pausetime = 5,5
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -13,-10
air.velocity = -12,-10
EnvsHake.time = 10
EnvsHake.freq = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 =movehit
value = S2,1
volume = 10
channel = -1
persistent=0
ignorehitpause=1

[State 0, Hitspark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
stateno = 800
ID = 033
pos = 1,-40
postype = p2
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0
ignorehitpause = 1

[State 0, Helper]
type = Helper
Trigger1 = MoveGuarded = 1
helpertype = normal
name = "Guard Spark"
ID = 990
stateno = 990
pos = -5,-20
postype = P2
facing = -1
ownpal = 1
Size.xScale = .40*Helper(999999),Fvar(16)
Size.yScale = .40*Helper(999999),Fvar(16)
ignoreHitPause = 1
PERSISTENT = 0

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = 4

[State 200, 5]
type = ChangeState
trigger1 = Movecontact
value = 208
ctrl = 0
ignorehitpause = 1
;---------------------------------------------------------------------------
;A : 8
;---------------------------------------------------------------------------
[StateDef 208]
type = A
movetype= I
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 205
poweradd = 20
sprpriority = -3

[State 0, PalFX]
type = PalFX
trigger1 =time<5 
time = 1
add = 0-time*50,0-time*50,0-time*50
mul = 256,256,256
sinadd = 0,0,0,10
ignorehitpause =1 
persistent = 1

[State 110, 2]
type = AfterImage
trigger1 =time=5
time = 11
trans = sub
length = 7
timegap = 1
framegap = 1
palbright = 0 , 0 , 0
palcontrast = 100, 100, 100
paladd = 0,0,0
palmul = .90, .90, .90

[State 0, VelSet]
type = VelSet
trigger1 = time>5
x = 14
y = -3
ignorehitpause = 1
persistent = 1

[State 0, EnvShake]
type = EnvShake
trigger1 =time=5
time = 5
freq = 60
ampl = -4
phase = 90

[State 0, Explod]
type = Explod
trigger1=time=5
anim = 7090
ID = 7090
pos =0,-5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .3,.3
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause =1
trans = addalpha
alpha=140,256
persistent =1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=5
value = S6,52
volumescale = 100
channel = -1
ignorehitpause =1 
persistent =1 

[State 0, Pause]
type = Pause
trigger1 = gametime%3=1  
time =2
movetime=2
ignorehitpause =1
persistent =1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=2
value = S6,31
volume = 10
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=4
value = S6,51
volume = 10
channel = -1

[State 205, end]
type = ChangeState
trigger1 =time>30
trigger2=p2dist x < 10
trigger3=frontedgedist < 0
value = 209
ctrl = 0
;---------------------------------------------------------------------------
;A : 9
;---------------------------------------------------------------------------
[StateDef 209]
type = A
movetype= A
physics = S
juggle  = 1
velset = 1,0
ctrl = 0
anim = 206
poweradd = 20
sprpriority = -2

[State 110, 2]
type = AfterImage
trigger1 =time=0
time = 1
trans = sub
length = 1
timegap = 1
framegap = 1
palbright = 0 , 0 , 0
palcontrast = 100, 100, 100
paladd = 0,0,0
palmul = .90, .90, .90

[State 0, PosAdd]
type = PosAdd
trigger1 =time=0 
x = p2bodydist x + 135
y = p2bodydist y -46
ignorehitpause = 1
persistent = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 =1 
value = 0
ignorehitpause =1 
persistent =1 

[State 0, VelSet]
type = VelSet
trigger1 =time>20
y = -.3
ignorehitpause =1 
persistent = 1

[State 0, PalFX]
type = PalFX
trigger1 =time<6
time = 1
add = -250+time*50,-250+time*50,-250+time*50
mul = 256,256,256
sinadd = 0,0,0,10
ignorehitpause =1 
persistent = 1

[State 0, Explod]
type = Explod
trigger1 =animelem=3 
anim =207
ID = 207
pos = 45,-5
postype = p1 
facing = -1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
angle=80
pausemovetime = 0
scale = .08,.2
sprpriority = 9
remappal=3,3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause =1
supermove = 99
pausemove = 99

[State 0, Explod]
type = Explod
trigger1 =animelem=3 
anim =207 
ID = 207
pos = 45,-5
postype = p1  
facing = -1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
angle=80
pausemovetime = 0
scale = .08,.2
sprpriority = 9
remappal=3,0
trans=sub
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause =1
supermove = 99
pausemove = 99

[State 0, Turn]
type = Turn
trigger1 = time =0
ignorehitpause = 1
persistent =1 

[State 0, VelSet]
type = VelSet
trigger1 = time>5 && time < 20
x = 0
y = 0
ignorehitpause = 1
persistent = 1

[State 200, 1]
type = HitDef
envshake.time=10
envshake.freq = 30
envshake.ampl = -4
envshake.phase = 90
trigger1 = time!
attr = S, NA
damage = 30,30
animtype = Light
guardflag = 0
hitflag = MAF
priority = 3, Hit
pausetime = 5, 10
sparkno = 9999
sparkxy = -10, -76
hitsound = s222, 7
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -3
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != 8100
trigger1 = movehit = 1
value = 8100

[State 200, Spark]
Type = Explod
Trigger1 = MoveHit = 1
Anim = 7002
ID = 7002
PosType = P2
pos = 0,-18
facing = 1
sprpriority = 2
SuperMove = 1
removeTime = -2
bindTime = 1
ownpal = 1
Scale = .33*Helper(999999),Fvar(16),.33*Helper(999999),Fvar(16)
RemoveOnGetHit = 1
OnTop = 1
angle = 45
Vel = -1,1
SuperMoveTime = 999
PauseMoveTime = 999
ignoreHitPause  = 1
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 =movehit
value = S2,7
volume = 10
channel = -1
persistent=0
ignorehitpause=1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S4,0
volume = 10
channel = -1
persistent=0
ignorehitpause=1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S6,30
volume = 10
channel = -1
persistent=0
ignorehitpause=1

[State 206, end]
type = ChangeState
trigger1 =animtime=0
value = 50
ctrl = 0
;---------------------------------------------------------------------------
;B : 1
;---------------------------------------------------------------------------
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 210
poweradd = 20
sprpriority = 2
facep2 = 1

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 2
anim = 208
pos = 25,-54
postype = p1  
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = 5
removeongethit = 1
ignorehitpause = 1
ownpal = 1
remappal = 3,9
angle = -40

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 2
anim = 208
pos = 25,-54
postype = p1 
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = -1
removeongethit = 1
ignorehitpause = 1
ownpal = 1
trans = sub
remappal = 3,0
angle = -40

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=2
value = S4,2
volume = 10
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=2
value = S6,15
volume = 10
channel = -1

[State 0]
Type = Helper
Trigger1 = Time%4 = 0
ID = 101
StateNO = 101
IgnoreHitPause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 30,20
guardflag = MA
pausetime = 7,7
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
EnvsHake.time = 10
EnvsHake.freq = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 =movehit
value = S2,1
volume = 10
channel = -1
persistent=0
ignorehitpause=1

[State 0, Hitspark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
stateno = 800
ID = 033
pos = 1,-40
postype = p2
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0
ignorehitpause = 1

[State 0, Helper]
type = Helper
Trigger1 = MoveGuarded = 1
helpertype = normal
name = "Guard Spark"
ID = 990
stateno = 990
pos = -5,-20
postype = P2
facing = -1
ownpal = 1
Size.xScale = .40*Helper(999999),Fvar(16)
Size.yScale = .40*Helper(999999),Fvar(16)
ignoreHitPause = 1
PERSISTENT = 0

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = 4


[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 211

[State 200, 5]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;B : 2
;---------------------------------------------------------------------------
[Statedef 211]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 200
poweradd = 20
sprpriority = 2
facep2 = 1

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 4
anim = 208
pos = 31,-32
postype = p1  
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = 5
removeongethit = 1
ignorehitpause = 1
ownpal = 1
remappal = 3,9
angle = -89

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 4
anim = 208
pos = 31,-32
postype = p1 
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = -1
removeongethit = 1
ignorehitpause = 1
ownpal = 1
trans = sub
remappal = 3,0
angle = -89

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S4,4
volume = 10
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S6,14
volume = 10
channel = -1

[State 0]
Type = Helper
Trigger1 = Time%4 = 0
ID = 101
StateNO = 101
IgnoreHitPause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 30,20
guardflag = MA
pausetime = 10,10
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
EnvsHake.time = 10
EnvsHake.freq = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 =movehit
value = S2,1
volume = 10
channel = -1
persistent=0
ignorehitpause=1

[State 0, Hitspark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
stateno = 800
ID = 033
pos = 1,-30
postype = p2
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0
ignorehitpause = 1

[State 0, Helper]
type = Helper
Trigger1 = MoveGuarded = 1
helpertype = normal
name = "Guard Spark"
ID = 990
stateno = 990
pos = -5,-20
postype = P2
facing = -1
ownpal = 1
Size.xScale = .40*Helper(999999),Fvar(16)
Size.yScale = .40*Helper(999999),Fvar(16)
ignoreHitPause = 1
PERSISTENT = 0

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = 2

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 212

[State 200, 5]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;B : 3
;---------------------------------------------------------------------------
[Statedef 212]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 213
poweradd = 20
sprpriority = 2
facep2 = 1

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 3
anim = 208
pos = 31,-24
postype = p1  
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = 5
removeongethit = 1
ignorehitpause = 1
ownpal = 1
remappal = 3,3
angle = -89

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 3
anim = 208
pos = 31,-24
postype = p1 
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = -1
removeongethit = 1
ignorehitpause = 1
ownpal = 1
trans = sub
remappal = 3,0
angle = -89

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S4,4
volume = 10
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S6,14
volume = 10
channel = -1

[State 0]
Type = Helper
Trigger1 = Time%4 = 0
ID = 101
StateNO = 101
IgnoreHitPause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 30,20
guardflag = MA
pausetime = 9,9
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
EnvsHake.time = 10
EnvsHake.freq = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 =movehit
value = S2,1
volume = 10
channel = -1
persistent=0
ignorehitpause=1

[State 0, Hitspark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
stateno = 800
ID = 033
pos = 1,-20
postype = p2
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0
ignorehitpause = 1

[State 0, Helper]
type = Helper
Trigger1 = MoveGuarded = 1
helpertype = normal
name = "Guard Spark"
ID = 990
stateno = 990
pos = -5,-20
postype = P2
facing = -1
ownpal = 1
Size.xScale = .40*Helper(999999),Fvar(16)
Size.yScale = .40*Helper(999999),Fvar(16)
ignoreHitPause = 1
PERSISTENT = 0

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = 2

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 213

[State 200, 5]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;B : 4
;---------------------------------------------------------------------------
[Statedef 213]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 212
poweradd = 20
sprpriority = 2
facep2 = 1

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 3
anim = 208
pos = 31,-17
postype = p1  
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = 5
removeongethit = 1
ignorehitpause = 1
ownpal = 1
remappal = 3,3
angle = -89

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 3
anim = 208
pos = 31,-17
postype = p1 
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = -1
removeongethit = 1
ignorehitpause = 1
ownpal = 1
trans = sub
remappal = 3,0
angle = -89

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S4,4
volume = 10
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S6,14
volume = 10
channel = -1

[State 0]
Type = Helper
Trigger1 = Time%4 = 0
ID = 101
StateNO = 101
IgnoreHitPause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 30,20
guardflag = MA
pausetime = 7,7
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
EnvsHake.time = 10
EnvsHake.freq = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 =movehit
value = S2,1
volume = 10
channel = -1
persistent=0
ignorehitpause=1

[State 0, Hitspark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
stateno = 800
ID = 033
pos = 1,-15
postype = p2
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0
ignorehitpause = 1

[State 0, Helper]
type = Helper
Trigger1 = MoveGuarded = 1
helpertype = normal
name = "Guard Spark"
ID = 990
stateno = 990
pos = -5,-20
postype = P2
facing = -1
ownpal = 1
Size.xScale = .40*Helper(999999),Fvar(16)
Size.yScale = .40*Helper(999999),Fvar(16)
ignoreHitPause = 1
PERSISTENT = 0

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = 4

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 214

[State 200, 5]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;A : 5
;---------------------------------------------------------------------------
[Statedef 214]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 202
poweradd = 20
sprpriority = 2
facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S4,4
volume = 10
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =movehit
value = S2,6
volume = 10
channel = -1
persistent=0
ignorehitpause=1

[State 0]
Type = Helper
Trigger1 = Time%4 = 0
ID = 101
StateNO = 101
IgnoreHitPause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 30,20
guardflag = MA
pausetime = 8,8
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
EnvsHake.time = 20
EnvsHake.freq = 20

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 3
anim = 208
pos = 39,-43
postype = p1  
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = 5
removeongethit = 1
ignorehitpause = 1
ownpal = 1
remappal = 3,3
angle = -70

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 3
anim = 208
pos = 39,-43
postype = p1 
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = -1
removeongethit = 1
ignorehitpause = 1
ownpal = 1
trans = sub
remappal = 3,0
angle = -70


[State 0, Hitspark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
stateno = 800
ID = 033
pos = 1,-35
postype = p2
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0
ignorehitpause = 1

[State 0, Helper]
type = Helper
Trigger1 = MoveGuarded = 1
helpertype = normal
name = "Guard Spark"
ID = 990
stateno = 990
pos = -5,-20
postype = P2
facing = -1
ownpal = 1
Size.xScale = .40*Helper(999999),Fvar(16)
Size.yScale = .40*Helper(999999),Fvar(16)
ignoreHitPause = 1
PERSISTENT = 0

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = 3

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 215

[State 200, 5]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;A : 6
;---------------------------------------------------------------------------
[Statedef 215]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 211
poweradd = 20
sprpriority = 2
facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S4,4
volume = 10
channel = -1


[State 0]
Type = Helper
Trigger1 = Time%4 = 0
ID = 101
StateNO = 101
IgnoreHitPause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 30,20
guardflag = 0
pausetime = 5,5
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7
air.velocity = -7,-1
EnvsHake.time = 10
EnvsHake.freq = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 =movehit
value = S2,1
volume = 10
channel = -1
persistent=0
ignorehitpause=1

[State 0, Hitspark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
stateno = 800
ID = 033
pos = 1,-30
postype = p2
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0
ignorehitpause = 1

[State 0, Helper]
type = Helper
Trigger1 = MoveGuarded = 1
helpertype = normal
name = "Guard Spark"
ID = 990
stateno = 990
pos = -5,-20
postype = P2
facing = -1
ownpal = 1
Size.xScale = .40*Helper(999999),Fvar(16)
Size.yScale = .40*Helper(999999),Fvar(16)
ignoreHitPause = 1
PERSISTENT = 0

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = 5

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 216

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 206

[State 200, End]
type = ChangeState
Triggerall = Power >= 1000
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "s"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 1100

[State 200, 5]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;A : 7
;---------------------------------------------------------------------------
[StateDef 216]
type = S
movetype = A
physics = S
juggle = 0
anim = 214
ctrl = 0

[State 0, VelSet]
type = VelSet
trigger1 =time=0
x = -10
y = 0
ignorehitpause =1
persistent =  1

[State 0, PalFXWiz]
type = PalFX
trigger1 =animelem=2
time =3
add = 256,256,256
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256

[State 0, PalFXWiz]
type = PalFX
trigger1 =animelem=6
time =3
add = 256,256,256
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256

[State 0, Explod]
type = Explod
Trigger1=animelem=4
anim = 890
ID =890
pos = -4,4
postype = p1 
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .2,.2
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal =1
removeongethit = 0 
supermove = 99
pausemove = 999

[State 0, Explod]
type = Explod
Trigger1=animelem=9
anim = 890
ID =890
pos = -4,4
postype = p1 
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .2,.2
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal =1
removeongethit = 0 
supermove = 99
pausemove = 999

[State 243, Helper]
type = Helper
trigger1 =animelem=4||Animelem = 9
ID = 217
pos = 24,-32
postype = p1
stateno = 217
helpertype = normal
name = "Onda de vento"
keyctrl = 0
ownpal = 1
supermovetime = 1

[State 0, Explod]
type = Explod
trigger1 = animelem=4
anim =217
ID = 217
pos = 48,-31
postype = p1  
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .25,.25
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause =1
persistent =1
supermove = 0
pausemove = 0

[State 0, Explod]
type = Explod
trigger1 = animelem=9
anim =217
ID = 217
pos = 48,-31
postype = p1  
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .25,.25
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause =1
persistent =1
supermove = 0
pausemove = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem=4
value = S4,1
volumescale = 100
channel = -1
abspan = 1
ignorehitpause =1 
persistent = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem=4
value = S6,20
volumescale = 100
channel = -1
abspan = 1
ignorehitpause =1 
persistent = 1

[State 0, Explod]
type = Explod
trigger1 = animelem=9
anim =220
ID = 220
pos = 48,-31
postype = p1  
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .25,.25
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause =1
persistent =1
supermove = 0
pausemove = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem=9
value = S6,20
volumescale = 100
channel = -1
abspan = 1
ignorehitpause =1 
persistent = 1

[State 0, Explod]
type = Explod
trigger1 = animelem=9
anim =220
ID = 220
pos = 48,-31
postype = p1  
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .25,.25
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause =1
persistent =1
supermove = 0
pausemove = 0

[State 200, End]
type = ChangeState
Triggerall = Power >= 1000
Triggerall = Time >= 80
trigger1 = ailevel = 0 && command = "s"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 6100

[State 243, end]
type = ChangeState
trigger1 = Time >= 100
value = 219
ctrl = 1
;--------------------------------------------------------------
[StateDef 217]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 215
poweradd = 20
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 =time=0 
value = S6,104
volumescale = 100
channel = -1
ignorehitpause = 1
persistent = 1

[State 0, VelSet]
type = VelSet
trigger1 =time>0 
x = 18
y = 0
ignorehitpause =1 
persistent =1 

[State 0, Explod]
type = Explod
trigger1 = time=0
anim =216
ID = 216
pos = 0,0
postype = p1  
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 99
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause =1
persistent =1
supermove = 0
pausemove = 0

[State 200, 1]
type = HitDef
trigger1 = !time
attr = S, NA
damage = 15,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 4, 80
sparkno = 9999
sparkxy = -10, -76
hitsound = s3, 4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -1
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12

[State 0, EnvShake]
type = EnvShake
trigger1 =movecontact 
time = 10
freq = 50
ampl = -6
phase = 90
ignorehitpause =1 
persistent =1 


[State 0, Explod]
type = Explod
trigger1 =movecontact && numtarget > 0
anim =218
ID =218
pos =-12,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .3,.3
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause =1
persistent =0
supermove = 99999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 =movecontact
anim =221
ID =221
pos =0,-15
postype = p1
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .2,.2
sprpriority = 999
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause =1
persistent =0
supermove = 99999
pausemove = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID=216
ignorehitpause =1
scale= -((((root,pos x))-pos x+30*root,facing )/62)*root,facing,.15
persistent =1
ignorehitpause=1
supermove = 99
pausemove = 99

[State 2433, end]
type = changestate
trigger1 = time>10
trigger2=movecontact
value=218
;--------------------------------------------------------------------------------------
[StateDef 218]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 215
poweradd = 20
sprpriority = 2

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID=216
ignorehitpause =1
scale= -((((root,pos x))-pos x+30*root,facing )/62)*root,facing,.15-time*.030
trans =addalpha
alpha = 150-time*30,256
persistent =1
ignorehitpause=1
supermove = 99
pausemove = 99

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time>4
id = 216
ignorehitpause = 
persistent = 

[State 2433, end]
type = Destroyself
trigger1 = time>20
;---------------------------------------------------------------------------
;B : 8
;---------------------------------------------------------------------------
[Statedef 219]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 202
poweradd = 20
sprpriority = 2
facep2 = 1

[State 0, Turn]
type = Turn
trigger1 = time = 10

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 3
x = p2bodydist x + 50

[State 0, VelSet]
type = VelSet
trigger1 = time = 10
x = 2

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 4
anim = 208
pos = 31,-32
postype = p1  
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = 5
removeongethit = 1
ignorehitpause = 1
ownpal = 1
remappal = 3,3
angle = -89

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 4
anim = 208
pos = 31,-32
postype = p1 
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = -1
removeongethit = 1
ignorehitpause = 1
ownpal = 1
trans = sub
remappal = 3,0
angle = -89

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S4,4
volume = 10
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S6,14
volume = 10
channel = -1

[State 0]
Type = Helper
Trigger1 = Time%4 = 0
ID = 101
StateNO = 101
IgnoreHitPause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 30,50
guardflag = 0
pausetime = 5,5
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
EnvsHake.time = 20
EnvsHake.freq = 20
Envshake.ampl = -20

[state 0]
type = targetstate
triggerall = (enemy, stateno != 99050)
trigger1 = (movehit = 1)
value = 99050

[State 200, Spark]
Type = Explod
Trigger1 = MoveHit = 1
Anim = 7002
ID = 7002
PosType = P2
pos = 0,-18
facing = 1
sprpriority = 2
SuperMove = 1
removeTime = -2
bindTime = 1
ownpal = 1
Scale = .33*Helper(999999),Fvar(16),.33*Helper(999999),Fvar(16)
RemoveOnGetHit = 1
OnTop = 1
angle = 45
Vel = -1,1
SuperMoveTime = 999
PauseMoveTime = 999
ignoreHitPause  = 1
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 =movehit
value = S2,1
volume = 10
channel = -1
persistent=0
ignorehitpause=1

[State 0, Hitspark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
stateno = 800
ID = 033
pos = 1,-30
postype = p2
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0
ignorehitpause = 1

[State 0, Helper]
type = Helper
Trigger1 = MoveGuarded = 1
helpertype = normal
name = "Guard Spark"
ID = 990
stateno = 990
pos = -5,-20
postype = P2
facing = -1
ownpal = 1
Size.xScale = .40*Helper(999999),Fvar(16)
Size.yScale = .40*Helper(999999),Fvar(16)
ignoreHitPause = 1
PERSISTENT = 0

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = 2


[State 200, 5]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;===============================================================================
; Ki Blast
;-------------------------------------------------------------------------------
[Statedef 400]
type    = S              
movetype= A            
physics = S                             
ctrl = 0                        
poweradd = -70
facep2 = 1
sprpriority = 2                  

[State 400, StateTypeSet]
type = StateTypeSet
triggerall = pos y < 0
trigger1 = 1
statetype = A       
movetype = I        
physics = A         

[State 400, FX Amarillo] 
type = PalFX
triggerall = anim = 400
trigger1 = animelem = 5
time = 7
add = 64,32,0

[State 400, FX Amarillo] 
type = PalFX
triggerall = anim = 401
trigger1 = animelem = 5
time = 7
add = 64,32,0

[State 400, FX Amarillo] 
type = PalFX
triggerall = anim = 402
trigger1 = animelem = 4
time = 7
add = 64,32,0

[State 400, FX Amarillo] 
type = PalFX
triggerall = anim = 403
trigger1 = animelem = 5
time = 7
add = 64,32,0

[State 400, FX Amarillo] 
type = PalFX
triggerall = anim = 404
trigger1 = animelem = 5
time = 7
add = 64,32,0

[State 400, FX Amarillo] 
type = PalFX
triggerall = anim = 405
trigger1 = animelem = 3
time = 7
add = 64,32,0

[State 400, FX Amarillo] 
type = PalFX
triggerall = anim = 406
trigger1 = animelem = 3
time = 7
add = 64,32,0

[State 400, FX Amarillo] 
type = PalFX
triggerall = anim = 407
trigger1 = animelem = 5
time = 7
add = 64,32,0

[State 400, FX Amarillo] 
type = PalFX
triggerall = anim = 408
trigger1 = animelem = 5
time = 7
add = 64,32,0

[State 400, FX Amarillo] 
type = PalFX
triggerall = anim = 409
trigger1 = animelem = 2
time = 7
add = 64,32,0

[State 400, FX Amarillo] 
type = PalFX
triggerall = anim = 410
trigger1 = animelem = 2
time = 7
add = 64,32,0

[State 400, FX Amarillo] 
type = PalFX
triggerall = anim = 411
trigger1 = animelem = 2
time = 7
add = 64,32,0

[State 400, FX Amarillo]
type = PalFX
triggerall = anim = 412
trigger1 = animelem = 2
time = 7
add = 64,32,0


[State 400, FX Ki Blast - Start]
type = PlaySnd
trigger1 = cond((anim=[400,401]),time=3,cond((anim=[402,403]),time=1,time=2))
value = S2,0
volumescale = 110
channel = -1  ;-1 to 31

[State 400, FX Viento de Amarrar Lazos]
type = PlaySnd
trigger1 = cond((anim=[400,401]),animelemno(0)=2,(!time))
value = S5,6
volumescale = 100
channel = -1  ;-1 to 31
persistent = 0

[State 400, HitDef]
type = HitDef
trigger1 = (!time)
attr = S,NP      
hitflag = MAF      
guardflag = MA      
;affectteam = E       
animtype = Light        
air.animtype = Light
damage = 6
pausetime = 0,0
sparkno = -1
;guard.pausetime = 0,0
ground.type = High     
;air.type = High
ground.slidetime = 4
ground.hittime = 7
;guard.hittime = 
air.hittime = 20
ground.velocity = -3,0
;guard.velocity = 0
air.velocity = -1,0
ground.cornerpush.veloff = 1
air.cornerpush.veloff = 1

[State 400, Lanzamiento C - 1//Suelo]
type = VarSet
triggerall = (anim=400)
trigger1 = (time=1)
v = 50    ;fv = 10
value = 1

[State 400, Lanzamiento C - 2//Suelo]
type = VarSet
triggerall = (anim=401)
trigger1 = (time=1)
v = 50    ;fv = 10
value = 2

[State 400, Lanzamiento C - 1//En Aire]
type = VarSet
triggerall = (anim=402)
trigger1 = (time=1)
v = 50    ;fv = 10
value = 3

[State 400, Lanzamiento C - 2//En Aire]
type = VarSet
triggerall = (anim=403)
trigger1 = (time=1)
v = 50    ;fv = 10
value = 4

[State 400,  Lanzamiento C - 1//Suelo - hacia abajo]
type = VarSet
triggerall = (anim=404)
trigger1 = (time=1)
v = 50    ;fv = 10
value = 5

[State 400,  Lanzamiento C - 1//Aire - Entre abajo]
type = VarSet
triggerall = (anim=405)
trigger1 = (time=1)
v = 50    ;fv = 10
value = 6

[State 400,  Lanzamiento C - 1//Aire - abajo]
type = VarSet
triggerall = (anim=406)
trigger1 = (time=1)
v = 50    ;fv = 10
value = 7

[State 400,  Lanzamiento C - 1//Suelo - hacia arriba]
type = VarSet
triggerall = (anim=407)
trigger1 = (time=1)
v = 50    ;fv = 10
value = 8

[State 400,  Lanzamiento C - 1//Aire - Hacia Arriba]
type = VarSet
triggerall = (anim=408)
trigger1 = (time=1)
v = 50    ;fv = 10
value = 9

[State 400,  Lanzamiento C - 1//Suelo - Hacia Arriba(Cielo)]
type = VarSet
triggerall = (anim=409)
trigger1 = (time=1)
v = 50    ;fv = 10
value = 10

[State 400,  Lanzamiento C - 2//Suelo - Hacia Arriba(Cielo)]
type = VarSet
triggerall = (anim=410)
trigger1 = (time=1)
v = 50    ;fv = 10
value = 11

[State 400,  Lanzamiento C - 1//Suelo - Hacia Arriba(Cielo)]
type = VarSet
triggerall = (anim=411)
trigger1 = (time=1)
v = 50    ;fv = 10
value = 12

[State 400,  Lanzamiento C - 2//Suelo - Hacia Arriba(Cielo)]
type = VarSet
triggerall = (anim=412)
trigger1 = (time=1)
v = 50    ;fv = 10
value = 13

[State 400, VarSet]
type = VarSet
triggerall = var(13) = 6 ;|| prevstateno != 400
trigger1 = time = 0
v = 13
value = 0

[State 400, VarSet] ;Caida P2
type = VarSet
trigger1 = (enemy,stateno = [5080,5150])
fv = 2    ;fv = 10
value = FVar(2) + .1
persistent = 0

[State 400, Anular]
type = Null
trigger1 = (!Time)      
trigger1 = (FVar(0) := (p2dist x*10.5/(exp(.5*ln(p2dist x**2+(p2bodydist y-15)**2)))))
trigger1 = (FVar(1) := ((p2dist y-10)*18/(exp(.5*ln(p2dist x**2+(p2dist y-10)**2)))))

[state 400, X!=-]
type = null
trigger1 = FVar(0) < 0
trigger1 = (FVar(0) := .00001)

[State 400, VarAdd]
type = Varset
triggerall = stateno = 400
trigger1 = time = 0
v = 13
value = Var(13)+1

[State 400, Changeanim]
type = ChangeAnim
triggerall = pos y = 0
triggerall = (!((((pos y)>(enemy,pos y))&&p2dist Y <= -47)&&p2dist x <=200))
triggerall = (!(p2dist x <= 60 && p2statetype = L&&(enemy,pos Y >=-16)))
triggerall = (!(((pos y)>(enemy,pos y))&&(p2dist Y<=-53)&&(FVar(0)<3.5)))
trigger1 = (!time)
value = cond(var(13) = 2||var(13) = 4||var(13) = 6,401,400)

[State 400, ChangeAnim]
type = ChangeAnim
triggerall = pos Y < 0
triggerall = (FVar(1)<3.7)
trigger1 = (!time)
value = cond(var(13) = 2||var(13) = 4||var(13) = 6,403,402)

[State 400, Changeanim]
type = ChangeAnim
triggerall = pos y = 0
triggerall = (p2dist x <= 60 && p2statetype = L)&&(enemy,pos Y >=-16)
trigger1 = (!time)
value = 404
elem = cond((prevstateno=400&&anim=404),2,1)

[State 400, Changeanim]
type = ChangeAnim
triggerall = pos y < 0
triggerall = ((pos y)<(enemy,pos y))
triggerall = cond((FVar(1)>=3.3),(FVar(0)<=12),p2dist x<=85&&((pos y)<(enemy,pos y)))
trigger1 = (!time)
value = 405
elem = cond((prevstateno=400&&(anim=[405,406])),2,1)

[State 400, ChangeAnim]
type = ChangeAnim
triggerall = pos Y < 0
triggerall = ((pos y)<(enemy,pos y))
triggerall = (FVar(0)<6)
trigger1 = (!time)
value = 406

[State 400, Changeanim]
type = ChangeAnim
triggerall = pos y = 0
triggerall = (((pos y)>(enemy,pos y))&&p2dist Y <= -47)&&p2dist x <=200
triggerall = cond((FVar(1)<=3.3),(FVar(0)<=12),p2dist x<=85&&((pos y)>(enemy,pos y)))
trigger1 = (!time)
value = 407
elem = cond((prevstateno=400&&anim=407),2,1)

[State 400, Changeanim]
type = ChangeAnim
triggerall = pos y < 0
triggerall = (((pos y)>(enemy,pos y))&&p2dist Y <= -60)
triggerall = cond((FVar(1)<=3.2),(FVar(0)<=12),p2dist x<=85&&((pos y)>(enemy,pos y)))
trigger1 = (!time)
value = 408
elem = cond((prevstateno=400),2,1)

[State 400, Changeanim]
type = ChangeAnim
triggerall = pos y = 0
triggerall = (((pos y)>(enemy,pos y))&&(p2dist Y<=-53)&&(FVar(0)<3.5))
trigger1 = (!time)
value = cond(var(13) = 2||var(13) = 4||var(13) = 6,409,410)

[State 400, ChangeAnim]
type = ChangeAnim
triggerall = pos Y < 0
triggerall = ((pos y)>(enemy,pos y))
triggerall = (FVar(0)<4)&&p2dist y<-60
trigger1 = (!time)
value = cond(var(13) = 2||var(13) = 4||var(13) = 6,411,412)

[State 400, Velset]
type = velset
triggerall = pos y < 0
trigger1 = time>=8
y = cond((random%10=[5,10]),-.5,.5)
ignorehitpause = 1

[State 400, Velset]
type = velset
triggerall = command != "holdfwd"
triggerall = command != "holdback"
triggerall = pos y < 0
trigger1 = time>=8
x = cond((random%10=[5,10]),-.5,.5)
ignorehitpause = 1

[State 400, VelSet]
type = VelSet
trigger1 = pos y < 0 && time < 10
x = 0
y = 0

[State 400, VelSet]
type = VelSet
triggerall = pos y < 0 && animtime != 0
trigger1 = command = "holdfwd" && time < 12
x = cond((frontedgedist < 18),0,2.8)
y = 0

[State 400, VelSet]
type = VelSet
triggerall = pos y < 0
trigger1 = command = "holdback" && time < 12
x = -2.8
y = 0

[State 400, VelSet]
type = VelSet
triggerall = time < 12
triggerall = pos y < 0
trigger1 = command != "holddown"
trigger1 = command = "holdup"
y = cond((screenpos y >= 65 && screenpos y < gameheight),-3,0)

[State 400, VelSet]
type = VelSet
triggerall = time < 12
triggerall = pos y < 0
trigger1 = command != "holdup"
trigger1 = command = "holddown"
y = 3

[State 400, VelSet]
type = VelSet
triggerall = pos y < 0
trigger1 = (frontedgedist < 17)*facing
x = -2.1

[State 400, FX Lanzar start I - Ki blast] 
type = Explod
Triggerall = anim = 400
trigger1 = animelem = 5
anim = 430
ID = 430
pos = 26,-30
postype = p1
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .15,.14
sprpriority = 3
ownpal = 1
persistent = 0

[State 400, FX Lanzar start I - Ki blast] 
type = Explod
Triggerall = anim = 401
trigger1 = animelem = 5
anim = 430
ID = 430
pos = 31,-30
postype = P1 
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .15,.14
sprpriority = 3
ownpal = 1
persistent = 0

[State 400, FX Lanzar start I - Ki blast]
type = Explod
Triggerall = anim = 402
trigger1 = animelem = 4
anim = 430
ID = 430
pos = 25,-29
postype = P1 
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .15,.14
sprpriority = 3
ownpal = 1
persistent = 0

[State 400, FX Lanzar start I - Ki blast] 
type = Explod
Triggerall = anim = 403
trigger1 = animelem = 5
anim = 430
ID = 430
pos = 29.5,-29
postype = P1  
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .15,.14
sprpriority = 3
ownpal = 1
persistent = 0

[State 400, FX Lanzar start I - Ki blast] 
type = Explod
Triggerall = anim = 404
trigger1 = animelem = 5
anim = 430
ID = 430
pos = 22,-20
postype = P1  
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .13,.12
sprpriority = 3
ownpal = 1
persistent = 0
Angle = -40

[State 400, FX Lanzar start I - Ki blast] 
type = Explod
Triggerall = anim = 405
trigger1 = animelem = 3
anim = 430
ID = 430
pos = 24,-33
postype = P1 
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .15,.14
sprpriority = 3
ownpal = 1
persistent = 0
Angle = -35

[State 400, FX Lanzar start I - Ki blast] 
type = Explod
Triggerall = anim = 406
trigger1 = animelem = 3
anim = 430
ID = 430
pos = 13,-27.5
postype = P1  
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .15,.14
sprpriority = 3
ownpal = 1
persistent = 0
Angle = -88

[State 400, FX Lanzar start I - Ki blast] 
type = Explod
Triggerall = anim = 407
trigger1 = animelem = 2
anim = 430
ID = 430
pos = 23,-38
postype = P1  
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .15,.14
sprpriority = 3
ownpal = 1
persistent = 0
Angle = 41

[State 400, FX Lanzar start I - Ki blast] 
type = Explod
Triggerall = anim = 408
trigger1 = animelem = 2
anim = 430
ID = 430
pos = 21,-53
postype = P1  
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .15,.14
sprpriority = 3
ownpal = 1
persistent = 0
Angle = 41

[State 400, FX Lanzar start I - Ki blast] 
type = Explod
Triggerall = anim = 409
trigger1 = animelem = 2
anim = 430
ID = 430
pos = 10,-45.5
postype = P1  
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .15,.14
sprpriority = 3
ownpal = 1
persistent = 0
Angle = 90

[State 400, FX Lanzar start I - Ki blast] 
type = Explod
Triggerall = anim = 410
trigger1 = animelem = 2
anim = 430
ID = 430
pos = -11,-45.5
postype = P1  
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .15,.14
sprpriority = 3
ownpal = 1
persistent = 0
Angle = 90

[State 400, FX Lanzar start I - Ki blast] 
type = Explod
Triggerall = anim = 411
trigger1 = animelem = 2
anim = 430
ID = 430
pos = 9,-58
postype = P1 
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .15,.14
sprpriority = 3
ownpal = 1
persistent = 0
Angle = 90

[State 400, FX Lanzar start I - Ki blast] 
type = Explod
Triggerall = anim = 412
trigger1 = animelem = 2
anim = 430
ID = 430
pos = -7,-58
postype = P1  
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .15,.14
sprpriority = 3
ownpal = 1
persistent = 0
Angle = 90

[State 400, FX Lanzar start II - Ki blast] 
type = Explod
Triggerall = anim = 400
trigger1 = animelem = 5
anim = 431
ID = 431
pos = 55,-28
postype = P1  
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .20,.19
sprpriority = 3
ownpal = 1
persistent = 0

[State 400, FX Lanzar start II - Ki blast] 
type = Explod
Triggerall = anim = 401
trigger1 = animelem = 5
anim = 431
ID = 431
pos = 59,-28
postype = P1  
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .20,.19
sprpriority = 3
ownpal = 1
persistent = 0

[State 400, FX Lanzar start II - Ki blast] 
type = Explod
Triggerall = anim = 402
trigger1 = animelem = 4
anim = 431
ID = 431
pos = 53,-29
postype = P1  
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .20,.19
sprpriority = 3
ownpal = 1
persistent = 0

[State 400, FX Lanzar start II - Ki blast] 
type = Explod
Triggerall = anim = 403
trigger1 = animelem = 5
anim = 431
ID = 431
pos = 60,-29
postype = P1 
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .20,.19
sprpriority = 3
ownpal = 1
persistent = 0

[State 400, FX Lanzar start II - Ki blast]
type = Explod
Triggerall = anim = 404
trigger1 = animelem = 5
anim = 431
ID = 431
pos = 43,-3
postype = P1  
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .17,.16
sprpriority = 3
ownpal = 1
persistent = 0
Angle = -40

[State 400, FX Lanzar start II - Ki blast] 
type = Explod
Triggerall = anim = 405
trigger1 = animelem = 3
anim = 431
ID = 431
pos = 48,-20
postype = P1  
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .20,.19
sprpriority = 3
ownpal = 1
persistent = 0
Angle = -35

[State 400, FX Lanzar start II - Ki blast] 
type = Explod
Triggerall = anim = 406
trigger1 = animelem = 3
anim = 431
ID = 431
pos = 15,0
postype = P1  
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .20,.19
sprpriority = 3
ownpal = 1
persistent = 0
Angle = -88

[State 400, FX Lanzar start II - Ki blast] 
type = Explod
Triggerall = anim = 407
trigger1 = animelem = 2
anim = 431
ID = 431
pos = 50,-58
postype = P1  
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .20,.19
sprpriority = 3
ownpal = 1
persistent = 0
Angle = 41

[State 400, FX Lanzar start II - Ki blast] 
type = Explod
Triggerall = anim = 408
trigger1 = animelem = 2
anim = 431
ID = 431
pos = 45,-72
postype = P1  
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .20,.19
sprpriority = 3
ownpal = 1
persistent = 0
Angle = 41

[State 400, FX Lanzar start II - Ki blast] 
type = Explod
Triggerall = anim = 409
trigger1 = animelem = 2
anim = 431
ID = 431
pos = 10,-73
postype = P1  
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .20,.19
sprpriority = 3
ownpal = 1
persistent = 0
Angle = 90

[State 400, FX Lanzar start II - Ki blast] 
type = Explod
Triggerall = anim = 410
trigger1 = animelem = 2
anim = 431
ID = 431
pos = -10,-73
postype = P1  
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .20,.19
sprpriority = 3
ownpal = 1
persistent = 0
Angle = 90

[State 400, FX Lanzar start II - Ki blast] 
type = Explod
Triggerall = anim = 411
trigger1 = animelem = 2
anim = 431
ID = 431
pos = 10,-85
postype = P1  
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .20,.19
sprpriority = 3
ownpal = 1
persistent = 0
Angle = 90

[State 400, FX Lanzar start II - Ki blast] 
type = Explod
Triggerall = anim = 412
trigger1 = animelem = 2
anim = 431
ID = 431
pos = -6.5,-86
postype = P1 
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .20,.19
sprpriority = 3
ownpal = 1
persistent = 0
Angle = 90

[State 400, FX Lanzar start III - Ki blast] 
type = Explod
Triggerall = anim = 400
trigger1 = animelem = 5
anim = 432
ID = 432
pos = 51,-29
postype = P1  
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .43,.36
sprpriority = 0
ownpal = 1
persistent = 0

[State 400, FX Lanzar start III - Ki blast] 
type = Explod
Triggerall = anim = 401
trigger1 = animelem = 5
anim = 432
ID = 432
pos = 55,-29
postype = P1  
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .43,.36
sprpriority = 0
ownpal = 1
persistent = 0

[State 400, FX Lanzar start III - Ki blast] 
type = Explod
Triggerall = anim = 402
trigger1 = animelem = 4
anim = 432
ID = 432
pos = 50,-29
postype = P1  
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .43,.36
sprpriority = 0
ownpal = 1
persistent = 0

[State 400, FX Lanzar start III - Ki blast] 
type = Explod
Triggerall = anim = 403
trigger1 = animelem = 5
anim = 432
ID = 432
pos = 54,-29
postype = P1  
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .43,.36
sprpriority = 0
ownpal = 1
persistent = 0

[State 400, FX Lanzar start III - Ki blast] 
type = Explod
Triggerall = anim = 404
trigger1 = animelem = 5
anim = 432
ID = 432
pos = 43,-3
postype = P1 
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .41,.36
sprpriority = 1
ownpal = 1
persistent = 0
Angle = -40

[State 400, FX Lanzar start III - Ki blast] 
type = Explod
Triggerall = anim = 405
trigger1 = animelem = 3
anim = 432
ID = 432
pos = 46,-17
postype = P1  
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .43,.36
sprpriority = 1
ownpal = 1
persistent = 0
Angle = -35

[State 400, FX Lanzar start III - Ki blast] 
type = Explod
Triggerall = anim = 406
trigger1 = animelem = 3
anim = 432
ID = 432
pos = 14,-5
postype = P1 
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .43,.36
sprpriority = 2
ownpal = 1
persistent = 0
Angle = -88

[State 400, FX Lanzar start III - Ki blast]
type = Explod
Triggerall = anim = 407
trigger1 = animelem = 2
anim = 432
ID = 432
pos = 42,-55
postype = P1  
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .43,.36
sprpriority = 2
ownpal = 1
persistent = 0
Angle = 41

[State 400, FX Lanzar start III - Ki blast] 
type = Explod
Triggerall = anim = 408
trigger1 = animelem = 2
anim = 432
ID = 432
pos = 39,-68
postype = P1  
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .43,.36
sprpriority = 2
ownpal = 1
persistent = 0
Angle = 41

[State 400, FX Lanzar start III - Ki blast] 
type = Explod
Triggerall = anim = 409
trigger1 = animelem = 2
anim = 432
ID = 432
pos = 10,-68
postype = P1 
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .43,.36
sprpriority = 2
ownpal = 1
persistent = 0
Angle = 90

[State 400, FX Lanzar start III - Ki blast] 
type = Explod
Triggerall = anim = 410
trigger1 = animelem = 2
anim = 432
ID = 432
pos = -10,-68
postype = P1  
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .43,.36
sprpriority = 2
ownpal = 1
persistent = 0
Angle = 90

[State 400, FX Lanzar start III - Ki blast] 
type = Explod
Triggerall = anim = 411
trigger1 = animelem = 2
anim = 432
ID = 432
pos = 10,-80
postype = P1  
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .43,.36
sprpriority = 2
ownpal = 1
persistent = 0
Angle = 90

[State 400, FX Lanzar start III - Ki blast] 
type = Explod
Triggerall = anim = 412
trigger1 = animelem = 2
anim = 432
ID = 432
pos = -7,-81
postype = P1  
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .43,.36
sprpriority = 2
ownpal = 1
persistent = 0
Angle = 90

[State 400, FX Helper - Ki Blast]
type = Helper
triggerall = anim = [400,401]
trigger1 = animelemno(0)=5
helpertype = normal
name = "FX Helper - Ki Blast"
ID = 433
stateno = 433
pos = 40,-31
Size.XScale = .07
Size.YScale = .06
postype = p1
ownpal = 1
persistent = 0

[State 400, FX Helper - Ki Blast]
type = Helper
triggerall = anim = 402
trigger1 = animelemno(0)=4
helpertype = normal
name = "FX Helper - Ki Blast"
ID = 433
stateno = 433
pos = 40,-34
Size.XScale = .07
Size.YScale = .06
postype = p1
ownpal = 1
persistent = 0

[State 400, FX Helper - Ki Blast]
type = Helper
triggerall = anim = 403
trigger1 = animelemno(0)=5
helpertype = normal
name = "FX Helper - Ki Blast"
ID = 433
stateno = 433
pos = 40,-34
Size.XScale = .07
Size.YScale = .06
postype = p1
ownpal = 1
persistent = 0

[State 400, FX Helper - Ki Blast]
type = Helper
triggerall = anim = 404 
trigger1 = animelemno(0)=5
helpertype = normal
name = "FX Helper - Ki Blast"
ID = 433
stateno = 433
pos = 27,-15
Size.XScale = .07
Size.YScale = .06
postype = p1
ownpal = 1
persistent = 0

[State 400, FX Helper - Ki Blast]
type = Helper
triggerall = (anim = 405)
trigger1 = cond((prevstateno=400&&anim=405),time = 2,animelemno(0)=2)
helpertype = normal
name = "FX Helper - Ki Blast"
ID = 433
stateno = 433
pos = 26,-27
Size.XScale = .07
Size.YScale = .06
postype = p1
ownpal = 1
persistent = 0

[State 400, FX Helper - Ki Blast]
type = Helper
triggerall = ((pos y)<(enemy,pos y))
triggerall = anim =406
trigger1 = Time = 2
helpertype = normal
name = "FX Helper - Ki Blast"
ID = 433
stateno = 433
pos = 14,-15
Size.XScale = .07
Size.YScale = .06
postype = p1
ownpal = 1

[State 400, FX Helper - Ki Blast]
type = Helper
triggerall = (anim = 407)
trigger1 = cond((prevstateno=400&&anim=407),time = 2,animelemno(0)=2)
helpertype = normal
name = "FX Helper - Ki Blast"
ID = 433
stateno = 433
pos = 30,-48
Size.XScale = .07
Size.YScale = .06
postype = p1
ownpal = 1
persistent = 0

[State 400, FX Helper - Ki Blast]
type = Helper
triggerall = (anim = 408)
trigger1 = cond((prevstateno=400&&anim=408),time = 2,animelemno(0)=2)
helpertype = normal
name = "FX Helper - Ki Blast"
ID = 433
stateno = 433
pos = 27,-60
Size.XScale = .07
Size.YScale = .06
postype = p1
ownpal = 1
persistent = 0

[State 400, FX Helper - Ki Blast]
type = Helper
triggerall = ((pos y)>(enemy,pos y))
triggerall = (anim =[409,410]) 
trigger1 = Time = 2
helpertype = normal
name = "FX Helper - Ki Blast"
ID = 433
stateno = 433
pos = cond(anim=409,10,-11),-55
Size.XScale = .07
Size.YScale = .06
postype = p1
ownpal = 1

[State 400, FX Helper - Ki Blast]
type = Helper
triggerall = ((pos y)>(enemy,pos y))
triggerall = (anim =[411,412])
trigger1 = animelemno(0)=2
helpertype = normal
name = "FX Helper - Ki Blast"
ID = 433
stateno = 433
pos = cond(anim=411,9,-7),-68
Size.XScale = .07
Size.YScale = .06
postype = p1
ownpal = 1
persistent = 0

[State 400, SuperDash]
type = Null;ChangeState
triggerall = power >= 300
trigger1 = (command="y") && (time>=5)
value = 750

[State 400, Salto - Comienzo]
type = ChangeState
triggerall = pos y = 0
triggerall = time > 0
trigger1 = command = "up"
value = 40

[State 400, Fin]
type = ChangeState
triggerall = pos Y = 0
triggerall = command = "holdfwd" || command = "holdback"
trigger1 = time > 1
value = 20
ctrl = 1

[State 400, Fin]
type = ChangeState
trigger1 = animtime = 0
value = cond(pos y < 0,50,0)
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 450]
type    = S
movetype= A
physics = S
juggle  = 0
ctrl = 0
anim = 450
poweradd = -500
velset = 0,0
sprpriority = 2
;==========================
; SOUNDS:
;==========================
[State 450, Goku Voz Patada B - 3]
type = PlaySnd
trigger1 = time = 15
value = S0,7
volume = 999
[State 450, Goku Voz Patada B - 3]
type = PlaySnd
trigger1 = time = 15
value = S0,7
volume = 999

[State 450, Goku Voz Ki Blasts - Ataque desde Suelo]
type = PlaySnd
trigger1 = time = 30
value = S0,13
volume = 999
[State 450, Goku Voz Ki Blasts - Ataque desde Suelo]
type = PlaySnd
trigger1 = time = 30
value = S0,13
volume = 999
[State 450, Goku Voz Ki Blasts - Ataque desde Suelo]
type = PlaySnd
trigger1 = time = 30
value = S0,13
volume = 999

[State 450, FX Ki Blast - Start]
type = PlaySnd
trigger1 = time = 7
value = S2,0

[State 450, FX Ki Blast - Start]
type = PlaySnd
trigger1 = time = 24
value = S2,0

[State 450, FX Ki Blast - Start]
type = PlaySnd
trigger1 = time = 44
value = S2,0
;==========================
;Helpers
;==========================
[State 450, FX Disparo - Helper Ki Blast(Suelo)]
type = Helper
trigger1 = time = 12
helpertype = normal
name = "FX Disparo - Helper Ki Blast(Suelo)"
ID = 451
stateno = 451
pos =  p2bodydist x + 16,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .12
size.yscale = .12

[State 450, FX Disparo - Helper Ki Blast(Suelo)]
type = Helper
trigger1 = time = 28
helpertype = normal
name = "FX Disparo - Helper Ki Blast(Suelo)"
ID = 451
stateno = 451
pos =  p2bodydist x + 16,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .09
size.yscale = .09

[State 450, FX Disparo - Helper Ki Blast(Suelo)]
type = Helper
trigger1 = animelem = 18
helpertype = normal
name = "FX Disparo - Helper Ki Blast(Suelo)"
ID = 451
stateno = 451
pos =  p2bodydist x + 16,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .18
size.yscale = .18

[State 450, FX Ki Blast I - Ki Suelo] ;Primer Disparo
type = Helper
trigger1 = time = 12
helpertype = normal
name = "FX Ki Blast I - Ki Suelo"
ID = 452
stateno = 452
pos =  p2bodydist x + 16,-6
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .10
size.yscale = .08

[State 450, FX Ki Blast II - Ki Suelo] ;Segundo Disparo
type = Helper
trigger1 = time = 28
helpertype = normal
name = "FX Ki Blast II - Ki Suelo"
ID = 453
stateno = 453
pos =  p2bodydist x + 16,-6
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .10
size.yscale = .08

[State 450, FX Ki Blast III - Ki Suelo] ;Tercero Disparo
type = Helper
trigger1 = animelem = 18
helpertype = normal
name = "FX Ki Blast III - Ki Suelo"
ID = 454
stateno = 454
pos =  p2bodydist x + 16,-6
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .115
size.yscale = .095
;==========================
[State 450, EnvShake]
type = EnvShake
trigger1 = time = 15
time = 5
ampl = -3

[State 450, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 460]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= -500
ctrl = 0
anim = 460
;===================================
;SOUNDS:
;===================================
[State 460, FX Teleport(Original DBZ)]
type = PlaySnd
trigger1 = time = 4
value = S6,2
volume = 999

[State 460, FX Teleport(Original DBZ)]
type = PlaySnd
trigger1 = time = 4
value = S6,2
volume = 999

[State 460, Goku Voz Patada B - 4]
type = PlaySnd
trigger1 = time = 15
value = S0,8
volume = 999
[State 460, Goku Voz Patada B - 4]
type = PlaySnd
trigger1 = time = 15
value = S0,8
volume = 999
;===================================
[State 460, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = A, NA
damage = 25
animtype = Hard
guardflag = A
pausetime = 0, 0
sparkxy = -10, -12
hitsound   = S1,3 ;FX Golpe A - 5
guardsound = S4,1 ;Fx Guardia - Impacto
ground.type = High
ground.slidetime = 25
ground.hittime  = 12
ground.velocity = -7,9
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -6,10
air.hittime = 12
envshake.time = 8
getpower=  15,10
givepower=  10,5
fall = 1
fall.recover=  0
;=====================================
;EXPLODS:
;=====================================
[State 460, FX Teleport]
type = Explod
triggerall = time = [1,13]
trigger1 = timemod = 1,0
anim = 580
id = 580
pos = 10-random%25,-10-random%35
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = sub
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 460, FX Teleport]
type = Explod
triggerall = time = [14,15]
trigger1 = timemod = 1,0
anim = 580
id = 580
pos = 10-random%25,-10-random%35
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1,.1
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = sub
supermovetime = 999
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 460, FX Hit Spark - Forte]
type = Explod
triggerall = Numexplod(7011) = 0
trigger1 = Movehit = 1
anim = 7011
ID = 7011
postype = P1
pos = 15,-5
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .15,.15
removeongethit = 1
ontop = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999
ignorehitpause  = 1
Angle = 0+Random%180

[State 460, FX Dash]
type = Explod
trigger1 = time = 17
anim = 7035
ID = 7035
pos = 10,-5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .7,.3 ;X/Y
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999
Angle = -45
;--------------------------------------------------------------------------
;Helpers:
;--------------------------------------------------------------------------
[State 460, FX Zoom - Combo Patada]
type = Helper
Triggerall = numhelper(465) = 0
trigger1 = time = 15
helpertype = normal
name = "FX Zoom - Combo Patada"
ID = 465
stateno = 465
pos = 0,30
postype = p1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 460, FX Hit Spark - Base]
type = Helper
trigger1 = movehit = 1 && numhelper(9000) = 0
name = "FX Hit Spark - Base"
ID = 9000
stateno = 9000
pos = 15,-5
postype = P1
facing = -1
ownpal = 1
size.xscale = .1
size.yscale = .1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 460, FX Hit Spark - Honda]
type = Helper
trigger1 = movehit = 1 && numhelper(9005) = 0
helpertype = normal
name = "FX Hit Spark - Honda"
ID = 9005
stateno = 9005
pos = 15,-5
postype = p1
facing = -1
ownpal = 1
size.xscale = .18
size.yscale = .18
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999
;====================================================
[State 460, VelSet]
type = VelSet
trigger1 = animelem = 4
x = -7
y = 6

[State 460, StateTypeSet]
type = StateTypeSet
trigger1 = Animelem = 4
statetype = A
movetype = A
physics = A

[State 0, StateTypeSet]
type = Null;StateTypeSet
trigger1 = pos y = 0
statetype = S
movetype = I
physics = N

[State 460, Turn]
type = Turn
trigger1 = animelem = 4

[state 460, PosAdd]
type = posadd
trigger1 = animelem = 4
x = p2bodydist x - 60
y = p2bodydist y - 60

[State 460, Pausa]
type = Pause
trigger1 = time = 18
time = 40
movetime = 0
endcmdbuftime = 0
ignorehitpause = 1
persistent = 1

[State 460, Fin]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 433]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 433
sprpriority = 3

[State 433, AfterImage]
type = AfterImage
trigger1 =time=1
time = 280
length = 6
palbright = 24,24,24
palcontrast = 40,40,40
paladd=0,0,0
palmul = .90,.90,.90
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 433, FX Ki Blast - Explosin]
type = PlaySnd
trigger1 = movecontact
value = S3,6
volumescale = 50
channel = -1  ;-1 to 31
persistent=0

[State 433, Anular]
type = Null
trigger1 = (!Time)      
trigger1 = (FVar(0) := (p2dist x*10.5/(exp(.5*ln(p2dist x**2+(p2bodydist y-15)**2)))))
trigger1 = (FVar(1) := ((p2bodydist y-20)*10/(exp(.5*ln(p2dist x**2+(p2bodydist y-20)**2)))))

[state 433, X!=-]
type = null
trigger1 = FVar(0) < 0
trigger1 = (FVar(0) := .00001)

[state 433, VS]
type = velset
trigger1 = (!Time)
x = cond(root,anim=404,3,FVar(0))
y = cond(root,anim=404,4,(cond(((pos Y >=-31)&&(p2dist x <120)&&(p2statetype !=A)&&(p2statetype!=L)),0,(FVar(1)))+random%(3)))-random%(3)
;y = (p2bodydist y -18) / 20

[State 433, No recibir dao]
type = NotHitBy
trigger1 = 1
value = ,NA
time = 1

[state 433, Angledraw]
type = angledraw
trigger1=1
value = ((atan((-1*Vel Y)/Vel X))*(180/pi))
ignorehitpause=1
persistent=1

[State 433, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = A, NP			
damage = 20,1			
animtype = light
guardflag = MA
hitflag = MAFD
priority = 4, Hit
pausetime = 0,10
Guard.PauseTime = 0,4
sparkno = -1
guard.sparkno = -1				
hitsound   = -1
guardsound = -1
ground.type = High		
ground.slidetime = 1		
ground.hittime  = 8 		
ground.velocity = -1	
air.type = High			
air.velocity = -1
air.hittime = 20
EnvShake.Time = 7
EnvShake.Ampl = -1
getpower = 0,0
palfx.time = 4
palfx.add = 64,32,0

[State 433, VelAdd]
type = VelAdd
triggerall = p2dist Y > -70 && p2dist x >= 0 && p2dist x <= 250
TriggerAll = facing != enemy,facing
TriggerAll = Time > 5
triggerall = P2StateType != L
trigger1 = p2dist y > -(enemynear, const(size.mid.pos.y)) && (Vel Y < 4.5)
;y = 1.5
y = 1.0

[State 433, VelAdd]
type = VelAdd
triggerall = p2dist Y < 70 && p2dist x >= 0 && p2dist x <= 250
TriggerAll = facing != enemy,facing
TriggerAll = Time > 5
triggerall = P2StateType != L
trigger1 = p2dist y < -(enemynear, const(size.mid.pos.y)) && (Vel Y > -4.5)
y = -1.0

[State 433, FX Explosion I - Ki Blast]
type = Explod
triggerall = (FVar(0)>10)
trigger1 = movecontact ;moveguarded
anim = 434
ID = 434
pos = 12,0
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
vfacing = 1
bindtime = 1
vel = .5,-.2
random = 2,3
removetime = -2
scale = .20,.20
sprpriority = 3
shadow = 1,1,1
ownpal = 1
ignorehitpause = 1

[State 433, FX FX Explosion II - Ki Blast]
type = Explod
triggerall = (FVar(0)>10)
trigger1 = movecontact ;moveguarded
anim = 435
ID = 435
pos = 12,0
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
vfacing = 1
bindtime = 1
vel = .5,-.2
random = 2,3
removetime = -2
scale = .20,.20
sprpriority = 3
shadow = 1,1,1
ownpal = 1
ignorehitpause = 1

[State 433, FX FX Explosion II - Ki Blast]
type = Explod
trigger1 = movecontact ;moveguarded
anim = 437
ID = 437
pos = 15,0
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
vfacing = 1
bindtime = 1
vel = .5,-.2
random = 2,3
removetime = -2
scale = .32,.32
sprpriority = 3
shadow = 1,1,1
ownpal = 1
ignorehitpause = 1

[State 433, FX Explosion I - Ki Blast]
type = Explod
triggerall = (FVar(0)<10)
trigger1 = movecontact ;moveguarded
anim = 434
ID = 434
pos = cond(vel y=0,12,cond(vel y >0,6,6)),cond(vel y=0,0,cond(vel y >0,16,-5))
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
vfacing = 1
bindtime = 1
vel = .5,cond(vel y=0,-.2,cond(vel y >0,.1,-.1))
random = 2,3
removetime = -2
scale = .20,.20
sprpriority = 3
shadow = 1,1,1
ownpal = 1
ignorehitpause = 1

[State 433, FX Explosion II - Ki Blast]
type = Explod
triggerall = (FVar(0)<10)
trigger1 = movecontact ;moveguarded
anim = 435
ID = 435
pos = cond(vel y=0,12,cond(vel y >0,6,6)),cond(vel y=0,0,cond(vel y >0,16,-5))
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
vfacing = 1
bindtime = 1
vel = .5,cond(vel y=0,-.2,cond(vel y >0,.1,-.1))
random = 2,3
removetime = -2
scale = .20,.20
sprpriority = 3
shadow = 1,1,1
ownpal = 1
ignorehitpause = 1

[State 433, FX Energia - Bola]
type = Explod
trigger1 = time%2=0
anim = 438
ID = 438
pos = 0,0
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
vfacing = 1
bindtime = 0
vel = -.5+cond(random%10=5,(-random%3),(-random%2)),-.5+cond(random%10=5,(-random%3),(-random%2))
random = 10,10
removetime = -2
scale = .005,.005
sprpriority = cond((random%10=[5,10]),3,1)
ownpal = 1
ignorehitpause = 1

[State 433, FX Energia - Bola]
type = Explod
trigger1 = time%2=0
anim = 438
ID = 438
pos = 0,0
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
vfacing = 1
bindtime = 0
vel = -.5+cond(random%10=5,(-random%3),(-random%2)),-.5+cond(random%10=5,(-random%3),(-random%2))
random = 10,10
removetime = -2
scale = .0025,.0025
sprpriority = cond((random%10=[5,10]),3,1)
ownpal = 1
ignorehitpause = 1

[State 433, FX Guardia Spark]
type = Explod
trigger1 = moveguarded ;moveguarded
anim = 7000
ID = 7000
pos = -3,0
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
vfacing = 1
bindtime = 1
vel = .4,0
random = 2,2
removetime = -2
scale = .13,.18
sprpriority = 2
shadow = 1,1,1
ownpal = 0
ignorehitpause = 1
angle = ((atan((-Vel Y)/Vel X))*(180/pi))

[State 433, FX Salto - Viento]
type = Explod
trigger1 = pos y>=-5
anim = 7023
pos = 3,4
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
vel = .1,0
bindtime = 24
removetime = -2
scale = .18,.28
sprpriority = -1
ownpal = 1
angle = ((atan((-Vel Y)/Vel X))*(180/pi))

[State 433, hitoverride]
type = hitoverride
trigger1 = 1
attr = SCA, NT, ST, HT, SA, HA,NP,SP,HP
stateno = 435
time = 1

[State 433, ChangeState]
type = Destroyself
trigger1 = movecontact

[State 433, ChangeState]
type = ChangeState
trigger1 = frontedgebodydist <= -10 ;distance form the corner
trigger2 = time = 280
trigger3 = screenpos y < gameheight/480
trigger4 = pos y>=-5
trigger5 = root,stateno=410
value = 435
ctrl = 0
;-------------------------------------------------------------------------------
[Statedef 435]
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 440
sprpriority = 0

[State 435, PalFXWiz]
type = PalFX
trigger1 = (!time)
time = 30
add = 0,0,150
mul = 250,255,0
sinadd = 0,0,0,1
invertall = 0
color = 256

[State 435, FX Ki Blast - Explosin]
type = PlaySnd
trigger1 = (!time)
value = S3,6
volumescale = 50
channel = -1  ;-1 to 31

[State 435, FX Explosion I - Ki Blast]
type = Explod
trigger1 = (!time)
anim = 434
ID = 434
pos = 0,0
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
bindtime = 0
vel = .5+cond(random%10=5,-.7,0),-.2+cond(random%10=5,-.3,0)
random = 2,3
removetime = -2
scale = .24,.24
sprpriority = 3
shadow = 1,1,1
ownpal = 1

[State 435, FX Wind]
type = Explod
triggerall = (!time)
trigger1 = pos y>=-5
anim = 7022
pos = 0,5
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
bindtime = 0
removetime = -2
scale = .25,.3
sprpriority = 0
ownpal = 0

[State 435, FX Wind]
type = Explod
triggerall = (!time)
trigger1 = pos y>=-5
anim = 7022
pos = 25,5
postype = P1  
facing = -1
vel = .1,0
bindtime = 24
removetime = -2
scale = .25,.3
sprpriority = 1
shadow = 1,1,1
ownpal = 0
;======================================================
[State 435, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1

[State 435, DestroySelf]
type = DestroySelf
trigger1 = time = 30

[Statedef 451]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 430
sprpriority = 3

[State 451, FX Lanzar start II - Ki blast]
type = Explod
trigger1 = time = 0
anim = 431
ID = 431
pos = 0,-40
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.25,0.25
vel = 0,0
sprpriority = 3
ontop = 0
ownpal = 0
removeongethit = 1
angle = 90

[State 451, FX Lanzar start III - Ki blast]
type = Explod
trigger1 = time = 1
anim = 432
ID = 432
pos = 0,-30
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.45,0.45
sprpriority = 3
ontop = 0
ownpal = 0
removeongethit = 1
angle = 90

[State 451, FX Rocky]
type = Explod
trigger1 = time = 0
anim = 6000
ID = 6000
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.3,0.3
vel = 0,0
sprpriority = 0
ontop = 0
ownpal = 0
removeongethit = 1

[State 451, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 90

[State 451, Trans]
type = Trans
trigger1 = 1
trans = add

[State 451, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 451, Fin]
type = Destroyself
trigger1 = animtime = 0
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
[Statedef 452]
type    = S
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 433
sprpriority = 3

[State 452, AfterImage]
type = AfterImage
trigger1 = time = 0
time = -1
length = 150
palcolor = 256
palinvertall = 0
palbright = 10,10,10
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .65,.65,.65
timegap = 2
framegap = 1
trans = add
ignorehitpause = 1

[State 452, HitDef]
type = HitDef
trigger1 = !movecontact
attr = A, NP
animtype  = Heavy
damage    = 10
hitflag = MAFDE
guardflag = MA
pausetime = 1,2
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0,-3
air.velocity = -0,-3
Fall = 1
fall.recover = 0
Envshake.time = 5

[State 452, FX Energia - Bola]
type = Explod
trigger1 = time%2=0
anim = 438
ID = 438
pos = 0,0
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
vfacing = 1
bindtime = 0
vel = -.5+cond(random%10=5,(-random%3),(-random%2)),-.5+cond(random%10=5,(-random%3),(-random%2))
random = 10,10
removetime = -2
scale = .005,.005
sprpriority = cond((random%10=[5,10]),3,1)
ownpal = 1
ignorehitpause = 1

[State 452, FX Energia - Bola]
type = Explod
trigger1 = time%2=0
anim = 438
ID = 438
pos = 0,0
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
vfacing = 1
bindtime = 0
vel = -.5+cond(random%10=5,(-random%3),(-random%2)),-.5+cond(random%10=5,(-random%3),(-random%2))
random = 10,10
removetime = -2
scale = .0025,.0025
sprpriority = cond((random%10=[5,10]),3,1)
ownpal = 1
ignorehitpause = 1

[State 452, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = -14

[State 452, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 451
trigger2 = stateno = 452
id = 001

[State 452, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 455
time = 999

[State 452, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 90
ignorehitpause = 1

[State 452, Trans]
type = Trans
trigger1 = 1
trans = add

[State 452, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 452, Fin];FX Explosion 
type = Changestate
trigger1 = movecontact
trigger2 = time = 30
value = 455
;-------------------------------------------------------------------------------
[Statedef 453]
type    = S
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 433
sprpriority = 3

[State 453, AfterImage]
type = AfterImage
trigger1 = time = 0
time = -1
length = 150
palcolor = 256
palinvertall = 0
palbright = 10,10,10
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .65,.65,.65
timegap = 2
framegap = 1
trans = add
ignorehitpause = 1

[State 453, HitDef]
type = HitDef
trigger1 = !movecontact
attr = A, NP
animtype  = Heavy
damage    = 15
hitflag = MAFDE
guardflag = MA
pausetime = 1,2
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1,-6
air.velocity = -1,-6
Fall = 1
fall.recover = 0
Envshake.time = 5

[State 453, FX Energia - Bola]
type = Explod
trigger1 = time%2=0
anim = 438
ID = 438
pos = 0,0
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
vfacing = 1
bindtime = 0
vel = -.5+cond(random%10=5,(-random%3),(-random%2)),-.5+cond(random%10=5,(-random%3),(-random%2))
random = 10,10
removetime = -2
scale = .005,.005
sprpriority = cond((random%10=[5,10]),3,1)
ownpal = 1
ignorehitpause = 1

[State 453, FX Energia - Bola]
type = Explod
trigger1 = time%2=0
anim = 438
ID = 438
pos = 0,0
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
vfacing = 1
bindtime = 0
vel = -.5+cond(random%10=5,(-random%3),(-random%2)),-.5+cond(random%10=5,(-random%3),(-random%2))
random = 10,10
removetime = -2
scale = .0025,.0025
sprpriority = cond((random%10=[5,10]),3,1)
ownpal = 1
ignorehitpause = 1

[State 453, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = -16

[State 453, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 451
trigger2 = stateno = 452
id = 001

[State 453, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 455
time = 999

[State 453, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 90
ignorehitpause = 1

[State 453, Trans]
type = Trans
trigger1 = 1
trans = add

[State 453, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 453, Fin];FX Explosion 
type = Changestate
trigger1 = movecontact
trigger2 = time = 30
value = 455
;-------------------------------------------------------------------------------
[Statedef 454]
type    = S
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 433
sprpriority = 3

[State 454, AfterImage]
type = AfterImage
trigger1 = time = 0
time = -1
length = 150
palcolor = 256
palinvertall = 0
palbright = 10,10,10
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .65,.65,.65
timegap = 2
framegap = 1
trans = add
ignorehitpause = 1

[State 454, HitDef]
type = HitDef
trigger1 = !movecontact
attr = A, NP
animtype  = Heavy
damage    = 25
hitflag = MAFDE
guardflag = MA
pausetime = 1,2
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1,-9
air.velocity = -1,-9
Fall = 1
fall.recover = 0
Envshake.time = 5

[State 454, FX Energia - Bola]
type = Explod
trigger1 = time%2=0
anim = 438
ID = 438
pos = 0,0
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
vfacing = 1
bindtime = 0
vel = -.5+cond(random%10=5,(-random%3),(-random%2)),-.5+cond(random%10=5,(-random%3),(-random%2))
random = 10,10
removetime = -2
scale = .005,.005
sprpriority = cond((random%10=[5,10]),3,1)
ownpal = 1
ignorehitpause = 1

[State 454, FX Energia - Bola]
type = Explod
trigger1 = time%2=0
anim = 438
ID = 438
pos = 0,0
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
vfacing = 1
bindtime = 0
vel = -.5+cond(random%10=5,(-random%3),(-random%2)),-.5+cond(random%10=5,(-random%3),(-random%2))
random = 10,10
removetime = -2
scale = .0025,.0025
sprpriority = cond((random%10=[5,10]),3,1)
ownpal = 1
ignorehitpause = 1

[State 454, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = -18

[State 454, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 451
trigger2 = stateno = 453
id = 001

[State 454, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 455
time = 999

[State 454, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 90
ignorehitpause = 1

[State 454, Trans]
type = Trans
trigger1 = 1
trans = add

[State 454, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 454, Fin];FX Explosion 
type = Changestate
trigger1 = movecontact
trigger2 = time = 30
value = 455
;-------------------------------------------------------------------------------
[Statedef 455]
type    = S
movetype= I
physics = S
juggle  = 2
ctrl = 0
anim = 9999
velset = 0,0
sprpriority = -1

[State 455, FX Ki Blast - Explosin]
type = PlaySnd
trigger1 = time = 0
value = S3,6
volume = 50

[State 455, FX Explosion IV - Ki Blast]
type = Explod
trigger1 = 1
anim = 437
ID = 437
pos = -10,-30
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
vfacing = 1
bindtime = 1
vel = .5,-.2
removetime = -2
scale = .25,.25
sprpriority = 3
shadow = 1,1,1
ownpal = 1
ignorehitpause = 1

[State 455, FX Explosion II - Ki Blast]
type = Explod
trigger1 = 1
anim = 435
ID = 435
pos = -13,-30
postype = P1  ;P2, Front, Back, Left, Right
facing = 1
vfacing = 1
bindtime = 1
vel = .5,-.2
removetime = -2
scale = .17,.17
sprpriority = 3
shadow = 1,1,1
ownpal = 1
ignorehitpause = 1

[State 455, AfterImage]
type = AfterImage
trigger1 = Time = 0
time = -1
length = 60
palcolor = 256
palinvertall = 0
palbright = 10,10,10
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .65,.65,.65
timegap = 2
framegap = 1
trans = add
ignorehitpause = 1

[State 455, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 001

[State 455, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 5

[State 455, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 20
y = 0

[State 455, Fin]
type = Destroyself
trigger1 = time = 1
;---------------------------------------------------------------------------------
; A - 1 : Air
;---------------------------------------------------------------------------------
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 11
ctrl = 0
anim = 600

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S4,4
volume = 10
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S6,14
volume = 10
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =movehit
value = S2,1
volume = 10
channel = -1
persistent=0
ignorehitpause=1

[State 0]
Type = Helper
Trigger1 = Time%4 = 0
ID = 101
StateNO = 101
IgnoreHitPause = 1

[State 0, Velset]
type = Velset
trigger1 = Movecontact = 1
x = -2
y = -2

[State 0, HitDef]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype = Heavy
damage = 95,5
guardflag = 0
pausetime = 12,12
hitsound = S1,14
guardsound = S4,1
ground.slidetime = 22
ground.hittime = 20
ground.velocity = -6,4
air.velocity = -6,8
fall = 1
envshake.time = 6
envshake.ampl = -9
envshake.freq = 35
fall.recover = 0
down.bounce = 1

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != 8100
trigger1 = movehit = 1
value = 8100

[State 200, Spark]
Type = Explod
Trigger1 = MoveHit = 1
Anim = 7002
ID = 7002
PosType = P2
pos = 0,-18
facing = 1
sprpriority = 2
SuperMove = 1
removeTime = -2
bindTime = 1
ownpal = 1
Scale = .33*Helper(999999),Fvar(16),.33*Helper(999999),Fvar(16)
RemoveOnGetHit = 1
OnTop = 1
angle = 45
Vel = -1,1
SuperMoveTime = 999
PauseMoveTime = 999
ignoreHitPause  = 1
persistent = 0

[state 0]
type = changestate
trigger1 = !animtime
value = 50
ctrl = 1
;---------------------------------------------------------------------------------
; A - 1 : Air
;---------------------------------------------------------------------------------
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 11
ctrl = 0
anim = 610

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S4,4
volume = 10
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S6,16
volume = 10
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =movehit
value = S2,5
volume = 10
channel = -1
persistent=0
ignorehitpause=1

[State 0]
Type = Helper
Trigger1 = Time%4 = 0
ID = 101
StateNO = 101
IgnoreHitPause = 1

[State 0, Velset]
type = Velset
trigger1 = Movecontact = 1
x = -2
y = -2

[State 0, HitDef]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype = Heavy
damage = 95,5
guardflag = 0
pausetime = 12,12
hitsound = S1,14
guardsound = S4,1
ground.slidetime = 22
ground.hittime = 20
ground.velocity = -6,4
air.velocity = -6,8
fall = 1
envshake.time = 6
envshake.ampl = -9
envshake.freq = 35
fall.recover = 0
down.bounce = 1

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != 8100
trigger1 = movehit = 1
value = 8100

[State 200, Spark]
Type = Explod
Trigger1 = MoveHit = 1
Anim = 7002
ID = 7002
PosType = P2
pos = 0,-18
facing = 1
sprpriority = 2
SuperMove = 1
removeTime = -2
bindTime = 1
ownpal = 1
Scale = .33*Helper(999999),Fvar(16),.33*Helper(999999),Fvar(16)
RemoveOnGetHit = 1
OnTop = 1
angle = 45
Vel = -1,1
SuperMoveTime = 999
PauseMoveTime = 999
ignoreHitPause  = 1
persistent = 0

[state 0]
type = changestate
trigger1 = !animtime
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 764]
type = S
movetype = I
physics = N
ctrl = 0
anim = 764
sprpriority = 3

[State 0, PalFXWiz]
Type = PalFX
TriggerAll = Root,Var(2) = 0
Trigger1 = 1
Time = -1
Add = 0,0,0
Mul = 356,356,356
Color = 0

[State 0, PalFXWiz]
type = PalFX
triggerall = Root,Var(2) = 0
triggerall = Root,Var(55) = 6
trigger1 = 1
time = -1
add = 0,-150,-150
mul = 512,512,512
color = 0

[State 0, PalFXWiz]
type = PalFX
triggerall = root,var(2) = 1
trigger1 = 1
time = -1
add = 0,-25,-130
mul = 512,512,512
color = 0

[State 0, PalFXWiz]
type = PalFX
triggerall = Root,Var(2) = 1
triggerall = Root,Var(55) = 6
trigger1 = 1
time = -1
add = 0,-150,-150
mul = 512,512,512
color = 0

[State 0, PalFXWiz]
type = PalFX
triggerall = root,var(2) = 2
trigger1 = 1
time = -1
add = 0,-25,-130
mul = 512,512,512
color = 0

[State 0, PalFXWiz]
type = PalFX
triggerall = Root,Var(2) = 2
triggerall = Root,Var(55) = 6
trigger1 = 1
time = -1
add = 0,-150,-150
mul = 512,512,512
color = 0

[State 0, PalFXWiz]
type = PalFX
trigger1 = root,var(2) = 4
trigger1 = 1
time = -1
add = 0,-50,-200
mul = 512,512,512
color = 0

[State 0, PalFXWiz]
type = PalFX
triggerall = root,var(2) = 5
trigger1 = 1
time = -1
add = -100,-50,0
mul = 512,512,512
color = 0

[State 0, PalFXWiz]
type = PalFX
triggerall = root,var(2) = 6
trigger1 = 1
time = -1
add = -100,-100,0
mul = 512,512,512
color = 0

[State 0, PalFXWiz]
type = PalFX
triggerall = root,var(2) = 7
trigger1 = 1
time = -1
add = 0,-130,-10
mul = 512,512,512
color = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-30

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = !AnimTime
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; Honda Efeito
[Statedef 898]
type    = S
movetype= A
physics = N
juggle  = 2
velset = 0,0
ctrl = 0
anim = 898 
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = .2+time*.4,.2+time*.4

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 300-(time*10),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = time = 30
;-------------------------------------------------------------------------------
[Statedef 997]
type=A
movetype=I
physics=N
sprpriority=5

[State 0,PalFXWiz]
type=PalFX
trigger1=1
time=999999
add = -100,-100,0
mul=512,512,512
invertall=0
color=256


[State 0,ChangeAnim]
type=ChangeAnim
TriggerALL=IsHelper(997)
trigger1=!Time
value=828
elem=1

[State 0,VarSet]
type=VarSet
trigger1=!time
fv=1
value=random%360

[State 0,AngleDraw]
type=AngleDraw
trigger1=1
value=fvar(1)

[State 0,Trans]
type=Trans
trigger1=1
trans=add

[State 0,AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noshadow

[State 0,DestroySelf]
type=DestroySelf
trigger1=!AnimTime
;-------------------------------------------------------------------------------
[Statedef 998]
type=A
movetype=I
physics=N
sprpriority=4

[State 0,PalFXWiz]
type=PalFX
trigger1=1
time=999999
add = -100,-100,0
mul=512,512,512
invertall=0
color=256

[State 0,ChangeAnim]
type=ChangeAnim
TriggerALL=IsHelper(998)
trigger1=!Time
value=829
elem=1

[State 0,VarSet]
type=VarSet
trigger1=!time
fv=1
value=random%360

[State 0,AngleDraw]
type=AngleDraw
trigger1=1
value=fvar(1)
scale=1+(Time*.05),1+(Time*.05)

[State 0,Trans]
type=Trans
trigger1=1
trans=add

[State 0,AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noshadow

[State 0,DestroySelf]
type=DestroySelf
trigger1=!AnimTime
;==================================================================================================================
; Hit_Spark
;==================================================================================================================
[Statedef 980]
Type = A
moveType = I
physics = N
Anim = 7000
sprpriority = 5

[State 0,BindToParent]
Type=BindToParent
Triggerall = Parent,Stateno = 1555
Trigger1 = Time = [0,1]
pos = 0,-2*Helper(999999),Fvar(16)

[State 0,VarSet]
Type = VarSet
Trigger1 = !Time
v = 1
value = random%360

[State 0,AngleDraw]
Type = AngleDraw
Trigger1 = 1
value = var(1)+(Time*1)
Scale = 2.5+Time*.2,2.5+Time*.2

[State 0,Trans]
Type = Trans
Trigger1 = 1
trans = AddAlpha
alpha = 300-(Time*15),256
[State 0,AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
flag = NoShadow

[State 0, Helper]
Type = Helper
Trigger1 = !Time
helperType = normal
name = "Spark"
ID = 981
Stateno = 981
pos = 0,0
PosType = P1
facing = -1
ownpal = 1
ignoreHitPause = 1
SuperMoveTime = 999
PauseMoveTime = 999

[State 200,End]
Type = Destroyself
Trigger1 = !AnimTime
;==================================================================================================================
; Spark_I
;==================================================================================================================
[Statedef 981]
Type = A
moveType = I
physics = N
Anim = 7001
SprPriority = 4

[State 0,VarSet]
Type = VarSet
Trigger1 = !Time
v = 1
value = random%360

[State 0,AngleDraw]
Type = AngleDraw
Trigger1 = 1
value = var(1)+(Time*1)
Scale = 1.5+Time*.2,1.5+Time*.2

[State 0,Trans]
Type = Trans
Trigger1 = 1
trans = AddAlpha
alpha = 300-(Time*15),256
[State 0,AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
flag = NoShadow

[State 200,End]
Type = Destroyself
Trigger1 = !AnimTime
;==================================================================================================================
; Hit_Spark
;==================================================================================================================
[Statedef 982]
Type = A
moveType = I
physics = N
Anim = 7001
sprpriority = 5

[State 0, PalFXWiz]
Type = PalFX
Trigger1 = 1
Time = -1
Add = -15,-105,0
Mul = 50,50,50
Color = 0

[State 0, PalFXWiz]
Type = PalFX
Triggerall = Root,Var(55) = 9
Trigger1 = 1
Time = -1
Add = -100,-50,0
Mul = 50,50,50
Color = 0

[State 0, PalFXWiz]
Type = PalFX
Triggerall = Root,Var(55) = 10
Trigger1 = 1
Time = -1
Add = 0,-80,-50
Mul = 50,50,50
Color = 0

[State 0, PalFXWiz]
Type = PalFX
Triggerall = Root,Var(55) = 12
Trigger1 = 1
Time = -1
Add = -100,-110,0
Mul = 50,50,50
Color = 0


[State 0,BindToParent]
Type=BindToParent
Triggerall = Parent,Stateno = 1555
Trigger1 = Time = [0,1]
pos = 0,-2*Helper(999999),Fvar(16)

[State 0,VarSet]
Type = VarSet
Trigger1 = !Time
v = 1
value = random%360

[State 0,AngleDraw]
Type = AngleDraw
Trigger1 = 1
value = var(1)+(Time*1)
Scale = 8+Time*.2,8+Time*.2


[State 0,AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
flag = NoShadow


[State 200,End]
Type = Destroyself
Trigger1 = !AnimTime
;=================================================================
;==================================================================================================================
; Spark_I
;==================================================================================================================
[Statedef 981]
Type = A
moveType = I
physics = N
Anim = 7001
SprPriority = 4

[State 0,VarSet]
Type = VarSet
Trigger1 = !Time
v = 1
value = random%360

[State 0,AngleDraw]
Type = AngleDraw
Trigger1 = 1
value = var(1)+(Time*1)
Scale = 1.5+Time*.2,1.5+Time*.2

[State 0,Trans]
Type = Trans
Trigger1 = 1
trans = AddAlpha
alpha = 300-(Time*15),256
[State 0,AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
flag = NoShadow

[State 200,End]
Type = Destroyself
Trigger1 = !AnimTime
;-------------------------------------------------------------------------------
; Slash Spark 
[Statedef 991]
type    = A
movetype= I
physics = N
anim = 7004
sprpriority = 3

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = root,var(2) = 1
trigger1 = time = 0
value = 7004


[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(1)
scale = 1+time*.1,1+time*.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;-----------------------------------------------------------
; MultiHelper Hitspark
[Statedef 800]
type = A
anim = 9999

[State 0, VarSet]
type = VarSet
trigger1 = !time
v = 2
value = random%360
[State 0, Hitspark CeroMedium1]
type = Explod
triggerall = ishelper(033)
trigger1 = !time
anim = 7621
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .1+.08,.1+.08
sprpriority = 5
ownpal = 1
remappal = 120,1
angle = var(2)
trans = addalpha
alpha = 156,256
[State 0, Hitspark CeroMedium1]
type = Explod
triggerall = ishelper(033)
trigger1 = !time
anim = 7621
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .1+.08,.1+.08
sprpriority = 0
ownpal = 1
remappal = 120,1
angle = var(2)
trans = addalpha
alpha = 100,256
[State 0, Hitspark CeroMedium1SUB]
type = Explod
triggerall = ishelper(033)
trigger1 = !time
anim = 7621
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .1+.06,.1+.06
sprpriority = -1
ownpal = 1
trans = sub
angle = var(2)
[State 0, Hitspark CeroMedium2]
type = Explod
triggerall = ishelper(033)
trigger1 = !time
anim = 7624
pos = 1,1
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .29,.29
sprpriority = 5
ownpal = 1
remappal = 120,1
angle = var(2)
trans = addalpha
alpha = 156,256
[State 0, Hitspark CeroMedium2]
type = Explod
triggerall = ishelper(033)
trigger1 = !time
anim = 7624
pos = 1,1
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .29,.29
sprpriority = 0
ownpal = 1
remappal = 120,1
angle = var(2)
trans = addalpha
alpha = 100,256
[State 0, Hitspark CeroMedium2SUB]
type = Explod
triggerall = ishelper(033)
trigger1 = !time
anim = 7624
pos = 1,1
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .29,.29
sprpriority = -1
ownpal = 1
trans = sub
angle = var(2)
[State 0, Hitspark CeroMedium3]
type = Explod
triggerall = ishelper(033)
trigger1 = !time
anim = 7619
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .10,.10
sprpriority = -1
ownpal = 1
angle = var(2)
trans = sub
;-------------------------------------------------------------------------
[State 0, Hitspark CeroMedium1]
type = Explod
triggerall = ishelper(031)
trigger1 = !time
anim = 7621
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .2,.2
sprpriority = 5
ownpal = 1
remappal = 3,9
angle = var(2)
trans = addalpha
alpha = 156,256
[State 0, Hitspark CeroMedium1]
type = Explod
triggerall = ishelper(031)
trigger1 = !time
anim = 7621
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .2,.2
sprpriority = 0
ownpal = 1
remappal = 3,9
angle = var(2)
trans = addalpha
alpha = 100,256
[State 0, Hitspark CeroMedium1SUB]
type = Explod
triggerall = ishelper(031)
trigger1 = !time
anim = 7621
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .2+.03,.2+.03
sprpriority = -1
ownpal = 1
trans = sub
angle = var(2)
[State 0, Hitspark CeroMedium2]
type = Explod
triggerall = ishelper(031)
trigger1 = !time
anim = 7624
pos = 1,1
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .33,.33
sprpriority = 5
ownpal = 1
remappal = 110,1
angle = var(2)
trans = addalpha
alpha = 156,256
[State 0, Hitspark CeroMedium2]
type = Explod
triggerall = ishelper(031)
trigger1 = !time
anim = 7624
pos = 1,1
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .33,.33
sprpriority = 0
ownpal = 1
remappal = 110,1
angle = var(2)
trans = addalpha
alpha = 100,256
[State 0, Hitspark CeroMedium2SUB]
type = Explod
triggerall = ishelper(031)
trigger1 = !time
anim = 7624
pos = 1,1
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .33,.33
sprpriority = -1
ownpal = 1
trans = sub
angle = var(2)
[State 0, Hitspark CeroMedium3]
type = Explod
triggerall = ishelper(031)
trigger1 = !time
anim = 7619
pos = 0,0
postype = p1  
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .15,.15
sprpriority = -1
ownpal = 1
angle = var(2)
trans = sub

[State 0, Hitspark Medium1]
type = Explod
triggerall = ishelper(041)
trigger1 = !time
anim = 7617
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .28,.28
sprpriority = 6
ownpal = 1
remappal = 3,4
angle = var(2)
[State 0, Hitspark Medium1SUB]
type = Explod
triggerall = ishelper(041)
trigger1 = !time
anim = 7617
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .28,.28
sprpriority = 5
ownpal = 1
trans = sub
angle = var(2)
[State 0, Hitspark Medium2]
type = Explod
triggerall = ishelper(041)
trigger1 = !time
anim = 7614
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .37,.37
sprpriority = 6
ownpal = 1
remappal = 3,5
angle = var(2)
[State 0, Hitspark Medium2SUB]
type = Explod
triggerall = ishelper(041)
trigger1 = !time
anim = 7614
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .37,.37
sprpriority = 5
ownpal = 1
trans = sub
angle = var(2)
[State 0, Hitspark Medium3]
type = Explod
triggerall = ishelper(041)
trigger1 = !time
anim = 7616
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .12,.12
sprpriority = 6
ownpal = 1
remappal = 3,5
angle = var(2)
[State 0, Hitspark Medium3SUB]
type = Explod
triggerall = ishelper(041)
trigger1 = !time
anim = 7616
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .12,.12
sprpriority = 5
ownpal = 1
trans = sub
angle = var(2)

;-----------------------------------------
[State 0, Hitspark Hard1]
type = Explod
triggerall = ishelper(042)
trigger1 = !time
anim = 7617
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .37,.37
sprpriority = 6
ownpal = 1
remappal = 3,4
angle = var(2)
[State 0, Hitspark Hard1SUB]
type = Explod
triggerall = ishelper(042)
trigger1 = !time
anim = 7617
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .37,.37
sprpriority = 5
ownpal = 1
trans = sub
angle = var(2)
[State 0, Hitspark Hard2]
type = Explod
triggerall = ishelper(042)
trigger1 = !time
anim = 7614
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .44,.44
sprpriority = 6
ownpal = 1
remappal = 3,5
angle = var(2)
[State 0, Hitspark Hard2SUB]
type = Explod
triggerall = ishelper(042)
trigger1 = !time
anim = 7614
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .44,.44
sprpriority = 5
ownpal = 1
trans = sub
angle = var(2)
[State 0, Hitspark Hard3]
type = Explod
triggerall = ishelper(042)
trigger1 = !time
anim = 7616
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .16,.16
sprpriority = 6
ownpal = 1
remappal = 3,5
angle = var(2)
[State 0, Hitspark Hard3SUB]
type = Explod
triggerall = ishelper(042)
trigger1 = !time
anim = 7616
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = .16,.16
sprpriority = 5
ownpal = 1
trans = sub
angle = var(2)
;---------------------------------------
[State 0, Hitspark CeroHard1]
type = Explod
triggerall = ishelper(032)
trigger1 = !time
anim = 7621
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = cond(root,stateno = 1402,0,999999)
supermovetime = 999999
scale = .27,.27
sprpriority = 5
ownpal = 1
remappal = 3,26
angle = var(2)
trans = addalpha
alpha = 156,256
[State 0, Hitspark CeroHard1]
type = Explod
triggerall = ishelper(032)
trigger1 = !time
anim = 7621
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = cond(root,stateno = 1402,0,999999)
supermovetime = 999999
scale = .27,.27
sprpriority = 0
ownpal = 1
remappal = 3,26
angle = var(2)
trans = addalpha
alpha = 100,256
[State 0, Hitspark CeroHard1SUB]
type = Explod
triggerall = ishelper(032)
trigger1 = !time
anim = 7621
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = cond(root,stateno = 1402,0,999999)
supermovetime = 999999
scale = .27,.27
sprpriority = -1
ownpal = 1
trans = sub
angle = var(2)
[State 0, Hitspark CeroHard2]
type = Explod
triggerall = ishelper(032)
trigger1 = !time
anim = 7624
pos = 1,1
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = cond(root,stateno = 1402,0,999999)
supermovetime = 999999
scale = .36,.36
sprpriority = 5
ownpal = 1
remappal = 3,25
angle = var(2)
trans = addalpha
alpha = 156,256
[State 0, Hitspark CeroHard2]
type = Explod
triggerall = ishelper(032)
trigger1 = !time
anim = 7624
pos = 1,1
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = cond(root,stateno = 1402,0,999999)
supermovetime = 999999
scale = .36,.36
sprpriority = 0
ownpal = 1
remappal = 3,25
angle = var(2)
trans = addalpha
alpha = 100,256
[State 0, Hitspark CeroHard2SUB]
type = Explod
triggerall = ishelper(032)
trigger1 = !time
anim = 7624
pos = 1,1
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = cond(root,stateno = 1402,0,999999)
supermovetime = 999999
scale = .36,.36
sprpriority = -1
ownpal = 1
trans = sub
angle = var(2)
[State 0, Hitspark CeroHard3]
type = Explod
triggerall = ishelper(032)
trigger1 = !time
anim = 7622
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = cond(root,stateno = 1402,0,999999)
supermovetime = 999999
scale = .33,.33
sprpriority = 5
ownpal = 1
remappal = 3,26
angle = var(2)
trans = addalpha
alpha = 156,256
[State 0, Hitspark CeroHard3]
type = Explod
triggerall = ishelper(032)
trigger1 = !time
anim = 7622
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = cond(root,stateno = 1402,0,999999)
supermovetime = 999999
scale = .33,.33
sprpriority = 0
ownpal = 1
remappal = 3,26
angle = var(2)
trans = addalpha
alpha = 100,256
[State 0, Hitspark CeroHard3SUB]
type = Explod
triggerall = ishelper(032)
trigger1 = !time
anim = 7622
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = cond(root,stateno = 1402,0,999999)
supermovetime = 999999
scale = .33,.33
sprpriority = -1
ownpal = 1
trans = sub
angle = var(2)
[State 0, Hitspark CeroHard4]
type = Explod
triggerall = ishelper(032)
trigger1 = !time
anim = 7619
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = cond(root,stateno = 1402,0,999999)
supermovetime = 999999
scale = .17,.17
sprpriority = 5
ownpal = 1
angle = var(2)
trans = sub
[State 0, Hitspark CeroHard5]
type = Explod
triggerall = ishelper(032)
trigger1 = !time
anim = 1410
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = cond(root,stateno = 1402,0,999999)
supermovetime = 999999
scale = 1,1
sprpriority = 5
ownpal = 1
remappal = 3,25
angle = var(2)
trans = addalpha
alpha = 156,256
[State 0, Hitspark CeroHard5]
type = Explod
triggerall = ishelper(032)
trigger1 = !time
anim = 1410
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = cond(root,stateno = 1402,0,999999)
supermovetime = 999999
scale = 1,1
sprpriority = 0
ownpal = 1
remappal = 3,25
angle = var(2)
trans = addalpha
alpha = 100,256
[State 0, Hitspark CeroHard5SUB]
type = Explod
triggerall = ishelper(032)
trigger1 = !time
anim = 1410
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = cond(root,stateno = 1402,0,999999)
supermovetime = 999999
scale = 1,1
sprpriority = -1
ownpal = 1
trans = sub
angle = var(2)

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 15
ignorehitpause = 1
;--------------------------------------------------------------
[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52 ;Jump land
trigger2 = stateno = 106 ;Run-back land
value = 40, 0
;==================================================================================================================
; Hit_Spark
;==================================================================================================================
[Statedef 980]
Type = A
moveType = I
physics = N
Anim = 7000
sprpriority = 5

[State 0,BindToParent]
Type=BindToParent
Triggerall = Parent,Stateno = 1555
Trigger1 = Time = [0,1]
pos = 0,-2*Helper(999999),Fvar(16)

[State 0,VarSet]
Type = VarSet
Trigger1 = !Time
v = 1
value = random%360

[State 0,AngleDraw]
Type = AngleDraw
Trigger1 = 1
value = var(1)+(Time*1)
Scale = 2.5+Time*.2,2.5+Time*.2

[State 0,Trans]
Type = Trans
Trigger1 = 1
trans = AddAlpha
alpha = 300-(Time*15),256
[State 0,AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
flag = NoShadow

[State 0, Helper]
Type = Helper
Trigger1 = !Time
helperType = normal
name = "Spark"
ID = 981
Stateno = 981
pos = 0,0
PosType = P1
facing = -1
ownpal = 1
ignoreHitPause = 1
SuperMoveTime = 999
PauseMoveTime = 999

[State 200,End]
Type = Destroyself
Trigger1 = !AnimTime
;==================================================================================================================
; Spark_I
;==================================================================================================================
[Statedef 981]
Type = A
moveType = I
physics = N
Anim = 7001
SprPriority = 4

[State 0,VarSet]
Type = VarSet
Trigger1 = !Time
v = 1
value = random%360

[State 0,AngleDraw]
Type = AngleDraw
Trigger1 = 1
value = var(1)+(Time*1)
Scale = 1.5+Time*.2,1.5+Time*.2

[State 0,Trans]
Type = Trans
Trigger1 = 1
trans = AddAlpha
alpha = 300-(Time*15),256
[State 0,AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
flag = NoShadow

[State 200,End]
Type = Destroyself
Trigger1 = !AnimTime
;==================================================================================================================
; Hit_Spark
;==================================================================================================================
[Statedef 982]
Type = A
moveType = I
physics = N
Anim = 7001
sprpriority = 5

[State 0, PalFXWiz]
Type = PalFX
Trigger1 = 1
Time = -1
Add = -15,-105,0
Mul = 50,50,50
Color = 0

[State 0, PalFXWiz]
Type = PalFX
Triggerall = Root,Var(55) = 9
Trigger1 = 1
Time = -1
Add = -100,-50,0
Mul = 50,50,50
Color = 0

[State 0, PalFXWiz]
Type = PalFX
Triggerall = Root,Var(55) = 10
Trigger1 = 1
Time = -1
Add = 0,-80,-50
Mul = 50,50,50
Color = 0

[State 0, PalFXWiz]
Type = PalFX
Triggerall = Root,Var(55) = 12
Trigger1 = 1
Time = -1
Add = -100,-110,0
Mul = 50,50,50
Color = 0


[State 0,BindToParent]
Type=BindToParent
Triggerall = Parent,Stateno = 1555
Trigger1 = Time = [0,1]
pos = 0,-2*Helper(999999),Fvar(16)

[State 0,VarSet]
Type = VarSet
Trigger1 = !Time
v = 1
value = random%360

[State 0,AngleDraw]
Type = AngleDraw
Trigger1 = 1
value = var(1)+(Time*1)
Scale = 8+Time*.2,8+Time*.2


[State 0,AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
flag = NoShadow


[State 200,End]
Type = Destroyself
Trigger1 = !AnimTime
;=================================================================
;==================================================================================================================
; Spark_I
;==================================================================================================================
[Statedef 981]
Type = A
moveType = I
physics = N
Anim = 7001
SprPriority = 4

[State 0,VarSet]
Type = VarSet
Trigger1 = !Time
v = 1
value = random%360

[State 0,AngleDraw]
Type = AngleDraw
Trigger1 = 1
value = var(1)+(Time*1)
Scale = 1.5+Time*.2,1.5+Time*.2

[State 0,Trans]
Type = Trans
Trigger1 = 1
trans = AddAlpha
alpha = 300-(Time*15),256
[State 0,AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
flag = NoShadow

[State 200,End]
Type = Destroyself
Trigger1 = !AnimTime
;==================================================================================================================
;Guard_FX
;==================================================================================================================
[Statedef 990]
type = A
movetype = I
physics = N
anim = 7012
sprpriority = 5

[State 0, PalFXWiz]
Type = PalFX
Trigger1 = 1
Time = -1
Add = -15,-105,0
Mul = 999,999,999
Color = 0

[State 0, PalFXWiz]
Type = PalFX
Triggerall = Root,Var(55) = 9
Trigger1 = 1
Time = -1
Add = -100,-50,0
Mul = 999,999,999
Color = 0

[State 0, PalFXWiz]
Type = PalFX
Triggerall = Root,Var(55) = 10
Trigger1 = 1
Time = -1
Add = 0,-80,-50
Mul = 999,999,999
Color = 0

[State 0, PalFXWiz]
Type = PalFX
Triggerall = Root,Var(55) = 12
Trigger1 = 1
Time = -1
Add = -100,-110,0
Mul = 999,999,999
Color = 0
[State 0, AngleDraw]
type=AngleDraw
Trigger1 = 1
value = Fvar(1)
scale = 1,1

[State 0, Trans]
type = Trans
Trigger1 = 1
trans = addalpha
alpha = 200,256
[State 0, AssertSpecial]
type = AssertSpecial
Trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
Trigger1 = !AnimTime
;==================================================================================================================
; Hit_Spark : Susano
;==================================================================================================================
[Statedef 985]
Type = A
moveType = I
physics = N
Anim = 7000
sprpriority = 5

[State 0,BindToParent]
Type=BindToParent
Triggerall = Parent,Stateno = 1555
Trigger1 = Time = [0,1]
pos = 0,-2*Helper(999999),Fvar(16)

[State 0,VarSet]
Type = VarSet
Trigger1 = !Time
v = 1
value = random%360

[State 0,AngleDraw]
Type = AngleDraw
Trigger1 = 1
value = var(1)+(Time*1)
Scale = 2.5+Time*.2,2.5+Time*.2

[State 0,Trans]
Type = Trans
Trigger1 = 1
trans = Sub

[State 0,AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
flag = NoShadow

[State 0, Helper]
Type = Helper
Trigger1 = !Time
helperType = normal
name = "Spark"
ID = 986
Stateno = 986
pos = 0,0
PosType = P1
facing = -1
ownpal = 1
ignoreHitPause = 1
SuperMoveTime = 999
PauseMoveTime = 999

[State 200,End]
Type = Destroyself
Trigger1 = !AnimTime
;==================================================================================================================
; Spark_I : Susano
;==================================================================================================================
[Statedef 986]
Type = A
moveType = I
physics = N
Anim = 7001
SprPriority = 4

[State 0,VarSet]
Type = VarSet
Trigger1 = !Time
v = 1
value = random%360

[State 0,AngleDraw]
Type = AngleDraw
Trigger1 = 1
value = var(1)+(Time*1)
Scale = 1.5+Time*.2,1.5+Time*.2

[State 0,Trans]
Type = Trans
Trigger1 = 1
trans = Sub
[State 0,AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
flag = NoShadow

[State 200,End]
Type = Destroyself
Trigger1 = !AnimTime
;==================================================================================================================
; Hit_Spark : Susano Roxo
;==================================================================================================================
[Statedef 987]
Type = A
moveType = I
physics = N
Anim = 7000
sprpriority = 5

[State 0, PalFXWiz]
Type = PalFX
Trigger1 = 1
Time = -1
Add = -15,-105,0
Mul = 999,999,999
Color = 0

[State 0, PalFXWiz]
Type = PalFX
Triggerall = Root,Var(55) = 9
Trigger1 = 1
Time = -1
Add = -100,-50,0
Mul = 999,999,999
Color = 0

[State 0, PalFXWiz]
Type = PalFX
Triggerall = Root,Var(55) = 10
Trigger1 = 1
Time = -1
Add = 0,-80,-50
Mul = 999,999,999
Color = 0

[State 0, PalFXWiz]
Type = PalFX
Triggerall = Root,Var(55) = 12
Trigger1 = 1
Time = -1
Add = -100,-110,0
Mul = 999,999,999
Color = 0

[State 0,BindToParent]
Type=BindToParent
Triggerall = Parent,Stateno = 1555
Trigger1 = Time = [0,1]
pos = 0,-2*Helper(999999),Fvar(16)

[State 0,VarSet]
Type = VarSet
Trigger1 = !Time
v = 1
value = random%360

[State 0,AngleDraw]
Type = AngleDraw
Trigger1 = 1
value = var(1)+(Time*1)
Scale = 2.5+Time*.2,2.5+Time*.2


[State 0,AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
flag = NoShadow

[State 0, Helper]
Type = Helper
Trigger1 = !Time
helperType = normal
name = "Spark"
ID = 986
Stateno = 986
pos = 0,0
PosType = P1
facing = -1
ownpal = 1
ignoreHitPause = 1
SuperMoveTime = 999
PauseMoveTime = 999

[State 200,End]
Type = Destroyself
Trigger1 = !AnimTime
;==================================================================================================================
; Spark_I : Susano Roxo
;==================================================================================================================
[Statedef 988]
Type = A
moveType = I
physics = N
Anim = 7001
SprPriority = 4

[State 0, PalFXWiz]
Type = PalFX
Trigger1 = 1
Time = -1
Add = -15,-105,0
Mul = 999,999,999
Color = 0

[State 0, PalFXWiz]
Type = PalFX
Triggerall = Root,Var(55) = 9
Trigger1 = 1
Time = -1
Add = -100,-50,0
Mul = 999,999,999
Color = 0

[State 0, PalFXWiz]
Type = PalFX
Triggerall = Root,Var(55) = 10
Trigger1 = 1
Time = -1
Add = 0,-80,-50
Mul = 999,999,999
Color = 0

[State 0, PalFXWiz]
Type = PalFX
Triggerall = Root,Var(55) = 12
Trigger1 = 1
Time = -1
Add = -100,-110,0
Mul = 999,999,999
Color = 0

[State 0,VarSet]
Type = VarSet
Trigger1 = !Time
v = 1
value = random%360

[State 0,AngleDraw]
Type = AngleDraw
Trigger1 = 1
value = var(1)+(Time*1)
Scale = 1.5+Time*.2,1.5+Time*.2

[State 0,AssertSpecial]
Type = AssertSpecial
Trigger1 = 1
flag = NoShadow

[State 200,End]
Type = Destroyself
Trigger1 = !AnimTime
;=====================================================
; Rocas
[Statedef 950]
type    = A
movetype= I
physics = N
anim = 8261
sprpriority = 10

[State 0, PosSet]
type = PosSet
trigger1 = time = 0 
y = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = 1,0.2+time*.1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 10
scale = 1,1

[State 0, Trans]
type = Trans
trigger1 = time < 5
trans = addalpha
alpha = 100+(time*14),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;-------------------------------------------------------------------------------
; Chidori Spark 1
;-------------------------------------------------------------------------------
[statedef 7005]
type = u
anim = 7005
sprpriority = 10

[state 0,Remappal]
type = Remappal
trigger1 = (parent,stateno = [8020,8029])
source = 3,0
dest = 3,1

[state 0,Remappal]
type = Remappal
trigger1 = parent,stateno = [8030,8039]
source = 3,0
dest = 100,1

[state 0,Remappal]
type = Remappal
trigger1 = parent,stateno = [8040,8045]
source = 3,0
dest = 110,1

[state 0,Remappal]
type = Remappal
trigger1 = parent,stateno = [8046,8049]
source = 3,0
dest = 3,8

[state 0,Varset]
type = Varset
trigger1 = time = 0
v = 1
value = - random % 180

[state 0,Angledaw]
type = Angledraw
trigger1 = 1
value = var(1)

[state 0,Explod]
type = Explod
trigger1 = time = 0
anim = anim
id = anim
pos = 0, 0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 0
scale = const(size.xscale),const(size.yscale)
angle = var(1)
ownpal = 1
remappal = 3,0
removeongethit = 1
ignorehitpause = 1
supermovetime = 0
pausemovetime = 0
trans = Sub

[state 0,Destroiself]
type = Destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; Chidori Spark 2
;-------------------------------------------------------------------------------
[statedef 7008]
type = u
anim = 9999

[state 0,Varset]
type = Varset
trigger1 = time = 0
v = 1
value = - random % 180
[state 0,Varset]
type = Varset
trigger1 = time = 0
v = 2
value = -15 +random % 30
[state 0,Varset]
type = Varset
trigger1 = time = 0
v = 3
value = 0 -random % 60

[state 0,Explod]
type = explod
trigger1 = time = 0
anim = 7008
id = 7008
pos = var(2),var(3)
postype = p2
facing = 1
bindtime = -1
removetime = -1
sprpriority = 20
scale = const(size.xscale),const(size.yscale)
angle = var(1)
ownpal = 1
remappal = 110,1
removeongethit = 1
ignorehitpause = 1
supermovetime = 0
pausemovetime = 0
trans = add

[state 0, Destroyself]
type = Destroyself
trigger1 = time = 100
removeexplods = 1
;-------------------------------------------------------------------------------
; Chidori Spark 2
;-------------------------------------------------------------------------------
[statedef 7009]
type = u
anim = 7009
sprpriority = 4

[state 0,Remappal]
type = Remappal
trigger1 = (parent,stateno = [8020,8029])
source = 3,0
dest = 3,1

[state 0,Remappal]
type = Remappal
trigger1 = parent,stateno = [8030,8039]
source = 3,0
dest = 110,1

[state 0,Varset]
type = Varset
trigger1 = time = 0
v = 1
value = - random % 180

[state 0,Angledraw]
type = Angledraw
trigger1 = 1
value = var(1)

[state 0, Destroyself]
type = Destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; Chidori Spark 3
;-------------------------------------------------------------------------------
[statedef 7011]
type = u
anim = 7011
sprpriority = 4

[state 0,Remappal]
type = Remappal
trigger1 = (parent,stateno = [8020,8029])
source = 3,0
dest = 3,1

[state 0,Remappal]
type = Remappal
trigger1 = parent,stateno = [8030,8039]
source = 3,0
dest = 100,1

[state 0,Remappal]
type = Remappal
trigger1 = parent,stateno = [8040,8045]
source = 3,0
dest = 110,1


[state 0, Varset]
type = Varset
trigger1 = time = 0
v = 1
value = - random % 180

[state 0,Angledraw]
type = Angledraw
trigger1 = 1
value = var(1)


[state 0,Destoyself]
type = Destroyself
trigger1 = animtime = 0

;-------------------------------------------------------------------------------
; Chidori Spark 4
;-------------------------------------------------------------------------------
[statedef 7007]
type = u
anim = 7007
sprpriority = 4


[state 0,Remappal]
type = Remappal
trigger1 = (parent,stateno = [8020,8029])
source = 3,0
dest = 3,1

[state 0,Remappal]
type = Remappal
trigger1 = parent,stateno = [8030,8039]
source = 3,0
dest = 100,1

[state 0,Remappal]
type = Remappal
trigger1 = parent,stateno = [8040,8045]
source = 3,0
dest = 110,1

[state 0,Varset]
type = Varset
trigger1 = time = 0
v = 1
value = - random % 180

[state 0,Angledraw]
type = Angledraw
trigger1 = 1
value = var(1)

[state 0,Destroyself]
type = Destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; Chidori Spark 1 Cor
;-------------------------------------------------------------------------------
[statedef 7015]
type = u
anim = 9999

[state 0,Helper]
type = Helper
trigger1 = time = 0
stateno = 7008

[state 0,Destroyself]
type = Destroyself
trigger1 = time = 100

;-------------------------------------------------------------------------------
; Chidori Spark 2  Cor 
;-------------------------------------------------------------------------------
[statedef 7014]
type = u
anim = 9999

[state 0,Helper]
type = Helper
trigger1 = time = 2
stateno = 7009

[state 0,Helper]
type = Helper
trigger1 = time = 0
stateno = 7006

[state 0,Helper]
type = Helper
trigger1 = time = 0
stateno = 7011

[state 0,Helper]
type = Helper
trigger1 = time = 1
stateno = 7007
size.xscale = .08
size.yscale = .08


[state 0,Destrouself]
type = Destroyself
trigger1 = time = 30
;-------------------------------------------------------------------------------
; Chidori Spark 6
;-------------------------------------------------------------------------------
[statedef 7006]
type = u
anim = 7006
sprpriority = 4

[state 0,Remappal]
type = Remappal
trigger1 = (parent,stateno = [8020,8029])
source = 3,0
dest = 3,1

[state 0,Remappal]
type = Remappal
trigger1 = parent,stateno = [8030,8039]
source = 3,0
dest = 100,1

[state 0,Varset]
type = Varset
trigger1 = time = 0
v = 1
value = - random % 180

[state 0,Angledraw]
type = Angledraw
trigger1 = 1
value = var(1)

[state 0,Explod]
type = Explod
trigger1 = time = 0
anim = anim
id = anim
pos = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
sprpriority = 0
scale = const(size.xscale),const(size.yscale)
angle = var(1)
ownpal = 1
remappal = 3,0
removeongethit = 1
ignorehitpause = 1
supermovetime = 0
pausemovetime = 0
trans = sub

[state 0,Destroyself]
type = Destroyself
trigger1 = animtime = 0
;-----------------------------------------------------------------
[statedef 8060]
type = u
sprpriority = 5

[state 0]
type = nothitby
trigger1 = 1
value = sca,na,sa,ha,np,sp,hp,nt,st,ht
time = -1
ignorehitpause = 1

[state 0]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[state 0]
type = turn
trigger1 = facing != root, facing
ignorehitpause = 1

[state 0]
type = angledraw
trigger1 = 1
scale = 1 + (time * .015), 1 + (time * .015)
value = 0

[state 0]
type = trans
trigger1 = 1
trans = addalpha
alpha = 150 - ((time) * 10), 165 + ((time) * 15)

[state 0]
type = assertspecial
trigger1 = 1
flag = noshadow

[state 0]
type = changeanim
trigger1 = 1
value = root,anim
elem = root,animelemno(0)
ignorehitpause = 1

[state 0]
type = destroyself
trigger1 = time = 15
;------------------------------------------------------------------------------
;Outra Image
;-------------------------------------------------------------------------------
[statedef 8062]
type = U
sprpriority = 5

[state 0]
type = nothitby
trigger1 = 1
value = sca,na,sa,ha,np,sp,hp,nt,st,ht
time = -1
ignorehitpause = 1

[state 0]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[state 0]
type = turn
trigger1 = facing != root, facing
ignorehitpause = 1

[State 0]
type = offset
trigger1 = 1
x = var(2)
y = var(3)

[state 0]
type = angledraw
trigger1 = 1
scale = 1 + (time * .015), 1 + (time * .015)
value = 0

[state 0]
type = trans
trigger1 = 1
trans = addalpha
alpha = 130 - ((time) * 10), 145 + ((time) * 15)

[State 0]
type = varrandom
trigger1 = 1
v = 2
range = -5,5
[State 0]
type = varrandom
trigger1 = 1
v = 3
range = -5,5

[state 0]
type = assertspecial
trigger1 = 1
flag = noshadow

[state 0]
type = changeanim
trigger1 = 1
value = root,anim
elem = root,animelemno(0)
ignorehitpause = 1
[state 0]
type = changeanim
trigger1 = 1
value = parent,anim
elem = parent,animelemno(0)
ignorehitpause = 1

[state 0]
type = destroyself
trigger1 = time = 15
;-------------------------------------------------------------------------------
[Statedef 1100]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1100
poweradd = -500
sprpriority = 2

[State 0, Pulsacion de color]
type = PalFX
trigger1 = 1
time = 1
add = 0,65 + ceil(sin(Time / 6.0 * pi) * 65), 100 + ceil(sin(Time / 6.0 * pi) * 100)


[State 3000, SuperPause]
Type = SuperPause
Trigger1 = Time = 0
Time = 30
MoveTime = 30
Anim = -1
Sound = -1
Pos = 32,-80
Darken = 0
UnHitTable = 1

[State 3000, VarSet]
Type = VarSet
Trigger1 = Time >= 0
V = 12
Value = -100

[State 3000, VarAdd]
Type = VarAdd
Trigger1 = Time >= 20 && Var(12) < 0
V = 12
Value = 6

[State 3000, BGColorFX]
Type = BGPalFX
Trigger1 = Time >= 0
Time = 1
Add = Var(12),Var(12),Var(12)

[State 3000,Super Charge]
Type = Helper
Trigger1 =! Time
HelperType = Normal
ID = 900
Stateno = 900
Name = "Super Charge"
PosType = p1
Pos = 3,-25
Facing = Cond(Random<500,1,-1)
Keyctrl = 0
Ownpal = 1
Size.XScale = .50
Size.YScale = .50
IgnoreHitPause = 1
PERSISTENT = 0
SuperMoveTime = 99999
PauseMoveTime = 99999

[State 3000, PlaySnd - Super Charge]
Type = PlaySnd
Trigger1 = Time = 0
Value = S950,1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time >= 80
value = 1102
elem = 3
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
Trigger1 = animelemtime(2)=0
value = S6,15+random%3
volume = 999
Persistent = 0

[State 0, PlaySnd]
type = PlaySnd
triggerall = AnimElemTime(3)=0
trigger1 = time = 0
value = S5,19
volume = 999
Channel = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = AnimElemTime(3)>=0
trigger1 = timemod = 15,0
value = S5,36
volume = 999
Channel = 1

[State 0, EnvShake]
type = EnvShake
triggerALL = AnimElemTime(3)>=0
trigger1 = time >= 30 && cond(time >70,cond(time>100,cond(time>180,cond(time>220 ,timemod = 10,0 ,timemod = 15,0) , timemod = 20,0) , timemod = 25,0)    ,timemod = 30,0) 
time = 15
ampl = -2
freq = 40
ignorehitpause=1

[State 0, Explod]
type = Explod
triggerALL = AnimElemTime(3)>=0
trigger1 = timemod = 8,0
anim = 1115
ID = 1115
pos = 0,0
postype = P1  
facing = 1
vfacing = 1
bindtime = 0
vel = 0,-1-random%3
accel = 0,0
random = 125,0
removetime = -2
supermovetime = 0 
pausemovetime = 0
scale = cond(time >50,cond(time>100,cond(time>180,cond(time>220,.35,.35) , .33) , .32)    ,.3),cond(time >100,cond(time>140,cond(time>180,cond(time>220,.35,.35) , .33) , .32)    ,.3)
sprpriority = -3+random%9
angle = 0+random%5
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
triggerALL = AnimElemTime(3)>=0
trigger1 = timemod = 8,0
anim = 1115
ID = 1115
pos = 0,0
postype = P1  
facing = 1
vfacing = 1
bindtime = 0
vel = 0,-1-random%3
accel = 0,0
random = 125,0
removetime = -2
supermovetime = 0 
pausemovetime = 0
scale = cond(time >50,cond(time>100,cond(time>180,cond(time>220,.35,.35) , .33) , .32)    ,.3),cond(time >100,cond(time>140,cond(time>180,cond(time>220,.35,.35) , .33) , .32)    ,.3)
sprpriority = -3+random%9
angle = 0+random%5
ownpal = 1
removeongethit = 1

[State 0, FX Raio]
type = Explod
triggerALL = AnimElemTime(3)>=0
trigger1 = timemod = 4,0
anim = 806
ID = 563
pos = -50+random%100,30-Random%20
postype = p1
facing = ifelse(random < 500,1,-1)
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 2
scale = .5,.5
ontop = ifelse(random < 500,1,-1)
ownpal = 1
removeongethit = 1
supermovetime = 999

[State 0, Explosive Wave - Charge Particles]
type = Helper
triggerALL = AnimElemTime(3)>=0
trigger1 = timemod = 15,0
name = "Explosive Wave - Charge Particles"
ID = 1130
stateno = 1130
pos = 0,-0
postype = p1
facing = 1
ownpal = 1
Size.Xscale = .2
Size.Yscale = .2
supermovetime = 999
pausemovetime = 999

[State 0, Explosive Wave - Rayos]
type = Helper
trigger1 = AnimElemTime(3)=0
name = "Explosive Wave - Rayos"
ID = 1135
stateno = 1135
pos = 0,-0
postype = p1
facing = 1
ownpal = 1
Size.Xscale = .1
Size.Yscale = .1
Persistent = 0
supermovetime = 999
pausemovetime = 999

[State 0, Explosive Wave - PalFXWiz]
type = helper
triggerall = AnimElemTime(3)>=0
trigger1 = time >= 30 && cond(time >70,cond(time>100,cond(time>180,cond(time>220 ,timemod = 10,0 ,timemod = 15,0) , timemod = 20,0) , timemod = 25,0)    ,timemod = 30,0) 
helpertype = Normal ;Player
name = "Explosive Wave - PalFXWiz"
ID = 1140
stateno = 1140
pos = 0,0
postype = P1    
facing = 1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0,Viento]
type = Explod
triggerall = anim = 1102
triggerALL = AnimElemTime(3)>=0
trigger1 = Time%15 = 0
anim = 890
ID = 7022
pos = -5,5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.4
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1

[State 0,Viento]
type = Explod
triggerall = anim = 1102
triggerALL = AnimElemTime(3)>=0
trigger1 = Time%15 = 0
anim = 890
ID = 7022
pos = 5,-2
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.4
vel = 2,0
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 200, End]
type = ChangeState
triggerall = time >= 42
trigger1 = ailevel = 0 && command != "hold_a"
trigger2 = ailevel > 0 && p2bodydist x < 100
trigger3 = ailevel > 0 && p2bodydist x >= 100 && p2bodydist x < 300 && time >= 50+random%80
trigger4 = time = 135
value = ifelse(time >= 80,1103,1101)
;-------------------------------------------------------------------------------
[Statedef 1101]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1101
poweradd = -500
sprpriority = 2

[State 0, Pulsacion de color]
type = PalFX
trigger1 = 1
time = 1
add = 0,65 + ceil(sin(Time / 6.0 * pi) * 65), 100 + ceil(sin(Time / 6.0 * pi) * 100)


[State 0, PlaySnd]
type = PlaySnd
Trigger1 = animelemtime(1)=0
value = S6,33
volume = 999
Persistent = 0
[State 0, PlaySnd]
type = PlaySnd
Trigger1 = animelemtime(1)=0
value = S6,33
volume = 999
Persistent = 0

[State 0, Hit]
type = PlaySnd
trigger1 = MoveHit = 1
value = S1,135
volumescale = 200
ignorehitpause = 1
Persistent = 0

[State 200, 1]
type = HitDef
trigger1 =! MoveContact
attr = S,NA
hitflag = MAF
priority = 3,Hit
guardflag = 0
animtype = DiagUp
damage = 200,25
pausetime = 5,3
guard.pausetime = 6,4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -8,-6
air.velocity = -8,-6
EnvShake.Time = 8
EnvShake.Ampl = -5
EnvShake.Freq = 40
fall = 1

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != [455,456]
trigger1 = movehit = 1
value = 455

[State 0, Humo FX]
type = Explod
trigger1 = AnimElemTime(1)=0
anim = 8220
ID = 8220
pos = 0,0
postype = P1  
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = .6 ,.1
sprpriority = -2
ownpal = 1
removeongethit = 1

[State 0,Explosive Wave - FXAAD]
Type = Helper
Trigger1 =  AnimElemTime(1)=0
HelperType = Normal
ID = 1150
Stateno = 1150
Name = "Explosive Wave - FXAAD"
Pos = 0,-0
PosType = p1
Facing = 1
Keyctrl = 0
Ownpal = 1
Size.XScale = .45
Size.YScale = .45
IgnoreHitPause = 1
PERSISTENT = 0
SuperMoveTime = 99999
PauseMoveTime = 99999

[State 200, End]
type = ChangeState
Triggerall = Power >= 1000
Triggerall = Time >= 10
trigger1 = ailevel = 0 && command = "s"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 1500

[State 200,End]
type = ChangeState
trigger1 =! AnimTime
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 1103]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1103
poweradd = -1000
sprpriority = 2

[State 0, Pulsacion de color]
type = PalFX
trigger1 = 1
time = 1
add = 0,65 + ceil(sin(Time / 6.0 * pi) * 65), 100 + ceil(sin(Time / 6.0 * pi) * 100)


[State 0, PlaySnd]
type = PlaySnd
Trigger1 = animelemtime(1)=0
value = S6,20
volume = 999
Persistent = 0
[State 0, PlaySnd]
type = PlaySnd
Trigger1 = animelemtime(1)=0
value = S6,20
volume = 999
Persistent = 0

[State 0, Hit]
type = PlaySnd
trigger1 = MoveHit = 1
value = S1,135
volumescale = 200
ignorehitpause = 1
Persistent = 0

[State 200, 1]
type = HitDef
trigger1 =! MoveContact
attr = S,NA
hitflag = MAF
priority = 3,Hit
guardflag = 0
animtype = DiagUp
damage = 330,65
pausetime = 5,3
guard.pausetime = 6,4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -8,-6
air.velocity = -8,-6
EnvShake.Time = 8
EnvShake.Ampl = -5
EnvShake.Freq = 40
fall = 1

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != [455,456]
trigger1 = movehit = 1
value = 455

[State 0,Explosive Wave - FXAAD]
Type = Helper
Trigger1 =  AnimElemTime(1)=0
HelperType = Normal
ID = 1150
Stateno = 1150
Name = "Explosive Wave - FXAAD"
Pos = 0,-0
PosType = p1
Facing = 1
Keyctrl = 0
Ownpal = 1
Size.XScale = .5
Size.YScale = .5
IgnoreHitPause = 1
PERSISTENT = 0
SuperMoveTime = 99999
PauseMoveTime = 99999

[State 0, Crack]
type = Explod
trigger1 = AnimElemTime(1)=0
anim = 7080
ID = 7080
pos = 0,0
postype = P1  
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = .25 ,.18
sprpriority = -2
ownpal = 1
removeongethit = 1

[State 0, Rocas Volando]
type = Helper
triggerALL = AnimElemTime(1)>=0 && AnimElemTime(2)<=2
trigger1 = timemod = 1,0
name = "Rocas Volando"
ID = 950
stateno = 950
pos = 0,0
postype = p1
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = .2
size.yscale = .2

[State 0, Explosion]
type = Explod
triggerall = Numexplod(6312) = 0
trigger1 = AnimElemTime(1)=0
anim = 6312
ID = 6312
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 200, End]
type = ChangeState
Triggerall = Power >= 1000
Triggerall = Time >= 10
trigger1 = ailevel = 0 && command = "s"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 1500

[State 200,End]
type = ChangeState
trigger1 =! AnimTime
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 1130]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 1130
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 2,-24

[State 0, VarAdd]
type = VarAdd
trigger1 = fvar(1) < 60
fv = 1
value = .1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+fvar(1),1+fvar(1)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
Type = DestroySelf
Trigger1 = Root,Stateno != 1100
Trigger1 = Root,Stateno != 1102
Trigger1 = Root,Stateno != 1105
Trigger1 = Root,Stateno != 1107

[State 200, End]
Type = DestroySelf
Trigger1 =! AnimTime
Trigger2 = Root,MoveType = H
;-------------------------------------------------------------------------------
[Statedef 1135]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 1135
sprpriority = 4

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-24

[State 0, VarAdd]
type = VarAdd
trigger1 = fvar(1) < 60
fv = 1
value = .02

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+fvar(1),1+fvar(1)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
Type = DestroySelf
Trigger1 = Root,Stateno != 1100
Trigger1 = Root,Stateno != 1102
Trigger1 = Root,Stateno != 1105
Trigger1 = Root,Stateno != 1107
;------------------------------------------------------------------------------- 
[Statedef 1140] 
type     = U
movetype = I
physics  = N
ctrl = 0
anim = 9999
sprpriority = -5

[State 0,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0,ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = parent, Anim
elem = parent, animelemno(0)

[State 0,BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,1
ignorehitpause = 1
persistent = 1

[State 0,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1
persistent = 1

[State 0,Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-(time*1),256
ignorehitpause = 1

[State 0,AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+(time/20.0),1+(time/20.0)

[State 0,DestroySelf]
type = DestroySelf
trigger1 = Time = 10
;-------------------------------------------------------------------------------
[Statedef 1145]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 1145
sprpriority =  cond(random<500,-4,4)

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = .5+(random%4)
y = 2+(-random%6)

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
Type = DestroySelf
Trigger1 =! AnimTime
;-------------------------------------------------------------------------------
[Statedef 1146]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 1145
sprpriority =  cond(random<500,-4,4)

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -.5+(-random%4)
y = 2+(-random%6)

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
Type = DestroySelf
Trigger1 =! AnimTime
;-------------------------------------------------------------------------------
[Statedef 1150]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 1150
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=0 
value = S5,14
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=0 
value = S5,14
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=0 
value = S5,42
volume = 999

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-0

[State 0, VarAdd]
type = VarAdd
trigger1 = fvar(1) < 60
fv = 1
value = .006

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+fvar(1),1+fvar(1)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0,Explosive Wave - Particule]
Type = Helper
Trigger1 = time%1=0 && time <5
HelperType = Normal
ID = 1145
Stateno = 1145
Name = "Explosive Wave - Particule"
Pos = -5,-25
PosType = p1
Facing = 1
Ownpal = 1
Size.XScale = .01
Size.YScale = .01
IgnoreHitPause = 1
[State 0,Explosive Wave - Particule]
Type = Helper
Trigger1 = time%1=0 && time <5
HelperType = Normal
ID = 1145
Stateno = 1145
Name = "Explosive Wave - Particule"
Pos = -5,-25
PosType = p1
Facing = 1
Ownpal = 1
Size.XScale = .02
Size.YScale = .02
IgnoreHitPause = 1
[State 0,Explosive Wave - Particule]
Type = Helper
Trigger1 = time%1=0 && time <5
HelperType = Normal
ID = 1146
Stateno = 1146
Name = "Explosive Wave - Particule"
Pos = -5,-25
PosType = p1
Facing = 1
Ownpal = 1
Size.XScale = .01
Size.YScale = .01
IgnoreHitPause = 1
[State 0,Explosive Wave - Particule]
Type = Helper
Trigger1 = time%1=0 && time <5
HelperType = Normal
ID = 1146
Stateno = 1146
Name = "Explosive Wave - Particule"
Pos = -5,-25
PosType = p1
Facing = 1
Ownpal = 1
Size.XScale = .02
Size.YScale = .02
IgnoreHitPause = 1

[State 0,Explosive Wave - FXAAD II]
Type = Helper
Trigger1 =! Time
HelperType = Normal
ID = 1151
Stateno = 1151
Name = "Explosive Wave - FXAAD II"
Pos = 0,-0
PosType = p1
Facing = 1
Keyctrl = 0
Ownpal = 1
Size.XScale = root,cond(time>80, .16,.145)
Size.YScale = root,cond(time>80, .16,.145)
IgnoreHitPause = 1
PERSISTENT = 0
SuperMoveTime = 99999
PauseMoveTime = 99999

[State 200, End]
Type = DestroySelf
Trigger1 =! AnimTime
Trigger2 = Root,MoveType = H
;-------------------------------------------------------------------------------
[Statedef 1151]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 1151
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-30

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
Type = DestroySelf
Trigger1 =! AnimTime
Trigger2 = Root,MoveType = H
;-------------------------------------------------------------------------------
[Statedef 1200]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1200
poweradd = -500
sprpriority = 2

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 1
add = 100 + ceil(sin(Time / 11.0 * pi) * 100),0, 20 + ceil(sin(Time / 11.0 * pi) * 20)

[State 0, Dust FX]
type = Explod
trigger1 = animelem = 3
anim = 890
facing = 1
postype = p1
pos = 5,1
scale = .2,.2
sprpriority = 5
removetime = -2
ownpal = 1
pausemovetime = 9999999
supermovetime = 9999999

[State 0, Speedlines]
type = Explod
trigger1 = animelemtime(4) >= 0 && animelemtime(5) < 0 && (gametime%2 = 0)
anim = 198
pos = -2,(-34+random%28)
vel = -2,0
removetime = -2
scale = .2,.1
sprpriority = cond(random<500,3,-1)
ownpal = 1
remappal =3,5
removeongethit = 1
postype = p1
angle = 90

[State 0, Speedlines]
type = Explod
trigger1 = animelemtime(4) >= 0 && animelemtime(5) < 0 && (gametime%2 = 0)
anim = 98100
pos = -2,(-34+random%28)
vel = -2,0
removetime = -2
scale = .2,.1
sprpriority = cond(random<500,3,-1)
ownpal = 1
removeongethit = 1
postype = p1
angle = 90
trans = sub

[State 3000,Super Charge]
Type = Helper
Trigger1 =! Time
HelperType = Normal
ID = 900
Stateno = 900
Name = "Super Charge"
PosType = p1
Pos = 0,-25
Facing = Cond(Random<500,1,-1)
Keyctrl = 0
Ownpal = 1
Size.XScale = .50
Size.YScale = .50
IgnoreHitPause = 1
PERSISTENT = 0
SuperMoveTime = 99999
PauseMoveTime = 99999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,35
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,35
volume = 999

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)


[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 50

[State 0, ReversalDef]
type = ReversalDef
trigger1 = time >= 5
reversal.attr = SCA,NA,SA,HA,NT,ST,HT
pausetime = 0,ifelse(p2bodydist x < 50,30,0)
sparkno = -1
hitsound = -1
p1stateno = 1201

[State 200, End]
type = ChangeState
trigger1 = time = 80
value = 1202
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 1201]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1201
poweradd = -500
sprpriority = 2
facep2 = 1

[State 0, Walking]
type = PlaySnd
trigger1 = Time = 0
value = S0,50
volume = 50
[State 0, Walking]
type = PlaySnd
trigger1 = Time = 0
value = S0,50
volume = 50
[State 0, Walking]
type = PlaySnd
trigger1 = Time = 0
value = S0,50
volume = 50

[State 0, Camara Lenta]
type = Helper
trigger1 = Time = 0
helpertype = normal
stateno = 591
id = 591
postype = p1
persistent = 0
ignorehitpause = 1

[State 0, Turn]
type = Turn
trigger1 = time = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
x = p2bodydist x + -20

[State 0, VelSet]
type = VelSet
trigger1 = time = 10
x = 2

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 1
add = 100 + ceil(sin(Time / 11.0 * pi) * 100),0, 20 + ceil(sin(Time / 11.0 * pi) * 20)

[State 0, Dust FX]
type = Explod
trigger1 = animelem = 4
anim = 890
facing = 1
postype = p1
pos = 5,1
scale = .2,.2
sprpriority = 5
removetime = -2
ownpal = 1
pausemovetime = 9999999
supermovetime = 9999999

[State 0, Speedlines]
type = Explod
trigger1 = animelemtime(4) >= 0 && animelemtime(5) < 0 && (gametime%2 = 0)
anim = 198
pos = -2,(-34+random%28)
vel = -2,0
removetime = -2
scale = .2,.1
sprpriority = cond(random<500,3,-1)
ownpal = 1
removeongethit = 1
remappal = 3,5
postype = p1
angle = 90

[State 0, Speedlines]
type = Explod
trigger1 = animelemtime(4) >= 0 && animelemtime(5) < 0 && (gametime%2 = 0)
anim = 98100
pos = -2,(-34+random%28)
vel = -2,0
removetime = -2
scale = .2,.1
sprpriority = cond(random<500,3,-1)
ownpal = 1
removeongethit = 1
postype = p1
angle = 90
trans = sub

[State 0, Walking]
type = PlaySnd
trigger1 = animelem = 4
value = S5,28
volume = 50
[State 0, Walking]
type = PlaySnd
trigger1 = animelem = 4
value = S5,28
volume = 50

[State 0]
Type = Helper
Trigger1 = Time%4 = 0
ID = 101
StateNO = 101
IgnoreHitPause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 350,120
guardflag = 0
pausetime = 10,10
hitsound = s2,11
guardsound = S6,0+random%4
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
EnvsHake.time = 10
Envshake.Freq = 10
Envshake.ampl = 10

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != 99050
trigger1 = movehit = 1
value = 99050

[State 200, Spark]
Type = Explod
Trigger1 = MoveHit = 1
Anim = 7002
ID = 7002
PosType = P2
pos = 0,-18
facing = 1
sprpriority = 2
SuperMove = 1
removeTime = -2
bindTime = 1
ownpal = 1
Scale = .33*Helper(999999),Fvar(16),.33*Helper(999999),Fvar(16)
RemoveOnGetHit = 1
OnTop = 1
angle = 45
Vel = -1,1
SuperMoveTime = 999
PauseMoveTime = 999
ignoreHitPause  = 1
persistent = 0


[State 0, Hitspark]
type = Helper
trigger1 = movehit = 1
helpertype = normal
stateno = 800
ID = 033
pos = 0,-25
postype = p2   
facing = Cond(Random<500,1,-1)
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0
ignorehitpause = 1

[State 0, Helper]
type = Helper
Trigger1 = MoveGuarded = 1
helpertype = normal
name = "Guard Spark"
ID = 990
stateno = 990
pos = -5,-20
postype = P2
facing = -1
ownpal = 1
Size.xScale = .40*Helper(999999),Fvar(16)
Size.yScale = .40*Helper(999999),Fvar(16)
ignoreHitPause = 1
PERSISTENT = 0

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = 3

[State 200, 5]
type = ChangeState
trigger1 = Animtime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 1202]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1202
poweradd = 0
sprpriority = 2

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 1
add = 100 + ceil(sin(Time / 11.0 * pi) * 100),0, 20 + ceil(sin(Time / 11.0 * pi) * 20)

[State 200, End]
type = ChangeState
trigger1 = !Animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 1300]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 201
poweradd = -1000
sprpriority = 2
facep2 = 1

[State 3000,Super Charge]
Type = Helper
Trigger1 =! Time
HelperType = Normal
ID = 900
Stateno = 900
Name = "Super Charge"
PosType = p1
Pos = 3,-25
Facing = Cond(Random<500,1,-1)
Keyctrl = 0
Ownpal = 1
Size.XScale = .50
Size.YScale = .50
IgnoreHitPause = 1
PERSISTENT = 0
SuperMoveTime = 99999
PauseMoveTime = 99999

[State 3000, PlaySnd - Super Charge]
Type = PlaySnd
Trigger1 = Time = 0
Value = S950,1

[State 0, PalFXWiz]
type = PalFX
trigger1 =1
time = 1
add = 100 + ceil(sin(Time / 11.0 * pi) * 100),0, 20 + ceil(sin(Time / 11.0 * pi) * 20)

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S4,4
volume = 10
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S6,16
volume = 10
channel = -1


[State 0]
Type = Helper
Trigger1 = Time%4 = 0
ID = 101
StateNO = 101
IgnoreHitPause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 30,20
guardflag = MA
pausetime = 5,5
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
EnvsHake.time = 10
EnvsHake.freq = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 =movehit
value = S2,5
volume = 10
channel = -1
persistent=0
ignorehitpause=1

[State 0, Hitspark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
stateno = 800
ID = 033
pos = 1,-35
postype = p2
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0
ignorehitpause = 1

[State 0, Helper]
type = Helper
Trigger1 = MoveGuarded = 1
helpertype = normal
name = "Guard Spark"
ID = 990
stateno = 990
pos = -5,-20
postype = P2
facing = -1
ownpal = 1
Size.xScale = .40*Helper(999999),Fvar(16)
Size.yScale = .40*Helper(999999),Fvar(16)
ignoreHitPause = 1
PERSISTENT = 0

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = 14

[State 200, End]
type = ChangeState
Trigger1 = movecontact
trigger2 = Moveguarded
value = 1301

[State 200, 5]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 1301]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 204
poweradd = 20
sprpriority = 2
facep2 = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 =1
time = 1
add = 100 + ceil(sin(Time / 11.0 * pi) * 100),0, 20 + ceil(sin(Time / 11.0 * pi) * 20)

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 3
anim = 208
pos = 31,-32
postype = p1  
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = 5
removeongethit = 1
ignorehitpause = 1
ownpal = 1
remappal = 3,3
angle = -60

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 3
anim = 208
pos = 31,-32
postype = p1 
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = -1
removeongethit = 1
ignorehitpause = 1
ownpal = 1
trans = sub
remappal = 3,0
angle = -60

[State 0, PlaySnd]
type = PlaySnd
trigger1 =movehit
value = S2,1
volume = 10
channel = -1
persistent=0
ignorehitpause=1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S4,4
volume = 10
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S6,17
volume = 10
channel = -1

[State 0]
Type = Helper
Trigger1 = Time%4 = 0
ID = 101
StateNO = 101
IgnoreHitPause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 30,20
guardflag = 0
pausetime = 10,10
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
EnvsHake.time = 20
EnvsHake.freq = 20

[State 0, Hitspark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
stateno = 800
ID = 033
pos = 1,-30
postype = p2
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0
ignorehitpause = 1

[State 0, Helper]
type = Helper
Trigger1 = MoveGuarded = 1
helpertype = normal
name = "Guard Spark"
ID = 990
stateno = 990
pos = -5,-20
postype = P2
facing = -1
ownpal = 1
Size.xScale = .40*Helper(999999),Fvar(16)
Size.yScale = .40*Helper(999999),Fvar(16)
ignoreHitPause = 1
PERSISTENT = 0

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = 2

[State 200, End]
type = ChangeState
Trigger1 = movecontact
trigger2 = Moveguarded
value = 1302

[State 200, 5]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 1302]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 213
poweradd = 20
sprpriority = 2
facep2 = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 =1
time = 1
add = 100 + ceil(sin(Time / 11.0 * pi) * 100),0, 20 + ceil(sin(Time / 11.0 * pi) * 20)

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 3
anim = 208
pos = 31,-24
postype = p1  
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = 5
removeongethit = 1
ignorehitpause = 1
ownpal = 1
remappal = 3,3
angle = -89

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 3
anim = 208
pos = 31,-24
postype = p1 
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = -1
removeongethit = 1
ignorehitpause = 1
ownpal = 1
trans = sub
remappal = 3,0
angle = -89

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S4,4
volume = 10
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S6,14
volume = 10
channel = -1

[State 0]
Type = Helper
Trigger1 = Time%4 = 0
ID = 101
StateNO = 101
IgnoreHitPause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 30,20
guardflag = MA
pausetime = 9,9
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
EnvsHake.time = 10
EnvsHake.freq = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 =movehit
value = S2,1
volume = 10
channel = -1
persistent=0
ignorehitpause=1

[State 0, Hitspark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
stateno = 800
ID = 033
pos = 1,-20
postype = p2
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0
ignorehitpause = 1

[State 0, Helper]
type = Helper
Trigger1 = MoveGuarded = 1
helpertype = normal
name = "Guard Spark"
ID = 990
stateno = 990
pos = -5,-20
postype = P2
facing = -1
ownpal = 1
Size.xScale = .40*Helper(999999),Fvar(16)
Size.yScale = .40*Helper(999999),Fvar(16)
ignoreHitPause = 1
PERSISTENT = 0

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = 2

[State 200, End]
type = ChangeState
Trigger1 = movecontact
trigger2 = Moveguarded
value = 1303

[State 200, 5]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 1303]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 212
poweradd = 20
sprpriority = 2
facep2 = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 =1
time = 1
add = 100 + ceil(sin(Time / 11.0 * pi) * 100),0, 20 + ceil(sin(Time / 11.0 * pi) * 20)

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 3
anim = 208
pos = 31,-17
postype = p1  
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = 5
removeongethit = 1
ignorehitpause = 1
ownpal = 1
remappal = 3,3
angle = -89

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 3
anim = 208
pos = 31,-17
postype = p1 
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = -1
removeongethit = 1
ignorehitpause = 1
ownpal = 1
trans = sub
remappal = 3,0
angle = -89

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S4,4
volume = 10
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S6,14
volume = 10
channel = -1

[State 0]
Type = Helper
Trigger1 = Time%4 = 0
ID = 101
StateNO = 101
IgnoreHitPause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 30,20
guardflag = MA
pausetime = 7,7
hitsound = 5, 0
guardsound = 6, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0
air.velocity = -0,-1
EnvsHake.time = 10
EnvsHake.freq = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 =movehit
value = S2,1
volume = 10
channel = -1
persistent=0
ignorehitpause=1

[State 0, Hitspark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
stateno = 800
ID = 033
pos = 1,-15
postype = p2
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 0
ignorehitpause = 1

[State 0, Helper]
type = Helper
Trigger1 = MoveGuarded = 1
helpertype = normal
name = "Guard Spark"
ID = 990
stateno = 990
pos = -5,-20
postype = P2
facing = -1
ownpal = 1
Size.xScale = .40*Helper(999999),Fvar(16)
Size.yScale = .40*Helper(999999),Fvar(16)
ignoreHitPause = 1
PERSISTENT = 0

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = 4

[State 200, End]
type = ChangeState
Trigger1 = movecontact
trigger2 = Moveguarded
value = 1305

[State 200, 5]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 1305]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1300
poweradd = 20
sprpriority = 2

[State 0, PalFXWiz]
type = PalFX
trigger1 =1
time = 1
add = 100 + ceil(sin(Time / 11.0 * pi) * 100),0, 20 + ceil(sin(Time / 11.0 * pi) * 20)

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 4
anim = 208
pos = 31,-32
postype = p1  
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = 5
removeongethit = 1
ignorehitpause = 1
ownpal = 1
remappal = 3,3
angle = -77

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 4
anim = 208
pos = 31,-32
postype = p1 
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = -1
removeongethit = 1
ignorehitpause = 1
ownpal = 1
trans = sub
remappal = 3,0
angle = -77


[State 0, Swing FX]
type = Explod
trigger1 = animelem = 6
anim = 208
pos = 31,-19
postype = p1  
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = 5
removeongethit = 1
ignorehitpause = 1
ownpal = 1
remappal = 3,3
angle = -89

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 6
anim = 208
pos = 31,-19
postype = p1 
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = -1
removeongethit = 1
ignorehitpause = 1
ownpal = 1
trans = sub
remappal = 3,0
angle = -89

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 8
anim = 208
pos = 31,-3
postype = p1  
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = 5
removeongethit = 1
ignorehitpause = 1
ownpal = 1
remappal = 3,3
angle = -120

[State 0, Swing FX]
type = Explod
trigger1 = animelem = 8
anim = 208
pos = 31,-3
postype = p1 
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .03,.06
sprpriority = -1
removeongethit = 1
ignorehitpause = 1
ownpal = 1
trans = sub
remappal = 3,0
angle = -120

[State 0, PlaySnd]
type = PlaySnd
trigger1 =Animelem = 4||Animelem = 5|Animelem = 6||Animelem = 8
value = S4,4
volume = 10
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =Time = 0
value = S6,14
volume = 10
channel = -1

[State 0]
Type = Helper
Trigger1 = Time%4 = 0
ID = 101
StateNO = 101
IgnoreHitPause = 1

[State 200, 1]
type = HitDef
triggerall = Animelem = 4||Animelem = 6||Animelem = 8
trigger1 = 1
attr = S, NA
animtype  = Light
damage  = 30,20
guardflag = MA
pausetime = 1,80
hitsound = s2, 1
guardsound = s6, 0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
EnvsHake.time = 20
EnvsHake.freq = 20
ID = 1300

[State 0, Hitspark]
type = Helper
trigger1 = movehit = 1 
helpertype = normal
stateno = 800
ID = 033
pos = 1,-30
postype = p2
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 6
ignorehitpause = 1

[State 0, Helper]
type = Helper
Trigger1 = MoveGuarded = 1
helpertype = normal
name = "Guard Spark"
ID = 990
stateno = 990
pos = -5,-20
postype = P2
facing = -1
ownpal = 1
Size.xScale = .40*Helper(999999),Fvar(16)
Size.yScale = .40*Helper(999999),Fvar(16)
ignoreHitPause = 1
PERSISTENT = 3

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0.7

[State 200, End]
type = ChangeState
Triggerall = Power >= 1000
Triggerall = movecontact && Time >= 80
trigger1 = ailevel = 0 && command = "s"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 6100

[State 200, 5]
type = ChangeState
trigger1 =Time >= 100
value = 219
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 1500]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1500
poweradd = -1000
sprpriority = 2

[State 3000, SuperPause]
Type = SuperPause
Trigger1 = Time = 0
Time = 30
MoveTime = 30
Anim = -1
Sound = -1
Pos = 32,-80
Darken = 0
UnHitTable = 1

[State 3000, VarSet]
Type = VarSet
Trigger1 = Time = 0
V = 12
Value = -100

[State 3000, VarAdd]
Type = VarAdd
Trigger1 = Time >= 20 && Var(12) < 0
V = 12
Value = 6

[State 3000, BGColorFX]
Type = BGPalFX
Trigger1 = Time > 0
Time = 1
Add = Var(12),Var(12),Var(12)

[State 3000, PlaySnd - Super Charge]
Type = PlaySnd
Trigger1 = Time = 0
Value = S950,1

[State 0, Super Energy Wave Volley - Charge Right Hand]
type = Helper
trigger1 = animelem = 3
name = "Super Energy Wave Volley - Charge Right Hand"
ID = 1520
stateno = 1520
pos = 20,-27
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .08
size.yscale = .08
supermovetime = 999
pausemovetime = 999

[State 0, Super Energy Wave Volley - Charge Left Hand]
type = Helper
trigger1 = animelem = 3
name = "Super Energy Wave Volley - Charge Left Hand"
ID = 1521
stateno = 1521
pos = 20,-27
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .08
size.yscale = .08
supermovetime = 999
pausemovetime = 999

[State 200, End]
type = ChangeState
triggerall = time >= 40
trigger1 = ailevel = 0 && command != "hold_c"
trigger2 = ailevel > 0 && p2bodydist x < 100
trigger3 = ailevel > 0 && p2bodydist x >= 100 && p2bodydist x < 300 && time >= 50+random%80
trigger4 = time = 100
value = 1501
;-------------------------------------------------------------------------------
[Statedef 1501]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1501
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,34+random%3
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,34+random%3
volume = 999

[State 0, PowerAdd]
type = PowerAdd
triggerall = time >= 125
trigger1 = (animelem = 2||animelem = 4)
value = -100

[State 400, FX Lanzar start II - Ki blast] 
type = Explod
trigger1 = (animelem = 2||animelem = 4)
anim = 431
ID = 431
pos = 55,-28
postype = P1  
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .20,.19
sprpriority = 3
ownpal = 1
persistent = 5

[State 400, FX Lanzar start III - Ki blast] 
type = Explod
trigger1 = (animelem = 2||animelem = 4)
anim = 432
ID = 432
pos = 51,-29
postype = P1  
facing = 1
vfacing = 1
bindtime = 6
random = 1,1
removetime = -2
scale = .43,.36
sprpriority = 0
ownpal = 1
persistent = 5

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = time = [0,125]
trigger1 = timemod = 20,0
value = anim
elem = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = (animelem = 2||animelem = 4)
time = 10
ampl = -2

[State 0, Shadow FX]
type = Explod
Trigger1 = TimeMod = 5,0
anim = 98100
ID = 001
pos = (-5-Random%10),(-8-Random%25)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .3,.15
sprpriority = 2
ontop = Cond(Random<500,1,0)
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = sub
Vel = -1,0
Angle = 90

[State 0, Shadow FX]
type = Explod
Trigger1 = TimeMod = 5,0
anim = 198
ID = 001
pos = (-5-Random%10),(-8-Random%25)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .3,.15
sprpriority = 2
ontop = Cond(Random<500,1,0)
ownpal = 1
removeongethit = 1
ignorehitpause = 1
remappal = 3,5
Vel = -1,0
Angle = 90

[State 0, Dust FX]
type = Explod
triggerall = time = [0,125]
Trigger1 = TimeMod = 8,0
anim = 890
ID = 1051
pos = (-6+Random%3),0
scale = .15,.25
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 0
ontop = 1
ownpal = 1
IgnoreHitPause = 1
removeongethit = 1
vel = -1.5,0

[State 0, Super Energy Wave Volley - Shot FX]
type = Helper
trigger1 = animelem = 2
name = "Super Energy Wave Volley - Shot FX"
ID = 1525
stateno = 1525
pos = 20,-27
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .18
size.yscale = .16

[State 0, Super Energy Wave Volley - Shot FX]
type = Helper
trigger1 = animelem = 4
name = "Super Energy Wave Volley - Shot FX"
ID = 1525
stateno = 1525
pos = 25,-29
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .18
size.yscale = .16

[State 0, Super Energy Wave Volley - Helper]
type = Helper
trigger1 = animelem = 2
name = "Super Energy Wave Volley - Helper"
ID = 1550
stateno = 1550
pos = 29,-28
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, Super Energy Wave Volley - Helper]
type = Helper
trigger1 = animelem = 4
name = "Super Energy Wave Volley - Helper"
ID = 1550
stateno = 1550
pos = 29,-29
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 200, End]
Type = ChangeState
triggerall = time >= 150
trigger1 = ailevel = 0 && command != "hold_c"
trigger2 = ailevel > 0 && p2bodydist x < 100
trigger3 = ailevel > 0 && p2bodydist x >= 100 && p2bodydist x < 300 && time >= 60+random%70
trigger4 = time = 280
trigger5 = Power <= 100
Value = 0
Ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 1520]
type = A
movetype = I
physics = N
juggle = 1
velset = 0,0
ctrl = 0
anim = 1520
sprpriority = 3

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = -1
add = 0,-50,-150
mul = 512,512,512
color = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,47

[State 0, VarAdd]
type = VarAdd
trigger1 = Root,Time <= 5
fv = 6
value = .1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+FVar(6),1+FVar(6)
IgnoreHitPause = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,stateno = 1500
pos = -3,-26

[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,stateno = 1502
pos = -15,-33

[State 0, VelSet]
type = VelSet
trigger1 = Root,stateno = 1501 && Root,time = 1
X = 6
Y = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0,VarSet]
type = VarSet
trigger1 =! Time
v = 2
value = 0
ignorehitpause = 1

[State 0,VarAdd]
type = VarAdd
trigger1 = VAR(2)<200
v = 2
value = 25
ignorehitpause = 1

[State 0,Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 0+VAR(2),256
ignorehitpause = 1

[State 200, End]
type = Destroyself
Triggerall = Root,Stateno != 1501
trigger1 = Root,stateno != 1500
trigger1 = Root,stateno != 1502

[State 200, End]
type = Destroyself
Triggerall= Root,Stateno = 1501
trigger1 = Root,time = 3
;-------------------------------------------------------------------------------
[Statedef 1521]
type = A
movetype = I
physics = N
juggle = 1
velset = 0,0
ctrl = 0
anim = 1520
sprpriority = 3

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = -1
add = 0,-50,-150
mul = 512,512,512
color = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,47

[State 0, VarAdd]
type = VarAdd
trigger1 = Root,Time <= 5
fv = 6
value = .1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+FVar(6),1+FVar(6)
IgnoreHitPause = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,stateno = 1500
pos = 19,-22

[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,stateno = 1502
pos = 13,-34

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0,VarSet]
type = VarSet
trigger1 =! Time
v = 2
value = 0
ignorehitpause = 1

[State 0,VarAdd]
type = VarAdd
trigger1 = VAR(2)<200
v = 2
value = 25
ignorehitpause = 1

[State 0,Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 0+VAR(2),256
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = Root,stateno != 1500
trigger1 = Root,stateno != 1502
;-------------------------------------------------------------------------------
[Statedef 1525]
type = S
movetype = I
physics = N
ctrl = 0
anim = 1525
sprpriority = 3

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = -1
add = 0,-50,-150
mul = 512,512,512
color = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = !AnimTime
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
[Statedef 1526]
type = S
movetype = I
physics = N
ctrl = 0
anim = 1525
sprpriority = 3

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = -1
add = 0,-50,-150
mul = 512,512,512
color = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 =1
value = -45
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = !AnimTime
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
[Statedef 1550]
type = S
movetype = A
physics = N
juggle = 2
ctrl = 0
anim = 1550
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S5,16
volumescale = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S5,16
volumescale = 100

[State 0,Initial Velocity]
type=VelAdd
trigger1=!Time
y=Cond((Parent,AnimElem=6),-5,4)

[State 0,VelAdd]
type=VelAdd
TriggerALL=Time>=5
trigger1=p2dist y>-(enemynear,const(size.mid.pos.y)+2)&&(Vel Y<1.5)
trigger2=Pos Y<=-100
y=Cond(Pos Y<=-100,1,.5)

[State 0,VelAdd]
type=VelAdd
TriggerALL=Time>=5
trigger1=p2dist y<-(enemynear,const(size.mid.pos.y)-2)&&(Vel Y>-1.5)
trigger2=Pos Y>=5
y=Cond(Pos Y>=5,-1,-.5)

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 415
time = 999

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 11
y = 1-random%3

[State 200,1]
type=HitDef
Triggerall = !Movecontact
trigger1 = 1
attr = S,NP
animtype = Heavy
damage = 16,8
Hitflag = MAFD
guardflag = MA
pausetime = 0,8
hitsound= -1
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = ifelse(root,var(13) > 3,-2,-2),ifelse(root,var(13) > 3,-2,0)
air.velocity = ifelse(root,var(13) > 3,-2,-2),ifelse(root,var(13) > 3,-2,-2)
Fall = 1
Envshake.time = 5
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0

[State 0, Helper]
type = Helper
Trigger1 = MoveGuarded = 1
helpertype = normal
name = "Guard Spark"
ID = 990
stateno = 990
pos = -5,-20
postype = P2
facing = -1
ownpal = 1
Size.xScale = .40*Helper(999999),Fvar(16)
Size.yScale = .40*Helper(999999),Fvar(16)
ignoreHitPause = 1
PERSISTENT = 5

[State 0, Super Energy Wave Volley - FXADD]
type=Helper
trigger1 = Time = 0
name = "Super Energy Wave Volley - FXADD"
ID = 1555
stateno = 1555
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .080
size.yscale = .065

[State 0, Super Energy Wave Volley - FXSUB]
type = Helper
trigger1 = Time = 0
name = "Super Energy Wave Volley - FXSUB"
ID = 1556
stateno = 1556
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .080
size.yscale = .065

[State 200, End]
type = Changestate
trigger1 = movecontact
trigger2 = frontedgebodydist < 0
trigger3 = time = 500
trigger4 = pos y >= -5
value = 1560
;-------------------------------------------------------------------------------
[Statedef 1551]
type =S
movetype = A
physics = N
juggle = 2
ctrl = 0
anim = 1550
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S5,16
volumescale = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S5,16
volumescale = 100

[State 0,Initial Velocity]
type=VelAdd
trigger1=!Time
y=Cond((Parent,AnimElem=6),-5,4)

[State 0,VelAdd]
type=VelAdd
TriggerALL=Time>=5
trigger1=p2dist y>-(enemynear,const(size.mid.pos.y)+2)&&(Vel Y<1.5)
trigger2=Pos Y<=-100
y=Cond(Pos Y<=-100,1,.5)

[State 0,VelAdd]
type=VelAdd
TriggerALL=Time>=5
trigger1=p2dist y<-(enemynear,const(size.mid.pos.y)-2)&&(Vel Y>-1.5)
trigger2=Pos Y>=5
y=Cond(Pos Y>=5,-1,-.5)

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 415
time = 999

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 10
y = 10-random%6

[State 200,1]
type=HitDef
Triggerall = !Movecontact
trigger1 = 1
attr = S,NP
animtype = Heavy
damage = 16,7
Hitflag = MAFD
guardflag = MA
pausetime = 0,8
sparkno = -1
guard.sparkno = s7000
sparkxy = 0,0
hitsound= -1
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = ifelse(root,var(13) > 2,-2,-1),ifelse(root,var(13) > 2,-2,0)
air.velocity = ifelse(root,var(13) > 2,-2,-1),ifelse(root,var(13) > 2,-2,-1)
Fall = 1
Envshake.time = 5
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0

[State 0, Super Energy Wave Volley - FXADD]
type=Helper
trigger1 = Time = 0
name = "Super Energy Wave Volley - FXADD"
ID = 1555
stateno = 1555
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .080
size.yscale = .065

[State 0, Super Energy Wave Volley - FXSUB]
type = Helper
trigger1 = Time = 0
name = "Super Energy Wave Volley - FXSUB"
ID = 1556
stateno = 1556
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .080
size.yscale = .065

[State 200, End]
type = Changestate
trigger1 = movecontact
trigger2 = frontedgebodydist < 0
trigger3 = time = 500
trigger4 = pos y >= -5
value = 1560
;-------------------------------------------------------------------------------
[Statedef 1555]
type = A
movetype = I
physics = N
ctrl = 0
anim = 1555
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = -1
add = 0,-50,-150
mul = 512,512,512
color = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 500,Perfect Angle]
type=AngleSet
trigger1 = 1
value = ((atan((-1*Parent,Vel Y)/Parent,Vel X))*(360/(2*pi)))+0

[State 500,Draw]
type = AngleDraw
trigger1 = 1
scale = 1,1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Parent,Stateno != 1550
trigger1 = Parent,Stateno != 1551
trigger2 = Parent,Stateno = 1560
;-------------------------------------------------------------------------------
[Statedef 1556]
type = A
movetype = I
physics = N
ctrl = 0
anim = 1555
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = -1
add = 0,-50,-150
mul = 512,512,512
color = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 500,Perfect Angle]
type=AngleSet
trigger1 = 1
value = ((atan((-1*Parent,Vel Y)/Parent,Vel X))*(360/(2*pi)))+0

[State 500,Draw]
type = AngleDraw
trigger1 = 1
scale = 1,1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Parent,Stateno != 1550
trigger1 = Parent,Stateno != 1551
trigger2 = Parent,Stateno = 1560
;-------------------------------------------------------------------------------
[Statedef 1560]
type = S
movetype = A
physics = S
juggle = 2
ctrl = 0
anim = 1560
velset = 0,0
sprpriority = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S3,6

[State 0, EnvShake]
type = EnvShake
trigger1 = Time = 0
time = 7

[State 0, PosAdd]
type = PosAdd
trigger1 = Time = 0
x = 5
y = 0

[State 0, Super Energy Wave Volley - Explosion FXADD]
type = Helper
trigger1 = Time = 0
name = "Super Energy Wave Volley - Explosion FXADD"
ID = 1565
stateno = 1565
postype = p1
facing = Cond(Random<500,1,-1)
keyctrl = 0
ownpal = 1
size.xscale = .2
size.yscale = .2

[State 0, Super Energy Wave Volley - Explosion FXSUB]
type = Helper
trigger1 = Time = 0
name = "Super Energy Wave Volley - Explosion FXSUB"
ID = 1566
stateno = 1566
postype = p1
facing = Cond(Random<500,1,-1)
keyctrl = 0
ownpal = 1
size.xscale = .2
size.yscale = .2

[State 200, End]
type = Destroyself
trigger1 = time = 20
;-------------------------------------------------------------------------------
[Statedef 1565]
type = A
movetype = I
physics = N
anim = 1565
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = -1
add = 0,0,0
mul = 512,512,512
color = 256

[State 0, VarSet]
type = VarSet
trigger1 = !Time
Fv = 10
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = Fvar(10)+(time*.5)
scale = 1+time*.025,1+time*.025

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 300-(time*10),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = !AnimTime
;-------------------------------------------------------------------------------
[Statedef 1566]
type = A
movetype = I
physics = N
anim = 1565
sprpriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = !Time
Fv = 10
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = Fvar(10)+(time*.5)
scale = 1+time*.025,1+time*.025

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = !AnimTime
;--------------------------------------------------------------------------
[StateDef 6100]
type = A
movetype = I
physics = S
juggle = 0
anim = 6100
poweradd=-1000
ctrl = 0

[State 3000,Super Charge]
Type = Helper
Trigger1 =! Time
HelperType = Normal
ID = 900
Stateno = 900
Name = "Super Charge"
PosType = p1
Pos = 0,-25
Facing = Cond(Random<500,1,-1)
Keyctrl = 0
Ownpal = 1
Size.XScale = .50
Size.YScale = .50
IgnoreHitPause = 1
PERSISTENT = 0
SuperMoveTime = 99999
PauseMoveTime = 99999

[State 3000, PlaySnd - Super Charge]
Type = PlaySnd
Trigger1 = Time = 0
Value = S950,1

[State 0, Pause]
type = Pause
trigger1 = gametime%3=1  && (prevstateno=642)
time =2
movetime=2
ignorehitpause =1
persistent =1

[State 0, VelSet]
type = VelSet
trigger1 =pos y <0
y = .3
ignorehitpause = 1
persistent =1
[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0
ignorehitpause = 1
persistent = 1
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = pos y >= 0 && anim!=6100
value = 6100
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = pos y < 0 && anim!=61000
value = 61000
ignorehitpause = 1
persistent = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1=timemod=15,1
value = S6,50
volumescale = 40
channel = -1
freqmul = 1.0
loop = 0
pan = 0 
ignorehitpause =1
persistent =1 

[State 0, PlaySnd]
type = PlaySnd
trigger1=time=0 || time= 60 || time=120
value = S2001,1
volumescale = 100
channel = -1
freqmul = 1.0
loop = 0
pan = 0 
ignorehitpause =1
persistent =1 

[State 0, Explod]
type = Explod
Trigger1=time>2 && pos y = 0
trigger1 = gametime%7=1
anim = 6122
ID =6122 
pos = -4,4
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .2+var(8)*.1,.2+var(8)*.1
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal =1
removeongethit = 0 
supermove = 99
pausemove = 999

[State 0, Explod]
type = Explod
Trigger1=time>2 && pos y = 0
trigger1 = gametime%7=1
anim = 6122
ID =6122 
pos = 4,-2
postype = p1 
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .2+var(8)*.1,.2+var(8)*.1
sprpriority = -100
ontop = 0
shadow = 0,0,0
ownpal =1
removeongethit = 0 
supermove = 999
pausemove = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 =time=0
value = S3,9
volume = 100
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 =time=0
value = S3,9
volume = 100
channel = -1
[State 0, VarSet]
type = VarSet
trigger1 = time=0
v = 8   ;fv = 10
value = 0
ignorehitpause = 1
persistent = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =time=0 && pos y =0 
value = S10,1
channel = 9

[State 0, PlaySnd]
type = PlaySnd
trigger1 =time=10 && pos y =0 
value = S10,1
channel = 9

[State 0, PlaySnd]
type = PlaySnd
trigger1 =time=10&& pos y =0 
value = S10,1
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S6,49
volume=1000
volumescale=100
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 =animelem=3
value = S6,49
volume=1000
volumescale=100
channel = 7

[State 0, Explod]
type = Explod
trigger1 = animelem=3
anim =6010 
ID =6010 
pos = 0,-24
postype = p1  
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 999
scale = .06,.06
sprpriority = 20
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause =1
supermove = 999
pausemove = 9999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 =animelem=4 
ID =6010
pos = -10,-25
postype = p1  ;p2,front,back,left,right
ignorehitpause =1
persistent =1
supermove = 999
pausemove = 999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 =numexplod(6010) 
ID =6010
scale=.06+var(8)*.01,.06+var(8)*.01
ignorehitpause =1
persistent =1
supermove = 999
pausemove = 999


[State 0, BGPalFX]
type = BGPalFX
trigger1 = time<10
time = 1
add = -time*3,-time*3,-time*3
mul = 256,256,256
sinadd = 0,0,0,10
ignorehitpause=1
persistent=1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time>=10
time = 1
add = -30,-30,-30
mul = 256,256,256
sinadd = 0,0,0,10
ignorehitpause=1
persistent=1

[State 0, EnvShake]
type = EnvShake
trigger1 = time=60 || time=120
time = 15
freq = 60
ampl = -4
phase = 90
ignorehitpause =1 
persistent =1 

[State 0, Helper]
type = Helper
trigger1 = time = 60 || time=120
ID = 6150
pos = -55,0
postype = back
stateno = 6150
helpertype = normal
name = "efecto"
keyctrl = 0
ownpal = 1
supermovetime = 1

[State 0, VarSet]
type = VarSet
trigger1 = time=0
v = 8   
value = 0
ignorehitpause =1 
persistent =1 

[State 0, VarSet]
type = VarSet
trigger1 = time=60
v = 8   
value = 1
ignorehitpause =1 
persistent =1 

[State 0, VarSet]
type = VarSet
trigger1 = time=120
v = 8   
value = 2
ignorehitpause =1 
persistent =1 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60 
value = S3,16
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120 
value = S3,8
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60 
value = S3,16
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 120 
value = S3,8
channel = -1

[State 6100, end]
type = ChangeState
trigger1 = (Time >50 && command!="hold_c") ||  time >121
trigger2=time>20 && pos y !=0
value = 6101
ctrl = 0
;--------------------------------------------------------------------------------
[StateDef 6101]
type = A
movetype = I
physics = S
juggle = 0
anim = 6101
poweradd=0
ctrl = 0

[State 0, VelSet]
type = VelSet
trigger1 =pos y <0
y = .2
ignorehitpause = 1
persistent =1
[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = Time > 1 && time < 120
trigger1 = Timemod = 6,0
value = 6101+Var(11)
elem = 4

[State 0, Explod]
type = Explod
trigger1 =animelem=4
anim =6124 
ID = 6124
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 1,1
sprpriority = 9
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause =1
persistent =1
supermove = 1
pausemove = 1


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =animelem=4
id =215 
ignorehitpause =1 
persistent =1 

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =animelem=4 
id =214
ignorehitpause =1 
persistent =1 

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =1
id =6015
ignorehitpause =1 
persistent =1 


[State 0, Explod]
type = Explod
Trigger1=time<16 && pos y = 0
trigger1 = gametime%10=1
anim = 6122
ID =6122 
pos = -4,4
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .2+var(8)*.1,.2+var(8)*.1
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal =1
removeongethit = 0 
supermove = 99
pausemove = 999

[State 0, Explod]
type = Explod
Trigger1=time<16 && pos y = 0
trigger1 = gametime%10=1
anim = 6122
ID =6122 
pos = 4,-2
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .2+var(8)*.1,.2+var(8)*.1
sprpriority = -100
ontop = 0
shadow = 0,0,0
ownpal =1
removeongethit = 0 
supermove = 99
pausemove = 999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 =numexplod(6010) 
ID =6010
scale=.06+var(8)*.01,.06+var(8)*.01
ignorehitpause =1
persistent =1
supermove = 999
pausemove = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=5 && var(8)=0
value = S10,2
volumescale = 100
channel = 9
freqmul = 1.0
ignorehitpause = 1
persistent = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=5 && var(8)=1
value = S10,3
volumescale = 100
channel = 9
freqmul = 1.0
ignorehitpause = 1
persistent = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=5 && var(8)=2
value = S10,0
volumescale = 100
channel = 9
freqmul = 1.0
ignorehitpause = 1
persistent = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=5 && var(8)=2
value = S10,4
volumescale = 60
channel = 10
freqmul = 1.0
ignorehitpause = 1
persistent = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = animelem=4
channel = 7
ignorehitpause =1 
persistent =1 
[State 0, StopSnd]
type = StopSnd
trigger1 = animelem=4
channel = 8
ignorehitpause =1 
persistent =1 
[State 0, ModifyExplod]
type = ModifyExplod
trigger1 =animelem=1
ID =6010
pos = -6,-27
postype = p1  ;p2,front,back,left,right
ignorehitpause =1
persistent =1
supermove = 999
pausemove = 999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 =animelem=2
ID =6010
pos = -3,-27
postype = p1  ;p2,front,back,left,right
ignorehitpause =1
persistent =1
supermove = 999
pausemove = 999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 =animelem=3
ID =6010
pos = 4,-20
postype = p1  ;p2,front,back,left,right
ignorehitpause =1
persistent =1
supermove = 999
pausemove = 999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =animelem=4
id = 6010
ignorehitpause = 1
persistent = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 1
add = -30,-30,-30
mul = 256,256,256
sinadd = 0,0,0,10
ignorehitpause=1
persistent=1

[State 0, Explod]
type = Explod
Trigger1=time>13
trigger1 = gametime%8=1
anim = 6122
ID =6122 
pos = 20,4
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .2+var(8)*.1,.2+var(8)*.1
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal =1
removeongethit = 0 
supermove = 99
pausemove = 999

[State 250, Helper]
type =helper
trigger1 =Time = 0
ID = 6110
pos =20 ,-22
postype = p1
stateno = 6110
helpertype = normal
name = "Kamehameha"
keyctrl = 0
ownpal = 1
supermovetime = 1
size.xscale=.35
size.yscale=.35

[State 250, Helper]
type =helper
trigger1 = Time = 0
ID = 6111
pos =70 ,1
postype = p1
stateno = 6111
helpertype = normal
name = "Kamehameha"
keyctrl = 0
ownpal = 1
supermovetime = 1
size.xscale=.25
size.yscale=.25

[State 250, Helper]
type =helper
trigger1 = Time = 0
ID = 6112
pos =50 ,1
postype = p1
stateno = 6112
helpertype = normal
name = "Kamehameha"
keyctrl = 0
ownpal = 1
supermovetime = 1
size.xscale=.12	
size.yscale=.12

[State 200, End]
type = ChangeState
Triggerall = Power >= 1000
Triggerall =  Time >= 100
trigger1 = ailevel = 0 && command = "s"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 6304

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------------
[StateDef 6102]
type = A
movetype= i
anim = 6102
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=0
value = S2001,0
volumescale = 100
channel = -1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numexplod(2994) 
ID =2994
trans=addalpha
alpha=256-time*25,256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numexplod(2993) 
ID =2993
trans=addalpha
alpha=140-time*14,256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =time>5
id =2994 
ignorehitpause = 1
persistent = 1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =time>5
id =2993
ignorehitpause = 1
persistent = 1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =1
id =6124 
ignorehitpause = 1
persistent = 1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =time>5
id =6123
ignorehitpause = 1
persistent = 1
[State 6102, end]
type = ChangeState
trigger1 =cond(numhelper(6110),cond(helper(6110),stateno=6115,time>65,animtime=0),1)
value = cond(pos y =0,0,50)
ctrl =  cond(pos y =0,1,0)

;---------------------------------------------------------------------------------------
[StateDef 6110]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6110+root,var(8)
poweradd = 0
sprpriority = 9

[State 0, PosSet]
type = PosSet
trigger1 =time=0 && prevstateno!=61144
x =root, pos x +5*facing
ignorehitpause =1 
persistent =1 

[State 0, PosSet]
type = PosSet
trigger1 =1
y = root,pos y -22
ignorehitpause =1 
persistent =1 

[State 0, VarAdd]
type = VarAdd
trigger1 =1
v =1
value = gethitvar(damage)
ignorehitpause = 1
persistent =   1


[State 0, AngleDraw]
type = AngleDraw
trigger1 =1
value = 1
scale =.6+root,var(8)*.2,.6+root,var(8)*.2
ignorehitpause =1 
persistent =1 

[State 0, PlaySnd]
type = PlaySnd
triggerall=prevstateno!=61144
trigger1 =time=0 && root,var(8)=2 
value = S6,47
channel = -1
[State 0, PlaySnd]
type = PlaySnd
triggerall=prevstateno!=61144
trigger1 =time=0 && root,var(8)=0
value = S3,22
channel = -1

[State 0, PlaySnd]
type = PlaySnd
triggerall=prevstateno!=61144
trigger1 =time=0 && root,var(8)=1
value = S3,21
channel = -1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 61144
time = 999
forceair = 0
ignorehitpause = 1
persistent = 1

 [State 0, Explod]
type = Explod
triggerall=prevstateno!=61144
trigger1=time=1
anim = 7020
ID = 7020
pos = -20,10
postype = p1
facing = -1
vfacing = 1
bindtime = 1
vel = -.6,0
accel = 0,0
random = 15,5
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause =1
trans = addalpha
alpha=150,256
persistent =1

 [State 0, Explod]
type = Explod
trigger1=time%2=1
anim = 6008
ID =6008
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel =(-fvar(1)/20)*facing,-fvar(2)/20
accel = 0,0
random = 40,20+root,var(8)*10
removetime = -2
pausemovetime = 0
scale = .01,.01
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause =1

 [State 0, Explod]
type = Explod
trigger1=time%2=1
anim = 6008
ID =6008
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel =(-fvar(1)/20)*facing,-fvar(2)/20
accel = 0,0
random = 40,20+root,var(8)*10
removetime = -2
pausemovetime = 0
scale = .01,.01
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause =1

 [State 0, Explod]
type = Explod
trigger1=time%2=1
anim = 6008
ID =6008
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel =(-fvar(1)/20)*facing,-fvar(2)/20
accel = 0,0
random = 40,20+root,var(8)*10
removetime = -2
pausemovetime = 0
scale = .01,.01
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause =1

 [State 0, Explod]
type = Explod
trigger1=time%2=1
anim = 6008
ID =6008
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel =-fvar(1)/20,-fvar(2)/20
accel = 0,0
random = 40,20+root,var(8)*10
removetime = -2
pausemovetime = 0
scale = .01,.01
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause =1

 [State 0, Explod]
type = Explod
trigger1=time%2=1
anim = 6008
ID =6008
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel =-fvar(1)/20,-fvar(2)/20
accel = 0,0
random = 40,20+root,var(8)*10
removetime = -2
pausemovetime = 0
scale = .01,.01
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause =1

[State 421, end]
type = ChangeState
trigger1=(movehit || moveguarded)
trigger1=p2bodydist x = [-30,30]
trigger1=p2bodydist y =  [-70,70]
value=6113
persistent=1
ignorehitpause=1

[State 6110, 1]
type = HitDef
hitflag=mafde
palfx.time = 10
palfx.add = 0,0,200
palfx.mul = 256,256,200
palfx.sinadd = 0,0,0,1
palfx.color = 256
envshake.time=10
envshake.freq = 30
envshake.ampl = -4
envshake.phase = 90
trigger1 = timemod = 5,0
attr = S, NA
damage = 50,50
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 4
sparkno = 9999
sparkxy = -10, -76
hitsound = s2, 10
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -8,0
ground.cornerpush.veloff=0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -6,3
air.hittime = 12

[State 0, Helper]
type = Helper
Trigger1 = MoveGuarded = 1
helpertype = normal
name = "Guard Spark"
ID = 990
stateno = 990
pos = -5,-20
postype = P2
facing = -1
ownpal = 1
Size.xScale = .40*Helper(999999),Fvar(16)
Size.yScale = .40*Helper(999999),Fvar(16)
ignoreHitPause = 1
PERSISTENT = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =abs(root,pos x-pos x)<50+root,var(8)*7
flag=invisible
ignorehitpause=1
persistent=1

[State 0, Null]
type = Null
trigger1 =fvar(2):=(pos y-helper(6111),pos y)
ignorehitpause =1
persistent = 1
[State 0, Null]
type = Null
trigger1 =fvar(1):=(pos x-helper(6111),pos x)
ignorehitpause =1
persistent = 1
[State 0, Null]
type = Null
trigger1 = fvar(12):=(helper(6111),pos y-enemy,pos y+10)
ignorehitpause =1 
persistent =1 
[State 0, Null]
type = Null
trigger1 =fvar(5):=(helper(6111),pos x-enemy,pos x)
ignorehitpause =1
persistent = 1


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag=noshadow
ignorehitpause =1 
persistent =1

[State 0, VelSet]
type = VelSet
trigger1 =time>3
x=ifelse(time>3 && time <20,8,ifelse(time>=20 && time < 30,10,12))+var(2)
ignorehitpause =1 
persistent = 1

[State 6144, end]
type = ChangeState
trigger1 = var(1)>=150+root,var(8)*10	 
value=6115
ctrl = 1

[State 6001, end]
type = ChangeState
trigger1 =  frontedgedist < -10 ||  root,stateno!=6101
value = 6114
ctrl = 1
;-----------------------------------------------------------------------------
[StateDef 6111]
type = S
movetype= H
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6002
poweradd = 0
sprpriority = 99

[State 0, Projectile]
type = Projectile
trigger1= fvar(11)>30 
ProjID = 6115
projanim =cond(root,var(8)=0,6115,cond(root,var(8)=1,6116,6117))
projhitanim = 1
projremanim = 1
projcancelanim = 1
projscale = .2,.2;.05,.05
projremove = 1
projremovetime = ceil(fvar(13)/60)
velocity = (fvar(11)/(fvar(13)/64)),0
remvelocity = 0,0
accel =  0,0
velmul = 1
projhits = 1
;projmiss
projpriority = 1
projsprpriority = 99999999999
projedgebound=999999
projstagebound=999999
projheightbound=-999999,999999
offset = -30,5
postype = p1         ;p2,front,back,left,right
projshadow = 0,0,0
supermovetime = 0
pausemovetime = 0
attr = S, SP
damage   = 2
animtype = heavy
guard.dist=0
hitflag = MAFDP
pausetime = 0,0
hitsound   = 5,2
sparkxy = 500,500
guardsound = S6,0
ground.type = Low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -3,3
air.animtype = Back
air.velocity =-4,cond(fvar(12)>0,-1,1)
air.juggle = 3
air.fall = 0
down.velocity = -5,-6
down.hittime = 30
numhits=0
fall=1
down.bounce = 0

[State 0, Helper]
type = Helper
Trigger1 = MoveGuarded = 1
helpertype = normal
name = "Guard Spark"
ID = 990
stateno = 990
pos = -5,-20
postype = P2
facing = -1
ownpal = 1
Size.xScale = .40*Helper(999999),Fvar(16)
Size.yScale = .40*Helper(999999),Fvar(16)
ignoreHitPause = 1
PERSISTENT = 5

[State 0, Null]
type = Null
trigger1 = fvar(11):=((helper(6110),pos x-90*facing) - pos x)*facing ;(helper(6110),pos x-40*facing)
ignorehitpause =1 
persistent =1 
[State 0, Null]
type = Null
trigger1 = fvar(13):=Exp(0.5*ln((fvar(11)*fvar(11))+(fvar(12)*fvar(12))))
ignorehitpause =1 
persistent =1 

[State 0, Null]
type = Null
trigger1 = fvar(12):=((helper(6110),pos y) - pos y )
ignorehitpause =1 
persistent =1 

[State 0, PosSet]
type = PosSet
trigger1 =root,var(8)=2
x =root, pos x +31*facing
y = root,pos y -25
ignorehitpause =1 
persistent =1 
[State 0, PosSet]
type = PosSet
trigger1 =root,var(8)=1
x =root, pos x +30*facing
y = root,pos y -25
ignorehitpause =1 
persistent =1 

[State 0, PosSet]
type = PosSet
trigger1 =root,var(8)=0
x =root, pos x +28*facing
y = root,pos y -25
ignorehitpause =1 
persistent =1 
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag=noshadow
ignorehitpause =1 
persistent =1

[State 0, AngleDraw]
type = AngleDraw
trigger1 =time>=10
value = 1
scale =.6+root,var(8)*.2,.6+root,var(8)*.2
ignorehitpause =1 
persistent =1 

[State 0, AngleDraw]
type = AngleDraw
trigger1 =time<10
value = 1
scale =time*(.6+root,var(8)*.2)/10,time*(.6+root,var(8)*.2)/10
ignorehitpause =1 
persistent =1 

[State 6002, end]
type = ChangeState
trigger1 = root,stateno!=6101 || helper(6110),var(1)=1 
value = 61112
ctrl = 1
;----------------------------------------------------------------------------------------
[StateDef 6112]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6003
poweradd = 0
sprpriority = -99

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =abs(root,pos x-helper(6110),pos x)<50+root,var(8)*7
flag=invisible
ignorehitpause=1
persistent=1

[State 0, Null]
type = Null
trigger1 =fvar(1):=-((root,pos x+20*facing)-helper(6110),pos x+20*facing)
ignorehitpause =1
persistent = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time>=10
scale=(fvar(1)/60)*facing,(.3+root,var(8)*.9)+(random%3*.1)
ignorehitpause =1 
persistent =1 


[State 0, PosSet]
type = PosSet
trigger1 =time>0
x = (root,pos x +35*facing)
y = root,pos y -23
ignorehitpause =1 
persistent =1 

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag=noshadow
ignorehitpause =1 
persistent =1

[State 6003, end]
type = ChangeState
trigger1 = root,stateno!=6101 || helper(6110),var(1)=1
value = 61113
ctrl = 1
;--------------------------------------------------------------------------
[StateDef 6113]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6110+root,var(8)
poweradd = 0
sprpriority = 9

[State 0, ParentVarSet]
type = Parentvarset
trigger1 = numtarget>0 
fv=11    
value = target,gethitvar(damage)
ignorehitpause =1 
persistent =1

[State 0, ParentVarSet]
type = Parentvaradd
trigger1 = numtarget>0 
fv=10     
value = target,gethitvar(damage)
ignorehitpause =1 
persistent =1
[State 0, PosSet]
type = PosSet
trigger1 =1
y = root,pos y -22
ignorehitpause =1 
persistent =1 
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =abs(root,pos x-pos x)<50+root,var(8)*7
flag=invisible
ignorehitpause=1
persistent=1

[State 0, MoveHitReset]
type = MoveHitReset
trigger1 =numexplod(905)
ignorehitpause = 1
persistent = 1

[State 0, Hitspark]
type = Helper
trigger1 = movehit  
helpertype = normal
stateno = 800
ID = 031
pos = -5,-23
postype = p2
facing = 1
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
persistent = 3
ignorehitpause = 1

[State 0, Width]
type = Width
trigger1 =1 
player = 5,5
ignorehitpause =1 
persistent = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1
persistent = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 =1
value = 1
scale =.6+root,var(8)*.2,.6+root,var(8)*.2
ignorehitpause =1 
persistent =1 

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 6114
time = 999
forceair = 0
ignorehitpause = 1
persistent = 1

 [State 0, Explod]
type = Explod
trigger1=time=1 && pos y = -22
anim = 7020
ID = 7020
pos = -20,10
postype = p1
facing = -1
vfacing = 1
bindtime = 1
vel = -.6,0
accel = 0,0
random = 15,5
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause =1
trans = addalpha
alpha=150,256
persistent =1

 [State 0, Explod]
type = Explod
trigger1=time%2=1
anim = 6008
ID =6008
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel =(-fvar(1)/20)*facing,-fvar(2)/20
accel = 0,0
random = 40,20+root,var(8)*10
removetime = -2
pausemovetime = 0
scale = .01,.01
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause =1

 [State 0, Explod]
type = Explod
trigger1=time%2=1 
anim = 6008
ID =6008
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel =(-fvar(1)/20)*facing,-fvar(2)/20
accel = 0,0
random = 40,20+root,var(8)*10
removetime = -2
pausemovetime = 0
scale = .01,.01
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause =1
 [State 0, Explod]
type = Explod
trigger1=time%2=1
anim = 6008
ID =6008
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel =(-fvar(1)/20)*facing,-fvar(2)/20
accel = 0,0
random = 40,20+root,var(8)*10
removetime = -2
pausemovetime = 0
scale = .01,.01
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause =1

 [State 0, Explod]
type = Explod
trigger1=time%2=1
anim = 6008
ID =6008
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel =-fvar(1)/20,-fvar(2)/20
accel = 0,0
random = 40,20+root,var(8)*10
removetime = -2
pausemovetime = 0
scale = .01,.01
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause =1
 [State 0, Explod]
type = Explod
trigger1=time%2=1
anim = 6008
ID =6008
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel =-fvar(1)/20,-fvar(2)/20
accel = 0,0
random = 40,20+root,var(8)*10
removetime = -2
pausemovetime = 0
scale = .01,.01
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause =1

[State 6110, 1]
type = HitDef
hitflag=mafde
palfx.time = 10
palfx.add = 0,0,200
palfx.mul = 256,256,200
palfx.sinadd = 0,0,0,1
palfx.color = 256
envshake.time=10
envshake.freq = 30
envshake.ampl = -4
envshake.phase = 90
trigger1 = timemod = 5,0
attr = S, NA
damage = 17,8
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 3, 4
sparkno = 9999
sparkxy = -10, -76
hitsound = s2, 10
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2
ground.cornerpush.veloff=0
airguard.velocity = -1.9,-.8
air.type = High
sprpriority=9
air.velocity = -3,-.5
air.hittime = 12

[State 0, Helper]
type = Helper
Trigger1 = MoveGuarded = 1
helpertype = normal
name = "Guard Spark"
ID = 990
stateno = 990
pos = -5,-20
postype = P2
facing = -1
ownpal = 1
Size.xScale = .40*Helper(999999),Fvar(16)
Size.yScale = .40*Helper(999999),Fvar(16)
ignoreHitPause = 1
PERSISTENT = 5

[State 0, Null]
type = Null
trigger1 =fvar(2):=(pos y-helper(6111),pos y)
ignorehitpause =1
persistent = 1
[State 0, Null]
type = Null
trigger1 =fvar(1):=(pos x-helper(6111),pos x)
ignorehitpause =1
persistent = 1
[State 0, Null]
type = Null
trigger1 = fvar(12):=(helper(6111),pos y-enemy,pos y+10)
ignorehitpause =1 
persistent =1 
[State 0, Null]
type = Null
trigger1 =fvar(5):=(helper(6111),pos x-enemy,pos x)
ignorehitpause =1
persistent = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag=noshadow
ignorehitpause =1 
persistent =1

[State 0, VelSet]
type = VelSet
trigger1 =1
x=8
ignorehitpause =1 
persistent = 1

[State 6001, end]
type = ChangeState
trigger1 =  frontedgedist < -999 ||  root,stateno!=6101 
trigger2=time=150
trigger3=frontedgedist < -10
value = 6114
ctrl = 1
;--------------------------------------------------------
[StateDef 6114]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim =6119+root,var(8)
poweradd = 0
sprpriority = 9

[State 0, Explod]
type = Explod
trigger1 =time=0
anim = 6312
ID =6312
pos = 35,-20
postype = rigth
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 55,55
sprpriority = 99999999999999999
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause =1

[State 0, ParentVarSet]
type = Parentvaradd
trigger1 = numtarget>0 
fv=10     
value = target,gethitvar(damage)*3
ignorehitpause =1 
persistent =1
[State 0, ParentVarSet]
type = Parentvarset
trigger1 = numtarget>0 
fv=11    
value = target,gethitvar(damage)
ignorehitpause =1 
persistent =1

[State 0, AngleDraw]
type = AngleDraw
trigger1 =1
value = 1
scale =1+root,var(8)*.3,1+root,var(8)*.3
ignorehitpause =1 
persistent =1 

[State 0, PosAdd]
type = PosAdd
trigger1 = time=0
x = 15
y = 0
ignorehitpause =1 
persistent = 1


[State 0, BGPalFX]
type = BGPalFX
trigger1 = time<10
time = 1
add = -30+time*3,-30+time*3,-30+time*3
mul = 256,256,256
sinadd = 0,0,0,10
ignorehitpause=1
persistent=1
[State 0, PlaySnd]
type = PlaySnd
trigger1 =time=1 
value = S6,48
volumescale = 100
channel = -1
abspan = 1
ignorehitpause =1 
persistent =1 


[State 200, 1]
type = HitDef
palfx.time = 55
palfx.add = 0,0,200
palfx.mul = 256,256,200
palfx.sinadd = 0,0,0,1
palfx.color = 256
hitflag=mafde
trigger1 =time!
attr = S, NA
damage = 50+root,var(8)*10,25
guard.dist=0
animtype = diagup
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 3
sparkno = 9999
sparkxy = -10, -76
hitsound = s3, 5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,-10
ground.cornerpush.veloff=0
airguard.velocity = -1.9,-.8
air.type = High
sprpriority=9
air.velocity = -6,-10
air.hittime = 12
fall=1
fall.recover=0

[State 0, EnvShake]
type = EnvShake
trigger1 =time=0
time = 20
freq = 70
ampl = -12
phase = 90
ignorehitpause =1
persistent =   1

[State 0, Explod]
type = Explod
trigger1 =time=0
anim = 6312
ID =6312
pos = 35,-20
postype = rigth
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 55,55
sprpriority = 99999999999999999
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause =1

[State 0, VelSet]
type = VelSet
trigger1 =1
x = 0
ignorehitpause =1 
persistent = 1

[State 0, Null]
type = Null
trigger1 = var(1):=1
ignorehitpause =1 
persistent =1 


[State 6114, end]
type = Destroyself
trigger1 =animtime=0

[StateDef 6115]
type = S
movetype= A
physics = S
anim =6119+root,var(8)
sprpriority = 9

[State 0, AngleDraw]
type = AngleDraw
trigger1 =1
value = 1
scale =1+root,var(8)*.3,1+root,var(8)*.3
ignorehitpause =1 
persistent =1 


[State 0, PosAdd]
type = PosAdd
trigger1 = time=0
x = 15
y = 0
ignorehitpause =1 
persistent = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time<10
time = 1
add = -30+time*3,-30+time*3,-30+time*3
mul = 256,256,256
sinadd = 0,0,0,10
ignorehitpause=1
persistent=1
[State 0, PlaySnd]
type = PlaySnd
trigger1 =time=1 
value = S6,48
volumescale = 100
channel = -1
abspan = 1
ignorehitpause =1 
persistent =1 


[State 0, EnvShake]
type = EnvShake
trigger1 =time=0
time = 20
freq = 70
ampl = -12
phase = 90
ignorehitpause =1
persistent =   1

[State 0, VelSet]
type = VelSet
trigger1 =1
x = 0
ignorehitpause =1 
persistent = 1
[State 0, Null]
type = Null
trigger1 = var(1):=1
ignorehitpause =1 
persistent =1 

[State 6115, end]
type = Destroyself
trigger1 =animtime=0
;-----------------------------------------------------------
[StateDef 61113]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6003
poweradd = 0
sprpriority = 8

[State 0, Null]
type = Null
trigger1 =fvar(17):=-((root,pos x+20*facing)-helper(6110),pos x+20*facing)
ignorehitpause =1
persistent = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time>0
scale=(fvar(17)/60)*facing,((.10+root,var(8)*.9)+(random%3*.1))-time*.1
ignorehitpause =1 
persistent =1 

[State 0, PosSet]
type = PosSet
trigger1 =1
x = (root,pos x +35*facing)
y = root,pos y -23
ignorehitpause =1 
persistent =1 

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag=noshadow
ignorehitpause =1 
persistent =1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-(time*25),0+(time*25)
ignorehitpause =1 
persistent = 1

[State 61133, end]
type = Destroyself
trigger1 = time=10
;----------------------------------------------------------------------
[StateDef 61112]
type = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6002
poweradd = 0
sprpriority = 99
[State 0, AngleDraw]
type = AngleDraw
trigger1 =1
scale=(.6+root,var(8)*.2)+time*.05,(.6+root,var(8)*.2)+time*.05
ignorehitpause =1 
persistent =1 
 [State 0, Explod]
type = Explod
trigger1=1
anim = 6008
ID =6008
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = .3+(random%20*.02),-.3+(random%10*.02)
random = 40,40
removetime = -2
pausemovetime = 0
scale = .01,.01
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause =1

 [State 0, Explod]
type = Explod
trigger1=1
anim = 6008
ID =6008
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = -.3+(random%20*.02),-.3+(random%10*.02)
random = 60,60
removetime = -2
pausemovetime = 0
scale = .02,.02
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause =1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-(time*12),0+(time*12)
ignorehitpause =1 
persistent = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag=noshadow
ignorehitpause =1 
persistent =1

[State 61112, end]
type = Destroyself
trigger1 =time>10
;------------------------------------------------------
[StateDef 61144]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6110+root,var(8)
poweradd = 0
sprpriority = 9
[State 0, AngleDraw]
type = AngleDraw
trigger1 =1
value = 1
scale =.6+root,var(8)*.2,.6+root,var(8)*.2
ignorehitpause =1 
persistent =1 

[State 0, Explod]
type = Explod
trigger1 = numexplod(60888)<15
anim = 6012
ID = 60888
pos = 40,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = -8-(random%3),-4-(random%3)
accel =0,0 
random = 0,0
removetime = -2
pausemovetime = 0
scale = .02,.02
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
[State 0, Explod]
type = Explod
trigger1 = numexplod(60889)<15
anim = 6012
ID = 60889
pos = -30,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = -12-(random%3),-4+(random%3)
accel =0,0 
random = 0,0
removetime = -2
pausemovetime = 0
scale = .02,.02
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, VarSet]
type = Varadd
trigger1 = root,command="a"
v = 10    
value = 2
ignorehitpause =1
persistent =1

[State 0, HitOverride]
type = HitOverride
trigger1 =1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 61144
time = 999
forceair = 0
ignorehitpause =  1
persistent =     1

 [State 0, VarAdd]
type = VarAdd
trigger1 =1
v =1
value = gethitvar(damage)
ignorehitpause = 1
persistent =   1

[State 0, EnvShake]
type = EnvShake
trigger1 =timemod=10,1
time = 10
freq = 60
ampl = -2
phase = 90
ignorehitpause =1
persistent =  1

[State 0, VelSet]
type = VelSet
trigger1=enemy,name="TND-Vegeta_Ultra_Ego"
trigger1=enemy,stateno!=42112 && enemy,stateno!=66621 && enemy,stateno!=8701
trigger2=enemy,name!="TND-Vegeta_Ultra_Ego" && enemy,name!="TND-Gohan_Beast"
trigger3=enemy,name="TND-Gohan_Beast"
trigger3=enemy,stateno!=6000 && enemy,stateno!=6101 && enemy,stateno!=60001 
x = -12
y = 0
ignorehitpause =1
persistent =  1

[State 0, VelSet]
type = VelSet
trigger1=enemy,stateno=42112 || enemy,stateno=66621 || enemy,stateno=8701
trigger1=enemy,name="TND-Vegeta_Ultra_Ego"
trigger2=enemy,stateno=6000 || enemy,stateno=6101 || enemy,stateno=60001
trigger2=enemy,name="TND-Gohan_Beast"
x = -4
y = 0
ignorehitpause =1
persistent =  1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag=noshadow
ignorehitpause=1


[State 61114, end]
type = ChangeState
trigger1 = var(1)>=90 && abs(root,pos x - pos x) < 10
value=6115
ctrl = 1

[State 421, end]
type = ChangeState
trigger1=time=2
trigger2 =root,stateno!=6101 
value = 6110
ctrl = 1
;--------------------------------------------------------------------------------
[StateDef 6150]
type = S
movetype= i
physics = S
anim = 6150
sprpriority = 98

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = root,pos x+1
y = root,pos y
ignorehitpause =1 
persistent =1 

[State 0, AngleDraw]
type = AngleDraw
trigger1=1
scale = 1+time*.05,1+time*.05
ignorehitpause =1 
persistent = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*25,time*25
ignorehitpause = 1
persistent = 1


[State 6150, end]
type = Destroyself
trigger1 = time=10
;-------------------------------------------------------------------------
[StateDef 6304]
type = S
movetype= I
physics = S
ctrl = 0
anim = 6304
poweradd = -1000
sprpriority = 2

[State 3000,Super Charge]
Type = Helper
Trigger1 =! Time
HelperType = Normal
ID = 900
Stateno = 900
Name = "Super Charge"
PosType = p1
Pos = 0,-25
Facing = Cond(Random<500,1,-1)
Keyctrl = 0
Ownpal = 1
Size.XScale = .50
Size.YScale = .50
IgnoreHitPause = 1
PERSISTENT = 0
SuperMoveTime = 99999
PauseMoveTime = 99999

[State 3000, PlaySnd - Super Charge]
Type = PlaySnd
Trigger1 = Time = 0
Value = S950,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem=2
value = S6,50
volumescale =100
channel = -1
ignorehitpause = 1
persistent = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 =time=0 
time =1
add = 256,256,256
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 =animelem=2 
anim =6313 
ID = 6313
pos = 4,-48
postype = p1  
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 9999
scale = .6,.6
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1
persistent=1

[State 0, Explod]
type = Explod
trigger1 =animelem=2 
anim =6313 
ID = 6313
pos = 4,-48
postype = p1  
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
trans=sub
pausemovetime = 9999
scale = .6,.6
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1
persistent=1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =time=5
value = S3,9
volume = 100
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 =time=5
value = S3,9
volume = 100
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 =time=0 
value = S10,7
volumescale = 100
channel = -1
ignorehitpause =1 
persistent = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 =time=0 
value = S10,7
volumescale = 100
channel = -1
ignorehitpause =1 
persistent = 1

[State 0, Explod]
type = Explod
Trigger1=time>10
trigger1 = gametime%3=1
anim = 6122
ID =6122 
pos = -4,4
postype = p1  
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 999
scale = .15,.15
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal =1
removeongethit = 0 
supermove = 99
pausemove = 999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =  Time >= 35
id = 6313
ignorehitpause =1 
persistent = 3


[State 0, Explod]
type = Explod
Trigger1=time>10
trigger1 = gametime%3=1
anim = 6122
ID =6122 
pos = 4,-2
postype = p1  
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 999
scale = .15,.15
sprpriority = -100
ontop = 0
shadow = 0,0,0
ownpal =1
removeongethit = 0 
supermove = 99
pausemove = 999

[State 0, Pause]
type = Pause
trigger1 =gametime%4=1
time = 3
movetime =2
ignorehitpause = 1
persistent = 1
[State 0, VelSet]
type = VelSet
trigger1 = time<4
x = -8
y = 0
ignorehitpause =1 
persistent =1 

[State 0, Explod]
type = Explod
trigger1=time=1
anim = 7020
ID = 7020
pos = 30,-10
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 1,0
accel = 0,0
random = 15,5
removetime = -2
pausemovetime = 999
scale = .4,.4
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause =1
trans = addalpha
alpha=150,256
persistent =1
supermove
pausemove

[State 0, PlaySnd]
type = PlaySnd
trigger1=time=4
value = S101,0
volume = 100
channel = -1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time<10
time = 4
add = -time*3,-time*3,-time*3
mul = 256,256,256
sinadd = 0,0,0,10
ignorehitpause=1
pausemovetime=98888
movetime=9999
persistent=1
[State 0, BGPalFX]
type = BGPalFX
trigger1 = time>=10
time = 4
add = -30,-30,-30
mul = 256,256,256
sinadd = 0,0,0,10
ignorehitpause=1
pausemovetime=98888
movetime=9999
persistent=1

[State 6304, end]
type = ChangeState
trigger1 = Time = 40
value = 6305
ctrl = 1
;---------------------------------------------------------------------------------
[StateDef 6305]
type = S
movetype= I
physics = S
ctrl = 0
anim = 6305
sprpriority = 2

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = Time > 1 && time < 120
trigger1 = Timemod = 6,0
value = 6305+Var(11)
elem = 1

[State 0, Explod]
type = Explod
trigger1 = gametime%7=1
anim = 6122
ID =6122 
pos = 18,4
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .2,.2
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal =1
removeongethit = 0 
supermove = 99
pausemove = 999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 9044
ignorehitpause =1 
persistent =1 

[State 0, PlaySnd]
type = PlaySnd
trigger1 =time=0 
value = S10,8
volumescale = 100
channel = -1
ignorehitpause =1 
persistent = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =time=0 
value = S10,8
volumescale = 100
channel = -1
ignorehitpause =1 
persistent = 1

[State 0, Explod]
type = Explod
trigger1 = time=0
anim =6308 
ID =6308 
pos = 23,-35
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 999
scale = .13,.13
remappal=537,1
sprpriority = 999
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause =1 
persistent =
supermove = 1
pausemove =1

[State 0, Explod]
type = Explod
trigger1 = time=0
anim =6308 
ID =6308 
pos = 23,-35
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 999
scale = .13,.13
trans=sub
remappal=537,1
sprpriority = 999
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause =1 
persistent =
supermove = 1
pausemove =1

[State 0, ChangeState]
type = ChangeState
trigger1 =cond(numhelper(6310)>1,helper(6310),movecontact,time>20) 
value =6306
ctrl = 0
ignorehitpause =1 
persistent = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 =time>0
time = 4
add = -30,-30,-30
mul = 256,256,256
sinadd = 0,0,0,10
ignorehitpause=1
pausemovetime=98888
movetime=9999
persistent=1

[State 250, Helper]
type =helper
trigger1 = time=0
ID = 6310
pos =60 ,-38
postype = p1
stateno = 6310
helpertype = normal
name = "Mazenko"
keyctrl = 0
ownpal = 1
supermovetime = 1
size.xscale=.2
size.yscale=.2

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------------------------------------
[StateDef 6306]
type = S
movetype= I
physics = S
ctrl = 0
anim = 6305
sprpriority = 2
[State 0, BGPalFX]
type = BGPalFX
trigger1 =time>0
time = 4
add = -30,-30,-30
mul = 256,256,256
sinadd = 0,0,0,10
ignorehitpause=1
pausemovetime=98888
movetime=9999
persistent=1

[State 0, ScreenBound]
type = ScreenBound
trigger1 =1 
value = 0
movecamera = 0,0
ignorehitpause = 1
persistent =1 


[State 6305, end]
type = ChangeState
trigger1 = helper(6310),stateno!=6310  || numhelper(6310)=0
value = 6307
ctrl = 1

[StateDef 6307]
type = S
movetype= I
physics = S
ctrl = 0
anim = 6305
sprpriority = 2
[State 0, ScreenBound]
type = ScreenBound
trigger1 =1 
value = 0
movecamera = 0,0
ignorehitpause = 1
persistent =1 

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numexplod(6308)
ID=6308
removeongethit = 1
ignorehitpause =1
trans =addalpha
alpha=256-time*30,256
scale=.13+time*.01, .13+time*.01
persistent =1
supermove = 99
pausemove = 99

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time>10
id = 6308
ignorehitpause = 1
persistent =1 


[State 0, BGPalFX]
type = BGPalFX
trigger1 =time<10
time = 4
add = -30+time*3,-30+time*3,-30+time*3
mul = 256,256,256
sinadd = 0,0,0,10
ignorehitpause=1
pausemovetime=98888
movetime=9999
persistent=1

[State 6307, end]
type = ChangeState
trigger1 = time=50 || enemy,stateno=22007
value = 6308
ctrl = 1

[StateDef 6308]
type = S
movetype= I
physics = S
ctrl = 0
anim = cond(backedgedist>-10,6306,63066)
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 =time=4 && backedgedist < -10
anim = 6252
ID = 6252
pos = -5,-20
postype = p1  
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 999
scale = .25,.25
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause =1
persistent =1
supermove = 999
pausemove = 999

[State 0, Explod]
type = Explod
trigger1 =time=5 && anim=63066
anim = 6253
ID = 6253
pos = -5,-20
postype = p1  
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 999
scale = .25,.25
sprpriority = 999
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
ignorehitpause =1
persistent =1
supermove = 999
pausemove = 999
 [State 0, Explod]
type = Explod
trigger1 =time=5 && anim=63066
anim = 7030
ID = 7030
pos = -1,-8
postype = p1
facing = -1
vfacing = 1
bindtime = 1
vel = 0,-.3
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .4,.4
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause =1
trans = addalpha
alpha=150,256
persistent =0
[State 0, PlaySnd]
type = PlaySnd
trigger1 =time=5 && anim=63066
value = S5,22
volumescale =100
channel = -1
ignorehitpause = 1
persistent = 1

[State 0, Posadd]
type = Posadd
trigger1 = time=5 && backedgedist < -10
x = -backedgedist+30
y = 0
ignorehitpause =1 
persistent = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 =1 
value = 0
movecamera = 0,0
ignorehitpause = 1
persistent =1 

[State 6307, end]
type = ChangeState
trigger1 = animtime=0
value = 0
ctrl = 1
;---------------------------------------
[StateDef 6310]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6310
poweradd = 0
sprpriority = 2

[State 0, ParentVarSet]
type = Parentvarset
trigger1 = numtarget>0 
fv=11    
value = target,gethitvar(damage)
ignorehitpause =1 
persistent =1

[State 0, ParentVarSet]
type = Parentvaradd
trigger1 = numtarget>0 
fv=10     
value = target,gethitvar(damage)
ignorehitpause =1 
persistent =1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 61144
time = 999
forceair = 0
ignorehitpause = 1
persistent = 1

[State 0, Explod]
type = Explod
trigger1=movehit
trigger1=numtarget>0
trigger1=gametime%5=1
anim =2096
ID =2096
pos = 0,ifelse(target,stateno=5110,0,-20)
postype=p2
facing = 1
vfacing = 1
bindtime = 1
vel = 0,-2
accel = 0,0
random = ifelse(target,stateno=5110,70,20),ifelse(target,stateno=5110,10,45)
removetime = -2
pausemovetime = 0
scale = .1,.1
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1=movehit
trigger1=numtarget>0
trigger1=gametime%4=1
anim =2096
ID =2096
pos = 0,ifelse(target,stateno=5110,0,-20)
postype=p2
facing = 1
vfacing = 1
bindtime = 1
vel = 0,-1
accel = 0,0
random = ifelse(target,stateno=5110,70,20),ifelse(target,stateno=5110,10,45)
removetime = -2
pausemovetime = 0
scale = .07,.07
sprpriority = 999
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1=movehit
trigger1=numtarget>0
trigger1=gametime%2=1
anim =2096
ID =2096
pos = 0,ifelse(target,stateno=5110,0,-20)
postype=p2
facing = 1
vfacing = 1
bindtime = 1
vel = 0,-1
accel = 0,0
random = ifelse(target,stateno=5110,70,20),ifelse(target,stateno=5110,10,45)
removetime = -2
pausemovetime = 0
scale = .05,.05
sprpriority = 999
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0



[State 0, Explod]
type = Explod
trigger1=movehit
anim =903
ID = 903
pos = 25,4
postype= p1
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
remappal=904,10
removetime = -2
scale = .25,.25
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause=1
supermove=999
persistent=0
pausemovetime=9999
supermovetime=9999
pausemove=999

 [State 0, Explod]
type = Explod
trigger1=time%2=1
anim = 2096
ID =2096
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel =-5,0
accel = 0,0
random = 40,20
removetime = -2
pausemovetime = 0
scale = .02,.02
sprpriority = 9
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause =1

 [State 0, Explod]
type = Explod
trigger1=time%2=1
anim = 2096
ID =2096
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel =-5,0
accel = 0,0
random = 40,20
removetime = -2
pausemovetime = 0
scale = .02,.02
sprpriority = 9
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause =1

 [State 0, Explod]
type = Explod
trigger1=time%2=1
anim = 2096
ID =2096
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel =-5,0
accel = 0,0
random = 40,20
removetime = -2
pausemovetime = 0
scale = .02,.02
sprpriority = 9
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause =1

[State 0, Explod]
type = Explod
trigger1 = time=0
anim =6307
ID =6307
pos = 0,3
postype = p1  
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 999
scale = 1,.07
sprpriority = 999
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause =1 
persistent =
supermove = 1
pausemove =1

[State 0, Explod]
type = Explod
trigger1 = time=0
anim =6307
ID =6307
pos = 0,3
postype = p1  
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 999
scale = 1,.07
trans=sub
sprpriority = 8
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause =1 
persistent =
supermove = 1
pausemove =1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID=6307
ignorehitpause =1
scale=((((root,pos x)+35*root,facing)-pos x -10 )/499)*facing, .04
persistent =1
ignorehitpause=1
supermove = 99
pausemove = 99

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 11
y = 0
ignorehitpause =1 
persistent =1 

[State 0, Explod]
type = Explod
trigger1 = time=0
anim =6310
ID =6310
pos = 0,0
postype = p1  
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 999
scale = .18,.18
trans=sub
sprpriority =1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause =1 
persistent =
supermove = 1
pausemove =1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =time=0 
value = S3,21
volumescale = 100
channel = -1 
ignorehitpause =1 
persistent =1

[State 0, 1]
type = HitDef
trigger1 =!time
attr = S, NA
damage = 15,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 10
sparkno = s912454
sparkxy = -10, -76
hitsound = s3, 4
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -4
ground.cornerpush.veloff=0
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 12
kill=0
p2stateno=22005

[State 0, Helper]
type = Helper
Trigger1 = MoveGuarded = 1
helpertype = normal
name = "Guard Spark"
ID = 990
stateno = 990
pos = -5,-20
postype = P2
facing = -1
ownpal = 1
Size.xScale = .40*Helper(999999),Fvar(16)
Size.yScale = .40*Helper(999999),Fvar(16)
ignoreHitPause = 1
PERSISTENT = 5

[State 0, EnvShake]
type = EnvShake
trigger1 = gametime%5=1
time = 5
freq = 60
ampl = -4
phase = 90
ignorehitpause =1 
persistent = 1

[State 6310, end]
type = ChangeState
trigger1 =  frontedgedist < 10 || time>50 || (root,stateno!=6305 && root,stateno!=6306) 
value = 6311
ctrl = 1
;---------------------------------------------------------------------------------
[StateDef 6311]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim =6311
poweradd = 0
sprpriority = 999

[State 0, ParentVarSet]
type = Parentvaradd
trigger1 = numtarget>0 
fv=10     
value = target,gethitvar(damage)
ignorehitpause =1 
persistent =1
[State 0, ParentVarSet]
type = Parentvarset
trigger1 = numtarget>0 
fv=11    
value = target,gethitvar(damage)
ignorehitpause =1 
persistent =1

[State 0, Explod]
type = Explod
trigger1 =time=0
anim = 6312
ID =6312
pos = 35,-20
postype = rigth
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 55,55
sprpriority = 99999999999999999
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause =1
[State 0, Explod]
type = Explod
trigger1=movehit
trigger1=numtarget>0
trigger1=gametime%5=1
anim =2096
ID =2096
pos = 0,ifelse(target,stateno=5110,0,-20)
postype=p2
facing = 1
vfacing = 1
bindtime = 1
vel = 0,-2
accel = 0,0
random = ifelse(target,stateno=5110,70,25),ifelse(target,stateno=5110,10,35)
removetime = -2
pausemovetime = 0
scale = .1,.1
sprpriority = 99
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1=movehit
trigger1=numtarget>0
trigger1=gametime%2=1
anim =2096
ID =2096
pos = 0,ifelse(target,stateno=5110,0,-20)
postype=p2
facing = 1
vfacing = 1
bindtime = 1
vel = 0,-1
accel = 0,0
random = ifelse(target,stateno=5110,70,25),ifelse(target,stateno=5110,10,35)
removetime = -2
pausemovetime = 0
scale = .05,.05
sprpriority = 999
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 3.5,3.5
ignorehitpause = 1
persistent = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =1 
id = 6310
ignorehitpause = 1
persistent = 1
[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time<10
ID=6307
ignorehitpause =1
scale=((((root,pos x)+35*root,facing)-pos x -10 )/499)*facing, .04-time*.004
persistent =1
ignorehitpause=1
supermove = 99
pausemove = 99

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =time>9 
id = 6307
ignorehitpause = 1
persistent = 1

[State 0, Explod]
type = Explod
trigger1=time=0 
anim =904
ID = 904
pos = 10,0
postype= p1
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
remappal=904,10
removetime = -2
scale = 2,2
sprpriority = 99
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause=1
supermove=999
pausemovetime=9999
supermovetime=9999
pausemove=999


[State 0, PosAdd]
type = PosAdd
trigger1 = time=0
x = 15
y = 0
ignorehitpause =1 
persistent = 1


[State 0, PlaySnd]
type = PlaySnd
trigger1 =time=0 
value = S3,10
volumescale = 100
channel = -1
ignorehitpause =1 
persistent =1 
[State 0, PlaySnd]
type = PlaySnd
trigger1 =time=0 
value = S3,10
volumescale = 100
channel = -1
ignorehitpause =1 
persistent =1 
[State 6311, 1]
type = HitDef
hitflag=mafde
trigger1 =time!
attr = S, NA
damage = 60,30
guard.dist=0
animtype = diagup
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 5, 10
sparkno = 9999
sparkxy = -10, -76
hitsound = s333, 5
guardsound = 6, 0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -6,-10
ground.cornerpush.veloff=0
airguard.velocity = -1.9,-.8
air.type = High
sprpriority=9
air.velocity = -6,-10
air.hittime = 12
fall=1
fall.recover=0
p2stateno=22006

[State 0, EnvShake]
type = EnvShake
trigger1 =time=0
time = 20
freq = 70
ampl = -7
phase = 90
ignorehitpause =1
persistent =   1


[State 6311, end]
type = Destroyself
trigger1 =animtime=0

[StateDef 62020]
type = S
movetype= H
physics = S
velset = 0,0
anim= 5000
ctrl = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = p2dist x < 0
trigger1=time=0
ignorehitpause =1
persistent =  1
[State 0, PosSet]
type = PosSet
trigger1 = time=0
y =enemy,pos y
ignorehitpause =1
persistent =1

[State 0, VelSet]
type = VelSet
trigger1 =time>5 && time<10
x = -3
y = 0
ignorehitpause =1
persistent =  1

[State 62020, end]
type = selfstate
trigger1 = time > 50
trigger2=enemy,stateno=0
value = 0
ctrl = 1
[StateDef 62021]
type = S
movetype= H
physics = S
velset = 0,0
anim= 5001
ctrl = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = p2dist x < 0
trigger1=time=0
ignorehitpause =1
persistent =  1
[State 0, PosSet]
type = PosSet
trigger1 = time=0
y =enemy,pos y
ignorehitpause =1
persistent =1

[State 0, VelSet]
type = VelSet
trigger1 =time>5 && time<10
x = -3
y = 0
ignorehitpause =1
persistent =  1

[State 62021, end]
type = selfstate
trigger1 = time > 50
trigger2=enemy,stateno=0
value = 0
ctrl = 1
[StateDef 62022]
type = S
movetype= H
physics = S
velset = 0,0
anim= 5002
ctrl = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = p2dist x < 0
trigger1=time=0
ignorehitpause =1
persistent =  1
[State 0, PosSet]
type = PosSet
trigger1 = time=0
y =enemy,pos y
ignorehitpause =1
persistent =1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = Time = 0
value = -200
kill = 1
absolute = 0
ignorehitpause = 1
persistent = 1


[State 0, VelSet]
type = VelSet
trigger1 =time>5 && time<10
x = -3
y = 0
ignorehitpause =1
persistent =  1

[State 62022, end]
type = selfstate
trigger1 = time > 50
trigger2=enemy,stateno=0
value = 0
ctrl = 1

[StateDef 62023]
type = A
movetype= H
physics = S
velset = 0,0
anim=5051
ctrl = 0
sprpriority = 2

[State 0, LifeAdd]
type = LifeAdd
trigger1 = Time = 0
value = -200
kill = 1
absolute = 0
ignorehitpause = 1
persistent = 1


[State 0, Turn]
type = Turn
trigger1 = p2dist x < 0 
trigger1=time=0
ignorehitpause =1
persistent =  1
[State 0, PosSet]
type = PosSet
trigger1 = time=0
y =enemy,pos y
ignorehitpause =1
persistent =1

[State 0, VelSet]
type = VelSet
trigger1 =(time>5) ;&& backedgedist > 10
x = -2
ignorehitpause =1
persistent =  1
[State 0, VelSet]
type = VelSet
trigger1 =time=5 ;&& backedgedist > 10
y = -4
ignorehitpause =1
persistent =  1
[State 0, Gravity]
type = Gravity
trigger1 =time>15
ignorehitpause = 1
persistent =1 


[State 62023, end]
type = selfstate
trigger1 = pos y >=0 && time>10
value = 5050
ctrl = 0

[StateDef 22005]
type = A
movetype= H
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 5001
poweradd = 0
sprpriority = -6

[State 0, LifeAdd]
type = LifeAdd
trigger1 = Time = 0
value = -270
kill = 1
absolute = 0
ignorehitpause = 1
persistent = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 =time%20=1 
time =70 
add = -100,-100,-100
mul = 250,224,120
sinadd = -10,-10,-10,10
invertall = 0
color = 256

[State 0, PlayerPush]
type = PlayerPush
trigger1 =enemy,numhelper(6310)=1 &&  enemy,cond(numhelper(6310),helper(6310),cond(1,stateno!=6310 , 0),0)
value = 1
ignorehitpause =1
persistent =  1

[State 0, NotHitBy]
type = NotHitBy
trigger1 =enemy,numhelper(6310)=1 &&  enemy,cond(numhelper(6310),helper(6310),cond(1,stateno=6310 , 0),0)
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause =1
persistent =1

[State 0, Posset]
type = Posset
trigger1 =enemy,numhelper(6310)=1 && enemy,cond(numhelper(6310),helper(6310),cond(1,stateno=(6310) , 0),0)
x = enemy,cond(numhelper(6310),helper(6310),cond(1,pos x+30*facing , 0),0)
y = enemy,cond(numhelper(6310),helper(6310),cond(1,pos y+30 , 0),0)
ignorehitpause = 1
persistent =1


[State 22005, end]
type = Selfstate
trigger1 =time=80
value = 5050
ctrl = 0

[StateDef 22006]
type = A
movetype= H
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = cond(selfanimexist(5051),5051,5050)
poweradd = 0
sprpriority = -6

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = vel y > 0 && anim!=5061
value = 5061
ignorehitpause = 1
persistent = 1


[State 0, PlayerPush]
type = PlayerPush
trigger1 =1
value = 1
ignorehitpause =1
persistent =  1

[State 0, NotHitBy]
type = NotHitBy
trigger1 =1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause =1
persistent =1

[State 0, VelSet]
type = VelSet
trigger1 =time>5 && time<10
y = -8
ignorehitpause =1
persistent =  1

[State 0, VelSet]
type = VelSet
trigger1 =time>5
x = -1
ignorehitpause =1
persistent =  1

[State 0, Gravity]
type = Gravity
trigger1 =time>=10
ignorehitpause =1
persistent =  1

[State 22006, end]
type = changestate
trigger1 =pos y > 0 && time>10
value = 22007
ctrl = 0

[StateDef 22007]
type = A
movetype= H
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 5110
poweradd = 0
sprpriority = -6

[State 0, PlayerPush]
type = PlayerPush
trigger1 =1
value = 1
ignorehitpause =1
persistent =  1

[State 0, NotHitBy]
type = NotHitBy
trigger1 =1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause =1
persistent =1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0
ignorehitpause = 1
persistent = 1


[State 22006, end]
type =selfstate
trigger1 =time=40
value = cond(life>0,5120,5110)
ctrl = 0
;-------------------------------------------------------------------------------
[Statedef 3100]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3100
poweradd = -2000
sprpriority = 2

[state 0]
type = helper
trigger1 = time = 0
stateno = 8510
id = 8510
pos = 0, 0
ownpal = 1
postype = p1
supermovetime = 999
pausemovetime = 999

[State 3000,Super Charge]
Type = Helper
Trigger1 =! Time
HelperType = Normal
ID = 900
Stateno = 900
Name = "Super Charge"
PosType = p1
Pos = 3,-25
Facing = Cond(Random<500,1,-1)
Keyctrl = 0
Ownpal = 1
Size.XScale = .50
Size.YScale = .50
IgnoreHitPause = 1
PERSISTENT = 0
SuperMoveTime = 99999
PauseMoveTime = 99999
[State 3000, PlaySnd - Super Charge]
Type = PlaySnd
Trigger1 = Time = 0
Value = S950,1
[State 3000, PlaySnd - Super Charge]
Type = PlaySnd
Trigger1 = Time = 0
Value = S950,1

[State 3000, SuperPause]
Type = SuperPause
Trigger1 = Time = 0
Time = 80
MoveTime = 80
Anim = -1
Sound = -1
Pos = 32,-80
Darken = 0
UnHitTable = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = animelemtime(2)>=2 && AnimelemTime(4)<=0
trigger1 = P2BodyDist x < 30
value = anim
elem = 5
Persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(1)=0
value = S6,30
[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(1)=0
value = S6,30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(5)=0
value = S6,15
[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(5)=0
value = S0,15

[State 0, PlaySnd]
Type = PlaySnd
Trigger1 = AnimElemTime(5)=0
Value = S40,2
Volume = 999

[State 0,VelSet]
type = VelSet
trigger1 = AnimElemTime(3)=0
x = 18
y = 0
ignorehitpause = 1
PERSISTENT = 0

[State 0,VelSet]
type = VelSet
triggerAll = AnimElemTime(3)=0
Trigger1 = P2BodyDist x < 30
x = 12
y = 0
ignorehitpause = 1
PERSISTENT = 0

[State 0,VelSet]
type = VelSet
trigger1 = AnimElemTime(4)=0
x = 16
y = 0
ignorehitpause = 1
PERSISTENT = 0

[State 0,VelSet]
type = VelSet
trigger1 = AnimElemTime(5)=0
x = 6
y = -3
ignorehitpause = 1
PERSISTENT = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(5)=0
statetype = A
movetype =A
physics = A

[State 0,VelSet]
type = VelSet
trigger1 = AnimElemTime(6)=0
x = 2
y = -0
ignorehitpause = 1
PERSISTENT = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(6)=0
statetype = A
movetype =A
physics = N

[State 0,VelSet]
type = VelSet
trigger1 = Movecontact = 1
x = 1
y = -0
ignorehitpause = 1
PERSISTENT = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(6)=0
value = S4,2


[State 0, Hit]
type = PlaySnd
trigger1 = MoveHit = 1
value = S1,135
volumescale = 100
ignorehitpause = 1
Persistent = 0

[State 200, 1]
type = HitDef
trigger1 =! MoveContact
attr = S,NA
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = Heavy
fall.animtype = Heavy
damage = 20,8
pausetime = 14,12
guard.pausetime = 10,6
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -2
air.velocity = -2,-2
EnvShake.Time = 16
EnvShake.Ampl = -16
EnvShake.Freq = 16
fall = 0
GetPower = 52,22

[State 0, TargetState]
Type = TargetState
Triggerall = P2Stateno != [3120,3130]
Trigger1 = MoveHit = 1
Value = 3120

[State 200, Spark CVS]
type = Explod
trigger1 = Movehit = 1
anim = 7002
ID = 7002
postype = P1
pos = Cond((P2Dist X<30),P2Dist X+0,28),-22
facing = Cond(Random<500,1,-1)
angle = 0+random%360
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .33,.33
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause  = 1
PERSISTENT = 0

[State 0, Speed FX1]
type = Explod
trigger1 = Animelem = 5
anim = 98100
ID = 580
pos = -11,-5
postype = p1
facing = 1
vfacing = 1
bindtime = 5
removetime = -2
scale = .3,.2
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Angle = -50

[State 0, Speed FX1]
type = Explod
trigger1 = Animelem = 7
anim = 98100
ID = 580
pos = 10,-13
postype = p1
facing = 1
vfacing = 1
bindtime = 5
removetime = -2
scale = .15,.15
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Angle = 100

[State 0,Explod]
type = Explod
trigger1 =! Time
anim = 890
ID = 890
pos = -5,2
postype = p1
facing = 1
vfacing = 1
scale = .28,.3
bindtime = 0
removetime = -2
ontop = 0
ownpal = 1
sprpriority = 3
vel = -0.5,0
ignorehitpause = 1
removeongethit = 0
supermovetime = 99999
pausemovetime = 99999
trans = AddAlpha
Alpha = 225,256

[State 0,Explod]
type = Explod
trigger1 = Animelem = 5
anim = 890
ID = 890
pos = -5,2
postype = p1
facing = 1
vfacing = 1
scale = .32,.35
bindtime = 0
removetime = -2
ontop = 0
ownpal = 1
sprpriority = 3
vel = -0.5,0
ignorehitpause = 1
removeongethit = 0
supermovetime = 99999
pausemovetime = 99999
trans = AddAlpha
Alpha = 225,256

[State 200, Combo]
Type = ChangeState
Trigger1 =! AnimTime && p2stateno = 3120
Value = 3101
Ctrl = 0

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 3101]
type    = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 3101
poweradd = -1000
sprpriority = 2

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 23
x = 20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 11
value = S2001,1

[State 0, Super Dash - Charge FX]
type = Helper
trigger1 = time = [11,23]
name = "Super Dash - Charge FX"
ID = 764
stateno = 764
pos = 0,-0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .075
size.yscale = .075
Persistent = 0
supermovetime = 999
pausemovetime = 999

[State 0, Final Chase - Aura BG]
type = Helper
trigger1 = time = 23
name = "Final Chase - Aura BG"
ID = 550
stateno = 3114
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .25
size.yscale = .3
supermovetime = 99999
pausemovetime = 99999

[State 0, Final Chase - Aura]
type = Helper
trigger1 = time = 23
name = "Final Chase - Aura"
ID = 550
stateno = 3115
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .25
size.yscale = .25
supermovetime = 99999
pausemovetime = 99999

[State 200, Combo]
Type = ChangeState
Trigger1 =! AnimTime && p2stateno = 3120
Value = 3102
Ctrl = 0

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 3102]
type    = S
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 3102
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = noBG
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, ChangeAnim]
type = ChangeAnim
Triggerall = time = [0,10]
Trigger1 = timemod = 10,0
value = anim
elem = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = animelemtime(2) < 0
triggerall = p2bodydist x < -5
trigger1 = time = [0,80]
value = anim
elem = 3
Persistent = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = ifelse(enemy,facing = 1,130,-130)
y = -25

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 10

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 0

[State 0, Hit]
type = PlaySnd
trigger1 = Animelem = 4
value = S2,0
volumescale = 100
ignorehitpause = 1
Persistent = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 4
time = 10

[State 0, HitAdd]
type = HitAdd
trigger1 = animelem = 4
value = 1

[State 200, Spark CVS]
type = Explod
trigger1 = animelem = 4
anim = 7002
ID = 7002
postype = P1
pos = Cond((P2Dist X<30),P2Dist X+0,28),-22
facing = Cond(Random<500,1,-1)
angle = 0+random%360
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .33,.33
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause  = 1
PERSISTENT = 0

[State 200, Combo]
Type = ChangeState
Trigger1 =! AnimTime && p2stateno = 3122
Value = 3103
Ctrl = 0

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 3103]
type    = S
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 3103
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = noBG
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 5
time = 15

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 5
y = -2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 0
y = -0

[State 0, Hit]
type = PlaySnd
trigger1 = Animelem = 5
value = S2,3
volumescale = 100
ignorehitpause = 1
Persistent = 0

[State 0, HitAdd]
type = HitAdd
trigger1 = animelem = 5
value = 1

[State 200, Spark CVS]
type = Explod
trigger1 = Animelem = 5
anim = 7002
ID = 7002
postype = P1
pos = Cond((P2Dist X<30),P2Dist X+0,28),-22
facing = Cond(Random<500,1,-1)
angle = 0+random%360
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .33,.33
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause  = 1
PERSISTENT = 0

[State 200, Combo]
Type = ChangeState
Trigger1 =! AnimTime && p2stateno = 3123
Value = 3104
Ctrl = 0

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 3104]
type    = S
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 3104
sprpriority = 2

[State 0, Helper]
type = Helper
trigger1 = Animelem = 1
helpertype = normal ;player
name ="roca" 
ID = 9911
stateno = 9911
pos = 0,0
postype = p1    
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause =1
persistent = 1

[State 0, FX Raio]
type = Explod
triggerALL = AnimElemTime(3)>=0
trigger1 = timemod = 4,0
anim = 806
ID = 563
pos = -50+random%100,30-Random%20
postype = p1
facing = ifelse(random < 500,1,-1)
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 2
scale = .5,.5
ontop = ifelse(random < 500,1,-1)
ownpal = 1
removeongethit = 1
supermovetime = 999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = noBG
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 5
value = S10,16
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 5
value = S10,16
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 60
value = S10,14
volumescale = 100
channel = -1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 60
value = S10,14
volumescale = 100
channel = -1

[State 0, ChangeAnim]
type = ChangeAnim
Triggerall = time = [26,75]
Trigger1 = timemod = 3,0
value = anim
elem = 7

[State 0, ChangeAnim]
type = ChangeAnim
Triggerall = time = [75,125]
Trigger1 = timemod = 6,0
value = anim
elem = 8

[State 0,Turn]
type = Turn
trigger1 = p2dist x < 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = -0

[State 0, Final Flash - Charge]
type = Helper
trigger1 = Time = 26
name = "Final Flash - Charge"
ID = 3130
stateno = 3130
facing = 1
postype = p1
ownpal = 1
size.xscale = .085
size.yscale = .085
Supermovetime = 999

[State 0, Final Flash - Helper]
type = Helper
trigger1 = time = 75
name = "Final Flash - Helper"
ID = 3150
stateno = 3150
pos = 0,0
postype = p1
ownpal = 1
size.xscale = 1.2
size.yscale = 1.2

[State 200, Combo]
Type = ChangeState
Trigger1 =! AnimTime && p2stateno = 3124
Value = 3105
Ctrl = 0

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 3105]
type    = S
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time <= 118
flag = nobardisplay
flag2 = noBG
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = ifelse(enemy,facing = 1,295,-295)
y = -25

[State 0, Final Flash - Helper]
type = Helper
trigger1 = time = 5
name = "Final Flash - Helper"
ID = 3150
stateno = 3150
pos = 0,0
postype = p1
facing = 1
ownpal = 1
persistent = 0
size.xscale = 1.2
size.yscale = 1.2

[State 0, PlaySnd]
type = PlaySnd
triggerAll = time = [8,118]
trigger1 = timemod = 8,0
value = S3,6

[State 0, Final Flash - Skill Hitspark]
type = Helper
trigger1 = time = [8,118]
name = "Final Flash - Skill Hitspark"
ID = 3168
stateno = 3168
pos = -10+random%20,0-random%35
postype = P2
facing = -1
ownpal = 1
Size.Xscale = .3
Size.Yscale = .3
PERSISTENT = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 118
value = S3,10
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 118
value = S3,10

[State 0, HitAdd]
type = HitAdd
triggerAll = time = [8,118]
trigger1 = timemod = 8,0
value = 1

[State 0, HitAdd]
type = HitAdd
trigger1= time = 118
value = 1

[State 0, Final Flash - Explosion FXADD]
type = Helper
triggerall = Numexplod(3165) = 0
trigger1 = time = 118
name = "Final Flash - Explosion FXADD"
ID = 3165
stateno = 3165
pos = 0,-30
postype = p2
facing = Cond(Random<500,1,-1)
keyctrl = 0
ownpal = 1
size.xscale = .75
size.yscale = .75

[State 0, Explosion]
type = Explod
triggerall = Numexplod(9023) = 0
trigger1 = time = 118
anim = 9023
ID = 9023
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 200, End]
type = ChangeState
trigger1 = time = 135
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 3106]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3106
poweradd = -2000
sprpriority = 2

[State 3000, SuperPause]
Type = SuperPause
Trigger1 = Time = 0
Time = 80
MoveTime = 80
Anim = -1
Sound = -1
Pos = 32,-80
Darken = 0
UnHitTable = 1

; Ultimate Portrait
[State 0, Ultimate Portrait]
Type = Helper
Trigger1 = Time = 0
Stateno = 8052
ID = 8052
Pos = 0,-80
Ownpal = 1
Postype = p1
PauseMoveTime = 99999
SuperMoveTime = 99999


[State 0, ChangeAnim]
type = ChangeAnim
triggerall = animelemtime(2)>=2 && AnimelemTime(4)<=0
trigger1 = P2BodyDist x < 30
value = anim
elem = 5
Persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(5)=0
value = S0,70
[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(5)=0
value = S0,70

[State 0, PlaySnd]
Type = PlaySnd
Trigger1 = AnimElemTime(5)=0
Value = S40,3
Volume = 999

[State 0,VelSet]
type = VelSet
trigger1 = AnimElemTime(3)=0
x = 12
y = 0
ignorehitpause = 1
PERSISTENT = 0

[State 0,VelSet]
type = VelSet
triggerAll = AnimElemTime(3)=0
Trigger1 = P2BodyDist x < 30
x = 6
y = 0
ignorehitpause = 1
PERSISTENT = 0

[State 0,VelSet]
type = VelSet
trigger1 = AnimElemTime(4)=0
x = 16
y = 0
ignorehitpause = 1
PERSISTENT = 0

[State 0,VelSet]
type = VelSet
trigger1 = AnimElemTime(5)=0
x = 6
y = -1
ignorehitpause = 1
PERSISTENT = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(5)=0
statetype = A
movetype =A
physics = A

[State 0,VelSet]
type = VelSet
trigger1 = AnimElemTime(6)=0
x = 2
y = -0
ignorehitpause = 1
PERSISTENT = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(6)=0
statetype = A
movetype =A
physics = N

[State 0,VelSet]
type = VelSet
trigger1 = Movecontact = 1
x = 1
y = -0
ignorehitpause = 1
PERSISTENT = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(6)=0
value = S5,1

[State 0, Hit]
type = PlaySnd
trigger1 = MoveHit = 1
value = S1,135
volumescale = 100
ignorehitpause = 1
Persistent = 0

[State 200, 1]
type = HitDef
trigger1 =! MoveContact
attr = S,NA
hitflag = MAF
guardflag = MA
animtype = Heavy
air.animtype = Heavy
fall.animtype = Heavy
damage = 20,8
pausetime = 14,12
guard.pausetime = 10,6
guard.sparkno = s7000
sparkxy = -8,-25
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -2
air.velocity = -2,-2
EnvShake.Time = 16
EnvShake.Ampl = -16
EnvShake.Freq = 16
fall = 0
GetPower = 52,22

[State 0, TargetState]
Type = TargetState
Triggerall = P2Stateno != [3120,3130]
Trigger1 = MoveHit = 1
Value = 3120

[State 200, Spark CVS]
type = Explod
trigger1 = Movehit = 1
anim = 7260
ID = 7260
postype = P1
pos = Cond((P2Dist X<30),P2Dist X+0,28),-22
facing = Cond(Random<500,1,-1)
angle = 0+random%360
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3*0.80,.3*0.80
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause  = 1
PERSISTENT = 0

[State 0, Speed FX1]
type = Explod
trigger1 = Animelem = 5
anim = 580
ID = 580
pos = -11,-5
postype = p1
facing = 1
vfacing = 1
bindtime = 5
removetime = -2
scale = .3,.2
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Angle = -50

[State 0, Speed FX1]
type = Explod
trigger1 = Animelem = 7
anim = 580
ID = 580
pos = 10,-13
postype = p1
facing = 1
vfacing = 1
bindtime = 5
removetime = -2
scale = .15,.15
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Angle = 100

[State 200, Combo]
Type = ChangeState
Trigger1 =! AnimTime && p2stateno = 3120
Value = 3101
Ctrl = 0

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 3114]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 556
sprpriority = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 22,-16

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 90

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0,VarSet]
type = VarSet
trigger1 =! Time
v = 2
value = 0
ignorehitpause = 1

[State 0,VarAdd]
type = VarAdd
trigger1 = VAR(2)<0
v = 2
value = 25
ignorehitpause = 1

[State 0,VarAdd]
type = VarAdd
trigger1 = Parent,StateNo != 3101
trigger2 = Parent,StateNo = 3102
trigger2 = root,AnimelemTime(3)>=0
v = 2
value = 25
ignorehitpause = 1

[State 0,Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-VAR(2),256
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = var(2) >= 256
ignorehitpause = 1
;-------------------------------------------------------------------------------
[Statedef 3115]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 555
sprpriority = 4

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 22,-16

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 90

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Root,StateNo != 3101
trigger1 = Root,StateNo != 3102
id = 550

[State 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 6312
ID = 9022
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0,VarSet]
type = VarSet
trigger1 =! Time
v = 2
value = 0
ignorehitpause = 1

[State 0,VarAdd]
type = VarAdd
trigger1 = VAR(2)<0
v = 2
value = 25
ignorehitpause = 1

[State 0,VarAdd]
type = VarAdd
trigger1 = Parent,StateNo != 3101
trigger2 = Parent,StateNo != 3102
trigger2 = root,AnimelemTime(3)=0
v = 2
value = 25
ignorehitpause = 1

[State 0,Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-VAR(2),256
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = var(2) >= 256
ignorehitpause = 1
;-------------------------------------------------------------------------------
[Statedef 3120]
type    = A
movetype= H
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -16
y = -0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5030+var(10)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 200, End]
type = ChangeState
trigger1 = P2StateNo = 3102
value = 3122

[State 200,Failsafe]
type = SelfState
trigger1 = P2StateNo != 3100 && Time >= 80 
trigger1 = P2StateNo != 3106 && Time >= 80 
value = 5050
;-------------------------------------------------------------------------------
[Statedef 3122]
type    = A
movetype= H
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5030+var(10)
elem = 1
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = enemy,anim = 3102 && enemy,animelem = 4
value = 5020+var(10)
elem = 1

[State 0,ScreenBound]
Type = ScreenBound
Trigger1 = 1
Value = 0
MoveCamera = 0,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -10

[State 0, VelSet]
type = VelSet
Trigger1= time = 10
x = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = ifelse(enemy,facing = 1,-95,95)
y = -45

[State 0, LifeAdd]
type = LifeAdd
trigger1 = enemy,anim = 3102 && enemy,animelem = 4
value = -700
kill = 0

[State 200, End]
type = ChangeState
trigger1 = p2stateno = 3103
value = 3123
;-------------------------------------------------------------------------------
[Statedef 3123]
type    = A
movetype= H
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5020+var(10)
elem = 1
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = enemy,anim = 3102 && enemy,animelem = 5
value = 5030+var(10)
elem = 1

[State 0,ScreenBound]
Type = ScreenBound
Trigger1 = 1
Value = 0
MoveCamera = 0,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0

[State 0, VelSet]
type = VelSet
Trigger1= enemy,anim = 3103 && enemy,animelem = 5
x = 15

[State 0, LifeAdd]
type = LifeAdd
trigger1 = enemy,anim = 3103 && enemy,animelem = 5
value = -50
kill = 0

[State 200, End]
type = ChangeState
trigger1 = p2stateno = 3104
value = 3124
;-------------------------------------------------------------------------------
[Statedef 3124]
type    = A
movetype= H
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5030+var(10)
elem = 1

[State 0,ScreenBound]
Type = ScreenBound
Trigger1 = 1
Value = 0
MoveCamera = 0,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -10

[State 0, VelSet]
type = VelSet
Trigger1= enemy,anim = 3104 && enemy,animelem = 6
x = 0

[State 200, End]
type = ChangeState
trigger1 = p2stateno = 3105
value = 3125
;-------------------------------------------------------------------------------
[Statedef 3125]
type    = A
movetype= H
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5030+var(10)
elem = 1

[State 0,ScreenBound]
Type = ScreenBound
Trigger1 = 1
Value = 0
MoveCamera = 0,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -5

[State 0, VelSet]
type = VelSet
Trigger1= time = 10
x = -1

[State 0, VelSet]
type = VelSet
Trigger1= time = 15
x = -0.5

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = ifelse(enemy,facing = 1,-70,70)
y = -35

[State 0, LifeAdd]
type = LifeAdd
triggerAll = time = [8,118]
trigger1 = timemod = 8,0
value = -10
kill = 0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 118
value = -205
kill = 1

[State 200, End]
type = ChangeState
trigger1 = time = 120
value = 455
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 3130]
type = A
movetype = I
physics = N
juggle = 1
velset = 0,0
ctrl = 0
anim = 3130
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 14,-36

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time >= 0
scale = 4+time*.015,4+time*.015
value = 0+time*5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time >= 10
scale = 1,1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, Final Flash - Charge Rayos]
type = Helper
trigger1 =! Time
name = "Final Flash - Charge Rayos"
ID = 3133
stateno = 3133
facing = 1
postype = p1
ownpal = 1
size.xscale = .110
size.yscale = .110
Supermovetime = 999

[State 0, Final Flash - Honda FX]
type = Helper
trigger1 = Root,time = 60
name = "Final Flash - Honda FX"
ID = 3135
facing = 1
stateno = 3135
pos = 0,0
postype = p1
ownpal = 1
size.xscale = 2
size.yscale = 2
Supermovetime = 999

[State 200, End]
type = Destroyself
trigger1 = Root,stateno != 3104

[State 200, End]
type = Destroyself
Triggerall= Root,Stateno = 3104
trigger1 = Root,Animelem = 8
;-------------------------------------------------------------------------------
[Statedef 3133]
type = A
movetype = I
physics = N
juggle = 1
velset = 0,0
ctrl = 0
anim = 504
sprpriority = 3

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,-0

[State 0, VarSet]
type = VarSet
trigger1 = !Time
Fv = 1
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time >= 0
scale = 2+time*.015,2+time*.015
value = Fvar(1)+time*.5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time >= 10
scale = 1,1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = Root,stateno != 3104

[State 200, End]
type = Destroyself
Triggerall= Root,Stateno = 3104
trigger1 = Root,Animelem = 8
;-------------------------------------------------------------------------------
[Statedef 3135]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3135
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,14

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time <= 8
value = 0
scale = .25-time*.035,.25-time*.035

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time >= 8
value = 0
scale = .025,.025

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 300-(time*25),256

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,-0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = Root,stateno != 3104
;-------------------------------------------------------------------------------
[Statedef 3140]
type = S
movetype = I
physics = N
juggle = 1
velset = 0,0
ctrl = 0
anim = 3140
sprpriority = 3

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = -1
add = 0,0,0
mul = 356,356,356
color = 256

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = -15,0

[State 0, VarAdd]
type = VarAdd
triggerall = Root,StateNo = 3105
trigger1 = Time >= 100
fv = 9
value = .015

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .15,.175-Fvar(9)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = AddAlpha
Alpha = 256,256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Root,StateNo != 3104

[State 0, DestroySelf]
type = DestroySelf
triggerall = Root,StateNo = 3105
trigger1 = Time >= 110
trigger2 = Root,StateNo != 3105
;-------------------------------------------------------------------------------
[Statedef 3141]
type = S
movetype = I
physics = N
juggle = 1
velset = 0,0
ctrl = 0
anim = 3140
sprpriority = 0

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = -1
add = 0,0,0
mul = 0,450,512
color = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = -15,0

[State 0, VarAdd]
type = VarAdd
triggerall = Root,StateNo = 3105
trigger1 = Time >= 100
fv = 9
value = .015

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .15,.175-Fvar(9)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Root,StateNo != 3104

[State 0, DestroySelf]
type = DestroySelf
triggerall = Root,StateNo = 3105
trigger1 = Time >= 110
trigger2 = Root,StateNo != 3105
;-------------------------------------------------------------------------------
[Statedef 3145]
type = S
movetype = I
physics = N
juggle = 1
velset = 0,0
ctrl = 0
anim = 3145
sprpriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = !Time
Fv = 1
value = random%360

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 10

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .2-Root,FVar(10)/1500,.2-Root,FVar(10)/1500
value = Fvar(1)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = AddAlpha
Alpha = 300-Root,FVar(10),256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !AnimTime
;-------------------------------------------------------------------------------
[Statedef 3150]
type = A
movetype = A
physics = N
juggle = 1
velset = 0,0
ctrl = 0
anim = 3150
sprpriority = 9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,48
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,48

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,18
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,18

[State 0, EnvShake]
type = EnvShake
triggerall = Time <= 60
trigger1 = timemod = 9,0
time = 8

[State 0, BindToRoot]
type = BindToRoot
trigger1=1
pos = 27,-36
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, Final Flash - FX SUB]
type = Helper
trigger1 = Time = 0
name = "Final Flash - FX SUB"
ID = 3141
stateno = 3141
pos = 0,0
facing = 1
postype = p1
ownpal = 1
IgnoreHitPause = 1

[State 0, Final Flash - Beam FX SUB]
type = Helper
trigger1 = Time = 0
name = "Final Flash - Beam FX SUB"
ID = 3157
stateno = 3157
pos = 0,0
facing = 1
postype = p1
ownpal = 1
IgnoreHitPause = 1

[State 0, Final Flash - FX ADD]
type = Helper
trigger1 = Time = 0
name = "Final Flash - FX ADD"
ID = 3140
stateno = 3140
pos = 0,0
facing = 1
postype = p1
ownpal = 1
IgnoreHitPause = 1

[State 0, Final Flash - Beam FX]
type = Helper
trigger1 = Time = 0
name = "Final Flash - Beam FX"
ID = 3155
stateno = 3155
pos = 0,0
facing = 1
postype = p1
ownpal = 1
IgnoreHitPause = 1

[State 0, Final Flash - Beam FX II]
type = Helper
trigger1 = Time = 0
name = "Final Flash - Beam FX II"
ID = 3156
stateno = 3156
pos = 0,0
facing = 1
postype = p1
ownpal = 1
IgnoreHitPause = 1

[State 0, Final Flash - Helper Rayos]
type = Helper
Triggerall = Time >= 1
trigger1 = Time%5 = 0
name = "Final Flash - Helper Rayos"
ID = 3145
stateno = 3145
pos = 10,0
facing = 1
postype = p1
ownpal = 1
IgnoreHitPause = 1

[State 0, Final Flash - Helper Rayos]
type = Helper
Triggerall = Time >= 3
trigger1 = Time%5 = 0
name = "Final Flash - Helper Rayos"
ID = 3145
stateno = 3145
pos = 100,0
facing = 1
postype = p1
ownpal = 1
IgnoreHitPause = 1

[State 0, Final Flash - Helper Rayos]
type = Helper
Triggerall = Time >= 5
trigger1 = Time%5 = 0
name = "Final Flash - Helper Rayos"
ID = 3145
stateno = 3145
pos = 200,0
facing = 1
postype = p1
ownpal = 1
IgnoreHitPause = 1

[State 0, Final Flash - Helper Rayos]
type = Helper
Triggerall = Time >= 8
trigger1 = Time%5 = 0
name = "Final Flash - Helper Rayos"
ID = 3145
stateno = 3145
pos = 300,0
facing = 1
postype = p1
ownpal = 1
IgnoreHitPause = 1

[State 0, Final Flash - Helper Rayos]
type = Helper
Triggerall = Time >= 10
trigger1 = Time%5 = 0
name = "Final Flash - Helper Rayos"
ID = 3145
stateno = 3145
pos = 400,0
facing = 1
postype = p1
ownpal = 1
IgnoreHitPause = 1

[State 0, Final Flash - Helper Rayos]
type = Helper
Triggerall = Time >= 12
trigger1 = Time%5 = 0
name = "Final Flash - Helper Rayos"
ID = 3145
stateno = 3145
pos = 500,0
facing = 1
postype = p1
ownpal = 1
IgnoreHitPause = 1

[State 0, Final Flash - Helper Rayos]
type = Helper
Triggerall = Time >= 14
trigger1 = Time%5 = 0
name = "Final Flash - Helper Rayos"
ID = 3145
stateno = 3145
pos = 600,0
facing = 1
postype = p1
ownpal = 1
IgnoreHitPause = 1

[State 0, Final Flash - Helper Rayos]
type = Helper
Triggerall = Time >= 16
trigger1 = Time%5 = 0
name = "Final Flash - Helper Rayos"
ID = 3145
stateno = 3145
pos = 700,0
facing = 1
postype = p1
ownpal = 1
IgnoreHitPause = 1

[State 200, HitDef]
type = HitDef
trigger1 = timemod = 4,0
attr = S,NP
animtype = Heavy
damage = 90,5
Hitflag = MAF
guardflag = MA
pausetime = 0,3
sparkxy = 0,0
hitsound = S1,12
guardsound = S1,12
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -4
air.velocity = -4,-1
kill = 0
Fall = 0
Fall.Recover = 0
Ground.CornerPush.VelOff = 0
Getpower = 0,0
sprpriority = 3

[State 0, Final Flash - Skill Hitspark]
type = Helper
trigger1 = Movehit = 1
name = "Final Flash - Skill Hitspark"
ID = 3168
stateno = 3168
pos = -10+random%20,0-random%35
postype = P2
facing = -1
ownpal = 1
Size.Xscale = .3
Size.Yscale = .3

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Root,StateNo != 3104  &&  Root,Time >= 130
trigger2 = Root,Time >= 130

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Root,StateNo != 3105  && time = 100
trigger2 = Root,Time >= 100
;-------------------------------------------------------------------------------
[Statedef 3155]
type = S
movetype = I
physics = S
velset = 0,0
ctrl = 0
anim = 3155
sprpriority = 9

[State 0, PosSet]
type = PosSet
trigger1 =time>0
x = (root,pos x +25*facing)
y = root,pos y -34
ignorehitpause =1 
persistent =1 

[State 0, AngleDraw]
type = AngleDraw
trigger1 =1
scale = -((((helper(6650),pos x))-helper(6610),pos x -10*facing )/1218)*facing, .12-time*.02
ignorehitpause =1 
persistent =1 

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID=6652
ignorehitpause =1
scale=-((((helper(6650),pos x))-helper(6610),pos x -10*facing )/1218)*facing, .12-time*.02
persistent =1
ignorehitpause=1
supermove = 99
pausemove = 99

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =time>5 
id = 6652
ignorehitpause =1 
persistent =1 

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,movetype = H
trigger2 = Root,StateNo != 3104
trigger2 = Root,StateNo != 3105

[State 0, DestroySelf]
type = DestroySelf
triggerall = Root,StateNo = 3104
trigger1 = Root,Time >= 130

[State 0, DestroySelf]
type = DestroySelf
triggerall = Root,StateNo = 3105
trigger1 = Time >= 118
;-------------------------------------------------------------------------------
[Statedef 3156]
type = S
movetype = I
physics = N
juggle = 1
velset = 0,0
ctrl = 0
anim = 3155
sprpriority = 9

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 0, VarAdd]
type = VarAdd
triggerall = Root,StateNo = 3105
trigger1 = Time >= 108
fv = 7
value = .045

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .45,.45-Fvar(7)

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,movetype = H
trigger2 = Root,StateNo != 3104
trigger2 = Root,StateNo != 3105

[State 0, DestroySelf]
type = DestroySelf
triggerall = Root,StateNo = 3104
trigger1 = Root,Time >= 130

[State 0, DestroySelf]
type = DestroySelf
triggerall = Root,StateNo = 3105
trigger1 = Time >= 118
;-------------------------------------------------------------------------------
[Statedef 3157]
type = S
movetype = I
physics = N
juggle = 1
velset = 0,0
ctrl = 0
anim = 3150
sprpriority = -1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 0, VarAdd]
type = VarAdd
triggerall = Root,StateNo = 3105
trigger1 = Time >= 108
fv = 8
value = .045

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .45,.45-Fvar(8)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,movetype = H
trigger2 = Root,StateNo != 3104
trigger2 = Root,StateNo != 3105

[State 0, DestroySelf]
type = DestroySelf
triggerall = Root,StateNo = 3104
trigger1 = Root,Time >= 130

[State 0, DestroySelf]
type = DestroySelf
triggerall = Root,StateNo = 3105
trigger1 = Time >= 118
;-------------------------------------------------------------------------------
[Statedef 3160]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time > 10
v = 2
value = 25

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(2),256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = A, SP
animtype  = Heavy
damage    = 90,1
Hitflag = MAFD
guardflag = MA
pausetime = 0,10
hitsound   = S5,27
guardsound = S1,12
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-8
air.velocity = -6,-8
Envshake.time = 25
Fall = 1
Fall.recover = 0
Getpower = 0,0
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 0,Wall Rush]
type = TargetState
TRIGGERALL = enemy,stateno != [8305,8306]
trigger1 = movehit = 1
value = 8305
Persistent = 0

[State 0, Final Flash - Explosion FXADD]
type = Helper
triggerall = Numexplod(3165) = 0
trigger1 = Movehit = 1
name = "Final Flash - Explosion FXADD"
ID = 3165
stateno = 3165
pos = 0,-30
postype = p2
facing = Cond(Random<500,1,-1)
keyctrl = 0
ownpal = 1
size.xscale = .75
size.yscale = .75

[State 0, Explosion]
type = Explod
triggerall = Numexplod(6312) = 0
trigger1 = Movehit = 1
anim = 6312
ID = 6312
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 1
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time > 20
fv = 1
value = .1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1,1-fvar(1)
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = 20
;-------------------------------------------------------------------------------
[Statedef 3165]
type = A
movetype = I
physics = N
anim = 3165
sprpriority = 4

[State 0, VarSet]
type = VarSet
trigger1 = Time = 0
Fv = 10
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = Fvar(10)+(time*.5)
scale = 1+time*.025,1+time*.025

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 300-(time*10),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = !AnimTime
;-------------------------------------------------------------------------------
[Statedef 3168]
type    = A
movetype= I
physics = N
anim = 7624
sprpriority = 5

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = Var(1)
scale = 1+time*.05,1+time*.05

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Animtime = 0
;-------------------------------------------------------------------------------
[statedef 8052]
type     = A
movetype = I
physics  = N
anim = 9999

[state 0,Envshake]
type = Envshake
trigger1 = time = 0
time = 25
ampl = -7
freq = 25

[state 0,Playsnd]
type = Playsnd
trigger1 = time = 0
value = s950,8
[state 0,Playsnd]
type = Playsnd
trigger1 = time = 0
value = s950,8
[state 0,Playsnd]
type = Playsnd
trigger1 = time = 0
value = s950,2

[state 0,Explod]
type = Explod
trigger1 = time = 0
anim = 4010
id = 4010
pos = 160,90
postype = back
facing = 1
bindtime = 1
removetime = -2
sprpriority = 128
scale = .5,.5
angle = 0
ownpal = 0
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

[state 0,Helper]
type = Helper
trigger1 = time = 0
stateno = 8062
id = 8062
Ownpal = 1
postype = p1
supermovetime = 999
pausemovetime = 999

[state 200,Destroyself]
type = Destroyself
trigger1 = time = 50
;-------------------------------------------------------------------------------
[statedef 8062]
type     = A
movetype = I
physics  = N
ctrl = 0
anim = 9999
sprpriority = -1

[state 0,Varset]
type = Varset
trigger1 = 1
v = 5
value = -100

[state 0,Bgpalfx]
type = Bgpalfx
trigger1 = 1
time = 1
add = var(5),var(5),var(5)

[state 0,Explod]
type = Explod
trigger1 = time = 0
anim = 8508
id = 4016
pos = 160,100
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
scale = .7,.5
sprpriority = 20
ownpal = 0
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
postype = back

[state 0,Explod]
type = Explod
trigger1 = time = 0
anim = 8503
id = 4016
pos = 160,100
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
scale = .7,.5
sprpriority = 20
ownpal = 0
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
postype = back

[state 0,Removeexplod]
type = Removeexplod
trigger1 = root,stateno != [3100,3106]
trigger1 = root,stateno != [3100,3106]
id = 4016

[state 0,Changestate]
type = Changestate
trigger1 = root,stateno != [3100,3106]
trigger1 = root,stateno != [3100,3106]
value = 8061
;-------------------------------------------------------
[statedef 8061]
type = A
movetype = I
physics = N
juggle = 1
velset = 0,0
ctrl = 0

[state 0,Varadd]
type = Varadd
trigger1 = 1
v = 5
value = 10

[state 0,Bgpalfx]
type = Bgpalfx
trigger1 = 1
time = 1
add = var(5),var(5),var(5)

[state 0,Destroyself]
type = Destroyself
trigger1 = time = 10

;-------------------------------------------------------------------------------
[Statedef 4000]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = -1

[State 0, Dark Screen - Speed Line]
type = Explod
trigger1 = time = 0
anim = 4000
ID = 4000
pos = 160,100
postype = back
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
scale = .7,.7
sprpriority = -1
ontop = 1
ownpal = 1
removeongethit = 1
trans = add
supermovetime = 999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno != [3000,3007]
trigger1 = root,stateno != [3100,3102]
id = 4000

[State 200, End]
type = Destroyself
trigger1 = root,stateno != [3000,3007]
trigger1 = root,stateno != [3100,3102]
;-------------------------------------------------------------------------------
[Statedef 4010]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 5
value = -100

[State 0, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 1
add = var(5),var(5),var(5)

[State 200, End]
type = ChangeState
trigger1 = root,stateno != [3000,3007]
trigger1 = root,stateno != [3100,3102]
value = 4011
;-------------------------------------------------------------------------------
[Statedef 4011]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 5
value = 10

[State 0, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 1
add = var(5),var(5),var(5)

[State 200, End]
type = Destroyself
trigger1 = time = 10

;-------------------------------------------------------------------------------
[Statedef 9911]
type = A
movetype = I
physics = N
juggle = 1
velset = 0,0
ctrl = 0
anim = 1900
sprpriority = 2

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -12,-5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time >= 0
scale = .2,.2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time >= 10
scale = 1,1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = Root,stateno != 3104

[State 200, End]
type = Destroyself
Triggerall= Root,Stateno = 3104
trigger1 = Time >= 140